function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();define("coreUtils/components/componentUtils",["lodash","coreUtilsLib","warmupUtils"],function(e,t,n){"use strict";function o(n){var o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.VIEW_MODES.DESKTOP)===r.VIEW_MODES.MOBILE;return e.mapValues(t.dataUtils.getAllCompsInStructure(n,o),function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(n,o,r,i){var a=o[t.dataUtils.getChildrenKey(o,n)];return e.forEach(a,function(e){i[e.id].parent=r}),a?e({components:e.map(a,"id")}).defaults(o).omit(["children","mobileComponents"]).value():e.omit(o,["children","mobileComponents","components"])}.apply(void 0,[o].concat(r))})}var r=n.constants;return{shouldBeRendered:function(t,n){return e.includes(t,n)||"masterPage"===n},getChildrenFromPageMap:function(t,n){return e.map(t.components,function(e){return n[e]})},convertNestedStructureToFlat:o}}),define("coreUtils/core/anchorTagsGenerator",["lodash","coreUtilsLib"],function(e,t){"use strict";function n(e){var t=a.document.createDocumentFragment().appendChild(a.document.createElement("div"));t.innerHTML=e;return{container:t,textNodes:o(t)}}function o(e,t){if(t=t||[],function(e){return e.nodeType===a.Node.TEXT_NODE}(e)&&t.push(e),function(e){return e.nodeType===a.Node.ELEMENT_NODE&&"a"===e.tagName.toLowerCase()}(e))return t;for(e=e.firstChild;e;)o(e,t),e=e.nextSibling;return t}function r(t,n){var o=[],r=t.parentNode,c=t.data,u=s.findAll(c,n);0!==u.length&&(e(u).orderBy("index","desc").forEach(function(t){o.push(a.document.createTextNode(c.slice(t.index+t.key.length))),o.push(function(t){var n=i(t),o=a.document.createElement("a");o.innerHTML=t.key,o.classList.add(n.className),e.forEach(e.omit(n,["className"]),function(e,t){o.setAttribute(t,e)});var r=a.document.createElement("object");return r.appendChild(o),r.setAttribute("height",0),r}(t)),c=c.slice(0,t.index)}),o.push(a.document.createTextNode(c)),e.forEach(o.reverse(),function(e){r.insertBefore(e,t)}),r.removeChild(t))}function i(t){var n={"data-auto-recognition":"true","data-content":t.key,className:"auto-generated-link"};switch(t.pattern){case s.Pattern.PHONE:return e.assign(n,{href:"tel:"+t.value,"data-type":"phone"});case s.Pattern.MAIL:return e.assign(n,{href:"mailto:"+t.value,"data-type":"mail"});case s.Pattern.URL:return e.assign(n,{href:t.value,target:"_blank","data-type":"external"});default:throw new Error("Unknown Pattern: "+t.pattern)}}var a=t.fragment,s=t.textPatternRecognizer,c=t.textPatternRecognizer.Pattern;return{generateAnchorsInHtml:function(t,o){if(!e.some(o))return t;var i=n(t);return e.forEach(i.textNodes,e.partial(r,e,o)),i.container.innerHTML},findDataForAnchors:function(t,o){if(!e.some(o))return[];var r=n(t);return e(r.textNodes).map("data").flatMap(e.partial(s.findAll,e,o)).map(i).value()},getIncludedPatterns:function(e,t){var n={};return n[c.PHONE]=t,n[c.MAIL]=!0,n[c.URL]=!0,n}}}),define("coreUtils/core/wixUserApi",["lodash","warmupUtils","coreUtilsLib"],function(e,t,n){"use strict";function o(e){var t=a.parseCookieString(e)[c];if(t){var n=t.split("|");return{userName:n[0],email:n[1],mailStatus:n[2],permissions:n[3],isSessionNew:n[4],isSessionValid:n[5],userID:n[6]}}return null}var r=t.languages,i=t.siteDataUtils,a=n.cookieUtils,s="wixLanguage",c="wixClient";return{getUsername:function(e){var t=o(i.getRequestModel(e,"cookie"));return t?t.userName:null},getLanguage:function(t,n,o){var i=function(e){return a.parseCookieString(e)[s]}(t||""),c=n.query&&n.query.lang||function(){var e=n.host.split(".");return 2===e[0].length?e[0]:null}()||i||("undefined"==typeof window||void 0===window.navigator?null:(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)||o;return c&&(c=c.substring(0,2).toLowerCase()),e.includes(r,c)?c:"en"},getLanguageFromSiteData:function(e){var t=e.getCookie(),n=e.currentUrl,o=e.getUserLanguageFromModel();return this.getLanguage(t,n,o)},isSessionValid:function(e){return!!o(e)},logout:function(e){var t=window.document?window.document.location.host:"";t=t.substring(t.indexOf(".")+1),a.deleteCookie(c,t),"undefined"!=typeof document&&(e.requestModel.cookie=window.document.cookie)},getLanguages:function(){return r}}}),define("coreUtils/core/linkTypes",[],function(){"use strict";return{PAGE_LINK:"PageLink",EXTERNAL_LINK:"ExternalLink",ANCHOR_LINK:"AnchorLink",LOGIN_TO_WIX_LINK:"LoginToWixLink",EMAIL_LINK:"EmailLink",PHONE_LINK:"PhoneLink",DOCUMENT_LINK:"DocumentLink",SWITCH_MOBILE_VIEW_MODE:"SwitchMobileViewMode",DYNAMIC_PAGE_LINK:"DynamicPageLink"}}),define("coreUtils/core/linkUtils",["lodash","coreUtilsLib","warmupUtils","coreUtils/core/linkTypes"],function(e,t,n,o){"use strict";function r(e){var t="mailto:"+(e.recipient&&e.recipient.trim()||""),n=[];return e.subject&&n.push("subject="+e.subject),e.body&&n.push("body="+e.body),n.length>0&&(t+="?"+n.join("&")),t}function i(n,o){var r=n.docId,i=/\.pdf$/i.test(r),a=o.serviceTopology.staticDocsUrl,s=void 0;return e.includes(r,"ugd/")&&e.includes(a,"/ugd")&&(r=r.substr(r.indexOf("ugd")+4)),s=a+"/"+r,i?!0===n.indexable&&(s+="?index=true"):s+="?"+t.urlUtils.toQueryString({dn:n.name}),s}function a(e){return"tel:"+e.phoneNumber}function s(t,n,o){if(n)switch(n.type){case"PageLink":if(n.pageId){c(t,n.pageId.replace("#",""),t.getSiteData().getAllPageIds(),!1,void 0,e.noop,o)}else o&&o({error:{message:"missing pageId property for PageLink"}});break;case"AnchorLink":!function(t,n,o){if(n.pageId){var r=n.pageId.replace("#","");if(t.getSiteData().getPrimaryPageId()===r||t.getSiteData().MASTER_PAGE_ID===r)t.scrollToAnchor(n.anchorDataId);else{var i=t.getSiteData().getAllPageIds();c(t,r,i,!1,n.anchorDataId,e.noop,o)}}else o&&o({error:{message:"missing pageId property for AnchorLink"}})}(t,n,o);break;case"ExternalLink":break;case"EmailLink":window.location.href=r(n);break;case"PhoneLink":window.location.href=a(n);break;case"DocumentLink":var s=i(n,t.getSiteData());window.open(s,"_self");break;case"DynamicPageLink":!function(e,t,n){var o=l.getUrl(e.getSiteData(),t),r=l.parseUrl(e.getSiteData(),o);n&&(r.anchorData=n);e.navigateToPage(r,!1,!1)}(t,n,n.anchorDataId)}}function c(t,n,o,r,i,a,s){if(e.includes(o,n)){t.getSiteAspect("actionsAspect").registerNavigationComplete(a);var c={pageId:n};r&&(c.transition="none"),i&&(c.anchorData=i),t.navigateToPage(c)}else s&&s({error:{message:'Page id "'+n+'" was not found.'}})}var u,l=n.wixUrlParser,p=(u={},_defineProperty(u,o.PAGE_LINK,["type","pageId"]),_defineProperty(u,o.EXTERNAL_LINK,["type","target","url"]),_defineProperty(u,o.ANCHOR_LINK,["type","anchorName","anchorDataId","pageId"]),_defineProperty(u,o.EMAIL_LINK,["type","recipient","subject"]),_defineProperty(u,o.PHONE_LINK,["type","phoneNumber"]),_defineProperty(u,o.DOCUMENT_LINK,["type","docId","name"]),_defineProperty(u,o.DYNAMIC_PAGE_LINK,["type","routerId","innerRoute","anchorDataId"]),u);return{getEmailLink:r,getDocumentLink:i,getPhoneLink:a,navigateToLink:s,navigateToPage:c,getRelevantLinkDataFromMenuItem:function(t){var n={};return t.link&&(n=e.pick(t.link,p[t.link.type]),e.isObject(n.pageId)&&(n.pageId="#"+n.pageId.id),e.isObject(n.anchorDataId)&&(n.anchorDataId="#"+n.anchorDataId.id)),n}}}),define("coreUtils/core/linkRenderer",["lodash","coreUtilsLib","warmupUtils","coreUtils/core/wixUserApi","coreUtils/core/linkUtils","coreUtils/core/linkTypes"],function(e,t,n,o,r,i){"use strict";function a(t,n,o){var r=n.pageId;if(!r)return{};var i=o||{pageId:r.id,title:r.pageUriSEO};n.queryParams&&e.assign(i,{queryParams:n.queryParams});var a=l.getUrl(t,i),s={href:a,target:p};return c(t,r.id)&&e.assign(s,{href:m,"data-no-physical-url":a}),s}function s(e,t){return a(e,t)}function c(e,t){var n=e.pagesDataItemsMap[t];return n&&n.isPopup}function u(e){return!!e&&0===e.indexOf("mailto")}var l=n.wixUrlParser,p="_self",d="_blank",g="https://users.wix.com/signin?",m="javascript:void()",y={sendEmail:"sendMail",welcomeEmailTemplate:"mailTemplate",userColor:"userColor",loginCompName:"loginCompName",referralInfo:"loginCompName"};return{renderLink:function(n,u,m){if(!n||function(e){return"PageLink"===e.type&&!e.pageId||"AnchorLink"===e.type&&!e.pageId||"AnchorLink"===e.type&&!e.anchorDataId||"DocumentLink"===e.type&&!e.docId||"DynamicPageLink"===e.type&&!e.routerId}(n)||!m)return{};var f=l.utils.getResolvedSiteData(u);switch(n.type){case i.PAGE_LINK:return s(f,n);case i.EXTERNAL_LINK:return function(e,n){var o="/"===n.url?e.publicBaseUrl:n.url;return t.validationUtils.isValidUrl(o)?(o=l.normalizeProtocolForSameSite(e,o),{href:o,target:n.target||d,"data-content":o,"data-type":"external",rel:e.isPremiumDomain?void 0:"nofollow"}):{}}(f,n);case i.ANCHOR_LINK:return function(n,o,r){var i="masterPage"===o.pageId.id,u=e.clone(o),l=e.has(o.anchorDataId,"id")?o.anchorDataId.id:o.anchorDataId,p=e.includes(t.siteConstants.SAME_PAGE_SCROLL_ANCHORS,l)||i,d=r.imageZoom,g=c(n,r.pageId),m=e.has(r,"routerDefinition"),y=void 0;y=p?d||g?a(n,{pageId:n.pagesDataItemsMap[n.primaryPageId]}):a(n,u,r):m?a(n,u,r):s(n,u);return g||(y["data-keep-roots"]=!0),y["data-anchor"]=l,y}(f,n,m);case i.LOGIN_TO_WIX_LINK:return function(n,r){var i=r.postLoginUrl||"",a=r.postSignupUrl||"",s=r.dialog||"showLogin",c="",u=void 0,l=void 0,d=void 0;return e.includes(a,"ifcontext")&&(d=t.urlUtils.parseUrl(a).query,e.forOwn(d,function(e,t){"ifcontext"===t.toLowerCase()&&(c=e.replace("#",""),a=/^[a-zA-Z0-9]+$/.test(c)?a.replace("{ifcontext}",c):a.replace("{ifcontext}","illegalContextValue"))})),o.isSessionValid(n.cookie)?l=i:("createUser"===s&&(s="sign-up"),u={originUrl:n.currentUrl.full,postLogin:i,postSignUp:a,view:s,overrideLocale:n.languageCode},e.forEach(y,function(t,n){var o=r[t];e.isUndefined(o)||""===o||(u[n]=o)}),l=g+t.urlUtils.toQueryString(u)),{href:l,target:p}}(f,n);case i.EMAIL_LINK:return function(e){return{href:r.getEmailLink(e),target:p,"data-content":e.recipient,"data-type":"mail"}}(n);case i.PHONE_LINK:return function(e){return{href:r.getPhoneLink(e),"data-content":e.phoneNumber,"data-type":"phone"}}(n);case i.DOCUMENT_LINK:return function(e,t){return{href:r.getDocumentLink(t,e),target:d,"data-type":"document"}}(f,n);case i.SWITCH_MOBILE_VIEW_MODE:return function(e,t){return{href:e.currentUrl.full,target:"_self","data-mobile":t.dataMobile}}(f,n);case i.DYNAMIC_PAGE_LINK:return function(t,n){if(!n.routerId)return{};var o={routerId:n.routerId,innerRoute:n.innerRoute};n.queryParams&&e.assign(o,{queryParams:n.queryParams});var r={href:l.getUrl(t,o),target:p};return n.anchorDataId&&(r["data-anchor"]=n.anchorDataId),r}(f,n);case"FormSubmitButtonLink":return{parentConstType:"button"};default:return{}}},renderImageZoomLink:function(t,n,o,r,i,a){var s=e.defaults({pageItemId:o.id,title:o.title,imageZoom:!0},n),u=l.utils.getResolvedSiteData(t),d=l.getUrl(u,s),g={href:d,target:p};c(u,s.pageId)&&(g.href=m,g["data-no-physical-url"]=d);var y=function(e,t,n){var o=[];return e&&o.push("galleryId:"+e),t&&o.push("propertyQuery:"+t),n&&o.push("galleryCompId:"+n),o.join(" ")}(r,i,a);return y&&(g["data-page-item-context"]=y),g},renderPageLink:function(e,t){return s(l.utils.getResolvedSiteData(t),{pageId:e})},isExternalLink:function(e,t){if(!t)return!1;var n=l.utils.getResolvedSiteData(e),o=!!l.parseUrl(n,t),r=0===t.indexOf(n.serviceTopology.staticDocsUrl),i=t===m;return!(o||u(t)||r||i)},isRelativeUrl:function(e){return!!e&&"/"===e.charAt(0)},isEmailLink:u,getLinkUrlFromLinkProps:function(e){return e.href===m?e["data-no-physical-url"]:e.href},CONSTS:{LOGIN_TO_WIX_URL:g}}}),define("coreUtils/core/menuUtils",["lodash","coreUtils/core/linkRenderer","warmupUtils"],function(e,t,n){"use strict";var o=n.warmupMenuUtils;return{getDropDownWidthIfOk:o.getDropDownWidthIfOk,getMaxWidth:o.getMaxWidth,getMinWidth:o.getMinWidth,removeAllElementsWithWidthZero:o.removeAllElementsWithWidthZero,getSiteMenuWithRender:function(e,n,r){return o.getSiteMenu(e,!1,n,r,t)},getMenuById:function(e,n,r,i,a){return o.getMenuById(e,n,r,i,a,t)},getMenuItems:function(e,n,r,i,a,s){return o.getMenuItems(e,n,r,i,a,s,t)},getSiteMenuWithoutRenderedLinks:function(e,n){return o.getSiteMenu(e,!0,{},n,t)},getActiveAnchorInPage:o.getActiveAnchorInPage,shouldHighlightAnchorInPage:o.shouldHighlightAnchorInPage,convertOldMenuToNewMenu:o.convertOldMenuToNewMenu}}),define("coreUtils/core/translationsLoader",["lodash","warmupUtils","coreUtilsLib"],function(e,t,n){"use strict";function o(t){return e.includes(i,t)?t:"en"}function r(e,t,n){if(!e.isLoaded(t,n))throw new Error("Translation not loaded for "+t)}var i=t.languages,a=t.ajaxLibrary,s=n.urlUtils,c=function(){function t(e){var n=e.translations,o=e.oldTranslations;_classCallCheck(this,t),this.translations=n,this.oldTranslations=o}return _createClass(t,[{key:"getRequests",value:function(t,n,o){var r=this,i=e.reject([].concat(n),function(e){return r.isLoaded(e)});if(e.isEmpty(i))return[];return[{customDownload:function(){var e=this;!function(e){r.load(t,n,e,o)}(function(){return e.done()})}}]}},{key:"load",value:function(t,n,o,r){var i=this,c=t.serviceTopology.scriptsLocationMap["santa-langs"],u=e.reject([].concat(n),function(e){return i.isLoaded(e)});return Promise.all(e.map(u,function(t){return function(t,n,o){var r=s.joinURL(n,"resources/santa-viewer/bundles/_generated/santa_viewer_"+o+".json");return new Promise(function(e,t){return a.ajax({type:"GET",url:r,success:e,error:t})}).then(function(n){e.isString(n)&&(n=JSON.parse(n)),e.assign(t.translations,_defineProperty({},o,n))})}(i,c,t)})).then(o,r)}},{key:"isLoaded",value:function(t,n){return e.has(this.resolveTranslations(n),t)}},{key:"resolveTranslations",value:function(t){return this.useOldTranslations||e.has(t,"useOldTranslations")||e.isEmpty(this.translations)?this.oldTranslations:this.translations}},{key:"getTranslation",value:function(t,n,i,a){r(this,n=o(n));var s=this.resolveTranslations();return e.has(s,[n,t,i])?e.get(s,[n,t,i]):e.has(s,["en",t,i])?e.get(s,["en",t,i]):a}},{key:"getTranslationAllKeys",value:function(t,n,i,a){return n=o(n),r(this,n,a),e.get(this.resolveTranslations(a),[n,t],i)}},{key:"overrideTranslations",value:function(e){var t=e.translations,n=e.oldTranslations;this.translations=t,this.oldTranslations=n}},{key:"setToUseOldTranslations",value:function(){this.useOldTranslations=!0}}]),t}(),u=new c({translations:{},oldTranslations:{}});return e.assign(u,{TranslationsLoaderFactory:c})}),define("coreUtils/core/masterPageLayoutUtils",["lodash","warmupUtils"],function(e,t){"use strict";function n(t,n){var o=t?c.MOBILE:c.DESKTOP;return e.includes(o,n.componentType)}function o(t,n){var o=t?c.MOBILE:c.DESKTOP;return e.indexOf(o,n.componentType)}function r(r,i){var a=t.dataUtils.getChildrenData(r,i);return e(a).filter(n.bind(null,i)).sortBy(o.bind(null,i)).value()}function i(e){return e.componentType===s}function a(n){return function(n,o){var r=t.dataUtils.getChildrenData(n,o);return e.some(r,i)}(n,!0)||function(e,t){var n=r(e,t),o=void 0;for(o=0;o<n.length-1;o++){var i=n[o],a=n[o+1];if(i.layout.y+i.layout.height!==a.layout.y)return!1}return!0}(n,!0)}var s="wysiwyg.viewer.components.SiteRegionContainer",c={MOBILE:["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.SiteRegionContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer"],DESKTOP:["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer"]};return{getMasterPageSections:r,getMasterPageChildrenSegregateByIsSection:function(r,i){var a=t.dataUtils.getChildrenData(r,i),s=e.partition(a,n.bind(null,i));return s[0]=e.sortBy(s[0],o.bind(null,i)),s},shouldApplyMobileTightLayout:a}}),define("coreUtils/core/skinAnchorsMetaData",["lodash"],function(e){"use strict";var t={"wysiwyg.viewer.skins.area.BubbleArea":30,"wysiwyg.viewer.skins.area.BubbleLeftArea":30,"wysiwyg.viewer.skins.area.RibbonAreaSkin":function(t){var n=e.get(t,"style.properties"),o=10;return n&&(o+=parseInt(n.els,10)||0),o},"wysiwyg.viewer.skins.area.SloopyArea":6,"wysiwyg.viewer.skins.area.BubbleAreaLeft":10,"wysiwyg.viewer.skins.area.LeftTriangleArea":5,"wysiwyg.viewer.skins.area.RightTriangleArea":5,"wysiwyg.viewer.skins.area.BubbleAreaRight":10,"wysiwyg.viewer.skins.page.SloopyPageSkin":3,"wysiwyg.viewer.skins.page.BasicPageSkin":20,"wysiwyg.viewer.skins.page.LiftedBottomPageSkin":20,"wysiwyg.viewer.skins.page.LiftedTopPageSkin":20,"wysiwyg.viewer.skins.page.BorderPageSkin":20,"wysiwyg.viewer.skins.page.LiftedShadowPageSkin":20,"wysiwyg.viewer.skins.page.ShinyIPageSkin":20};return{getNonAnchorableHeightForSkin:function(n,o){return e.isFunction(t[n])?t[n](o):t[n]||0}}}),define("coreUtils/core/originalValuesMapGenerator",["lodash","warmupUtils","coreUtils/core/skinAnchorsMetaData"],function(e,t,n){"use strict";return{createOriginalValuesMap:function(o,r,i){function a(o){var c=t.dataUtils.getChildrenData(o,i),u={};if(o.layout&&(u.top=t.boundingLayout.getBoundingY(o.layout)),!e.isEmpty(c)){if(o.layout){var l=o.styleId&&o.styleId.replace("#",""),p=r[l],d=p&&p.skin||o.skin;u.height=o.layout.height-n.getNonAnchorableHeightForSkin(d,p)}e.forEach(c,a)}s[o.id]=u}var s={};return a(o),s}}}),define("coreUtils/core/componentsAnchorsMetaData",["warmupUtils"],function(e){"use strict";var t=e.constants;return{default:{to:{allow:!0},from:{allow:!0,lock:t.ANCHORS.LOCK_CONDITION.THRESHOLD}},"wysiwyg.viewer.components.BoxSlideShow":{to:{allow:!0,zeroBottomParentDistance:!0}},"wysiwyg.viewer.components.StripContainerSlideShow":{to:{allow:!0,zeroBottomParentDistance:!0}},"wysiwyg.viewer.components.Repeater":{to:{allow:!0,zeroBottomParentDistance:!0},skipGroupingForChildren:!0},"wysiwyg.viewer.components.WRichText":{from:{allow:!0,positiveAnchorToDisplayedOnlyParent:!0}},"wysiwyg.viewer.components.Column":{to:{allow:!0},from:{allow:!1,lock:t.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.PageGroup":{to:{allow:!0},from:{allow:!0,lock:t.ANCHORS.LOCK_CONDITION.ALWAYS}},"mobile.core.components.Page":{to:{allow:!0},from:{allow:!1,lock:t.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.PagesContainer":{to:{allow:!0},from:{allow:!0,lock:t.ANCHORS.LOCK_CONDITION.THRESHOLD}},"wysiwyg.viewer.components.PopupContainer":{to:{allow:!0},from:{allow:!1}},"wysiwyg.viewer.components.SiteSegmentContainer":{to:{allow:!0},from:{allow:!0,lock:t.ANCHORS.LOCK_CONDITION.ALWAYS}},"wysiwyg.viewer.components.WSiteStructure":{to:{allow:!0,distance:0},from:{allow:!1,lock:t.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.tpapps.TPASection":{to:{allow:!0},from:{allow:!0,lock:t.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.tpapps.TPAMultiSection":{to:{allow:!0},from:{allow:!0,lock:t.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":{from:{allow:!1}},"wysiwyg.viewer.components.tpapps.TPAGluedWidget":{from:{allow:!1}},"wixapps.integration.components.AppPage":{from:{allow:!1}},"platform.components.AppController":{to:{allow:!1},from:{allow:!1}}}}),define("coreUtils/core/anchorsUtils",["lodash","warmupUtils","coreUtils/core/componentsAnchorsMetaData"],function(e,t,n){"use strict";var o={bottomTop:"BOTTOM_TOP",bottomParent:"BOTTOM_PARENT",topTop:"TOP_TOP"};return{isAnchorLocked:function(r,i,a){if(r===o.topTop)return!0;var s=e.get(n,[i,"from"],n.default.from);return s.lock!==t.constants.ANCHORS.LOCK_CONDITION.NEVER&&(s.lock===t.constants.ANCHORS.LOCK_CONDITION.ALWAYS||a<=t.constants.ANCHORS.LOCK_THRESHOLD)},anchorsTypes:o}}),define("coreUtils/core/groupingAnchors",["lodash","mobileLayoutUtils","coreUtils/core/anchorsUtils"],function(e,t,n){"use strict";function o(t){var n=r(t);return c(t,e(n).map(a).transform(s,{virtualGroups:{},childIdToVirtualGroupId:{}}).value())}function r(n){var o=t.splitToFragments(n,"y");return 1===o.length?[]:e(o).filter(l).map("comps").value()}function i(t,n,o){return e.map(t,function(t){var r={x:t.layout.x+n,y:t.layout.y+o},i=e.defaults(r,t.layout);return e.defaults({layout:i},t)})}function a(n){var o=e.assign({fixedPosition:!1},t.getSnugLayout(n));return{id:"virtualGroup_"+n[0].id,layout:o,components:i(n,-o.x,-o.y),componentType:w,type:"Container",skin:"undefined",styleId:"undefined"}}function s(t,n){return t.virtualGroups[n.id]=n,e.transform(n.components,function(e,t){e[t.id]=n.id},t.childIdToVirtualGroupId)}function c(t,n){var o=e.reduce(t,function(t,o){var r=n.childIdToVirtualGroupId[o.id];return r?t[r]?t:e.set(t,r,n.virtualGroups[r]):e.set(t,o.id,o)},{});return e.values(o)}function u(e){return!e.layout.fixedPosition&&!e.layout.rotationInDegrees}function l(t){return t.comps.length>1&&(t.distanceToPreviousFragment>=f||t.distanceToPreviousFragment<0)&&e.every(t.comps,u)}function p(e){return e.componentType===w}function d(t,n){var o=e.mapKeys(n,"id"),r=e.pickBy(o,p);if(e.isEmpty(r))return t;var i=e(r).flatMap("components").mapKeys("id").assign(o).value(),a=function(t,n){return e.transform(t,function(e,t,o){if(n[o]){var r=g(n[o],t);y(e,r)}else e[o]=t},{})}(t,r);return e.mapValues(a,e.partial(m,i))}function g(t,o){return e.transform(t.components,function(r,i){var a=t.layout.height-i.layout.y-i.layout.height,s=e.map(o,function(t){var o=t.distance+a,r=n.isAnchorLocked(t.type,i.componentType,o);return e.defaults({fromComp:i.id,distance:t.distance+a,locked:r,originalValue:t.originalValue},t)});r[i.id]=s},{})}function m(t,o){return e.reduce(o,function(o,r){var i=t[r.targetComponent];if(!p(i))return o.concat([r]);var a=e.map(i.components,function(o){var i=o.layout.y,a=r.distance+i,s=n.isAnchorLocked(r.type,t[r.fromComp],a);return e.defaults({targetComponent:o.id,distance:a,locked:s,originalValue:r.originalValue+i},r)});return o.concat(a)},[])}function y(t,n){return e.transform(n,function(e,t,n){e[n]=(e[n]||[]).concat(t)},t)}var f=10,w="VirtualGroup";return{testAPI:{groupRowsComponents:o,findGroupableRowComponents:r,createVirtualGroup:a,addVirtualGroupToGroupedComponentsMap:s,replaceGroupedComponentsToVirtualGroups:c,areFragmentComponentsGroupable:l,convertGroupingAnchors:d,mergeAnchorsMaps:y,replaceAnchorsFromVirtualGroup:g,replaceAnchorsToVirtualGroup:m,translateComponents:i},isVirtualGroup:p,groupRows:function(e,t){return t&&e.length?o(e):e},resolve:function(t,n,o,r,i){if(!o||!n.length||e.isEmpty(r))return i;return y(r,d(i,n.concat([t])))}}}),define("coreUtils/core/anchorsGenerator",["lodash","experiment","warmupUtils","coreUtils/core/masterPageLayoutUtils","coreUtils/core/skinAnchorsMetaData","coreUtils/core/componentsAnchorsMetaData","coreUtils/core/groupingAnchors","coreUtils/core/anchorsUtils"],function(e,t,n,o,r,i,a,s){"use strict";function c(e,t,n,o,r){return{distance:r||0,locked:!0,originalValue:o,fromComp:t,targetComponent:n,type:e}}function u(e,t,n,o,r,i){var a=c(e,n,o,i,r);return a.locked=s.isAnchorLocked(e,t,r),a}function l(t){for(var n=function(t,n){return e.flatMap(t,function(t){return e.map(n[t],"target")})}(A,t),o={};n.length;){var r=n.shift();o[r]=!0;var i=e(t[r]).map("target").reject(function(t){return e.has(o,t)}).value();n=n.concat(i)}return o}function p(t,o,a,s){var c=l(t);return e.mapValues(t,function(t,l){if(!t.length)return[];var p=o[l];return p.layoutAnchors?p.layoutAnchors.slice():e(t).map(function(t){if(t.target===E)return function(t,o,a){if("masterPage"===o.id||o.id===n.constants.COMP_IDS.PAGES_CONTAINER)return u(P.bottomParent,t.componentType,t.id,o.id,0,0);var s=a[o.styleId&&o.styleId.replace("#","")],c=s&&s.skin||o.skin,l=o.height-r.getNonAnchorableHeightForSkin(c,s),p=l,d=e.get(i,[o.componentType,"to","zeroBottomParentDistance"])?0:l-(t.boundingY+t.boundingHeight),g=e.get(i,[t.componentType,"from","positiveAnchorToDisplayedOnlyParent"]),m=n.displayedOnlyStructureUtil.isDisplayedComponent(o.id);return g&&m&&(d=Math.max(0,d)),u(P.bottomParent,t.componentType,t.id,o.id,d,p)}(p,a,s);var l=o[t.target];return t.type===P.bottomTop?function(e,t,n){var o=t.boundingY-e.boundingY-e.boundingHeight,r=n?0:t.boundingY;return u(P.bottomTop,e.componentType,e.id,t.id,o,r)}(p,l,c[l.id]):function(e,t){var n=t.boundingY-e.boundingY;return u(P.topTop,e.componentType,e.id,t.id,n,t.boundingY)}(p,l)}).compact().value()})}function d(o,r,s,c,u,l,d){var g=s.applyGroupingAnchors&&!e.get(i,[r.componentType,"skipGroupingForChildren"]),m=a.groupRows(o,g),y=function(t,n,o){var r=e.filter(t,a.isVirtualGroup);return e.reduce(r,function(t,r){var i=e.reduce(f(r,{forceMobileStructure:!0,applyGroupingAnchors:!1},n,o),function(t,n,o){return o===r.id?t:e.set(t,o,e.reject(n,{targetComponent:r.id}))},{});return e.assign(t,i)},{})}(m,c,u),h=function(t,n,o){var r=e.reduce(t,function(e,t){return e[t.id]=w(t,n),e},{});return e.forEach(o,function(t,n){r[n]=e.assign(r[n],t)}),r}(m,u,d),C=function(n,o){var r={},i={},a=e(n).filter("canCreateAnchorsToComp").sortBy("boundingY").value(),s={left:-1e5,right:1/0,ids:["root"]};a=function(e){var t={x:-1e5,y:1/0,height:10,width:1/0,id:E,canBePushed:!0,canPush:!1,boundingY:1/0,boundingBottom:1/0,boundingHeight:10};return e.concat(t)}(a),r.root=[];var c=[s],u=void 0,l=void 0,p=void 0,d=void 0;return a.forEach(function(a){function s(e){y[e]="root"===e?P.bottomTop:function(e,t){var n=t.boundingY,o=t.boundingBottom,r=e.boundingY,i=e.boundingHeight;return o>e.boundingBottom&&n>r+i/2}(n[e],a)?P.bottomTop:P.topTop}r[a.id]=[],i[a.id]=[],p=null,u=a.boundingX,l=u+a.boundingWidth,d=0;var g=c.length,m=[],y={},f=[],w=!1,h=!1,v=0;for(v=0;v<g;v++){var C=c[v];if(C.right<=u)m.push(C);else if(null===p?(p=v,w=!0):w=!1,(c.length-1===v||c[v+1].left>l)&&(d=v,h=!0),a.canBePushed&&C.ids.forEach(s),a.canPush&&(f=function(n,o,r,i,a,s,c,u,l,p){var d=e.clone(o);a&&d.push({ids:r.ids,left:r.left,right:c-1});var g={ids:[n],left:Math.max(c,r.left),right:Math.min(u,r.right)};r.ids.filter(function(e){return"root"!==e&&function(e,n,o){return t.isOpen("layout_verbs_with_anchors",o)?!n||e===P.topTop:e===P.topTop}(i[e],l,p)}).forEach(function(e){g.ids.push(e)});var m=e.last(d);return m&&!e.isEqual(m.ids,g.ids)?d.push(g):m&&(m.right=g.right),s&&d.push({ids:r.ids,left:u+1,right:r.right}),d}(a.id,f,C,y,w,h,u,l,a.canBePushed,o)),h)break}if(delete y.root,function(t,n){e.isEmpty(n)||(t.id===E?n=function(t,n){return e.omitBy(t,function(t,o){return e.some(n[o],{type:P.bottomTop})})}(n,r):function(t,n){e(t).keys().flatMap(e.propertyOf(n)).filter({type:P.bottomTop}).map("source").forEach(function(e){delete t[e]})}(n,i),e.forEach(n,function(e,n){r[n].push({target:t.id,type:e}),i[t.id].push({source:n,type:e})}))}(a,y),a.canPush){var S=e.takeRight(c,g-d-1);c=e.compact(m).concat(f,S)}}),delete r.root,r}(h,u),S=e(h).mapValues("anchors").assign(p(C,h,w(r,u),c)).omit("parentNode").thru(e.partial(a.resolve,r,m,g,y)).value(),T=e.get(l,r.id);if(T){var I=function(t,o,r,i){return v(e.find(t,function(e){return n.displayedOnlyStructureUtil.getItemId(e.id)===o})||e.head(t),i,r)}(o,T,s,c);e.assign(S,I,function(t,o,r){var i=n.displayedOnlyStructureUtil,a={},s=e(t).map("id").map(n.displayedOnlyStructureUtil.getItemId).without(o).value();return e.forEach(r,function(t,n){e.forEach(s,function(o){var r=i.getOriginalId(n),s=i.getUniqueDisplayedId(r,o);a[s]=e.reduce(t,function(t,n){var r=i.getUniqueDisplayedId(i.getOriginalId(n.fromComp),o),a=i.getUniqueDisplayedId(i.getOriginalId(n.targetComponent),o),s=e.defaults({fromComp:r,targetComponent:a},n);return t.push(s),t},[])})}),a}(o,T,I))}return S}function g(t,o,r,i,a,s){return d(function(t,o,r){if(t.layout.anchors)return function(t,o,r){var i=e.clone(o),a=e.find(o,{id:"SITE_HEADER"}),s=e.find(o,{id:"SITE_FOOTER"}),c=function(t,n){return n?0:e.get(t,"layout.anchors.0.distance")}(t,r)+n.boundingLayout.getBoundingY(a.layout)+n.boundingLayout.getBoundingHeight(a.layout),u=e.findIndex(o,{id:"PAGES_CONTAINER"}),l=o[u],p=e.assign({},l.layout,{y:c,height:s.layout.y-c});return i[u]=e.assign({},l,{layout:p}),i}(t,o,r);return function(t){var o=e.clone(t),r=e.find(t,{id:"SITE_FOOTER"}),i=e.maxBy(t,function(e){return h(e)?n.boundingLayout.getBoundingY(e.layout)+n.boundingLayout.getBoundingHeight(e.layout):-1e4});if(!i||!h(i))return o;var a=e.find(i.layout.anchors,{targetComponent:"PAGES_CONTAINER",type:P.bottomTop}),s=n.boundingLayout.getBoundingY(i.layout)+n.boundingLayout.getBoundingHeight(i.layout),c=a.distance+s,u=e.findIndex(t,{id:"PAGES_CONTAINER"}),l=t[u],p=e.assign({},l.layout,{y:c,height:r.layout.y-c});return o[u]=e.assign({},l,{layout:p}),o}(o)}(o,t,r.forceMobileStructure),o,r,i,a,s)}function m(t,n,r,i,a){var s=o.getMasterPageChildrenSegregateByIsSection(t,n.forceMobileStructure),c=s[0],u=function(t,n,o,r,i,a,s){return d(e.filter(t,{id:"SITE_HEADER"}).concat(n),o,r,i,a,s,{SITE_HEADER:{canBePushed:!1}})}(c,s[1],t,n,r,i,a),l=function(e){var t={};return e.headerPagesContainerLegacyGap&&(t.SITE_HEADER={targetComponent:"PAGES_CONTAINER",distance:e.headerPagesContainerLegacyGap}),e.pagesContainerFooterLegacyGap&&(t.PAGES_CONTAINER={targetComponent:"SITE_FOOTER",distance:e.pagesContainerFooterLegacyGap}),t}(n),p=e.mapValues(S(c,l),function(e){return[e]});return u.SITE_HEADER=u.SITE_HEADER.concat(p.SITE_HEADER),e.defaults(u,p)}function y(t,n,o,r,i,a){return function(t){var n=e.find(t,{id:"SITE_HEADER"});if(!n)return!1;return e.find(t,{id:"PAGES_CONTAINER"}).layout.y<n.layout.y+n.layout.height}(t)?g(t,n,o,r,i,a):!o.forceMobileStructure&&o.useDesktopSectionsLayout?m(n,o,r,i,a):d(t,n,o,r,i,a)}function f(t,o,r,i,a){var s=n.dataUtils.getChildrenData(t,o.forceMobileStructure);return e.isEmpty(s)?{}:"Document"===t.type?y(s,t,o,r,i,a):d(s,t,o,r,i,a)}function w(o,r){var a=o.layout,s=n.boundingLayout.getBoundingY(a),c=n.boundingLayout.getBoundingHeight(a),u=a.x?n.boundingLayout.getBoundingX(a):0;return{id:o.id,layoutAnchors:a.anchors,anchors:[],y:a.y,x:a.x,height:a.height,width:a.width,canBePushed:function(n,o){if(n.componentType){if(!1===e.get(i,[n.componentType,"to","allow"]))return!1}if(t.isOpen("layout_verbs_with_anchors",o))return!I.isDockedToDirection(n.layout,"top")||I.isVerticallyStretchedToScreen(n.layout);return!0}(o,r),canPush:function(n,o){if(n.componentType){if(!1===e.get(i,[n.componentType,"from","allow"]))return!1}if(t.isOpen("layout_verbs_with_anchors",o))return!I.isDockedToDirection(n.layout,"bottom")||I.isVerticallyStretchedToScreen(n.layout);return!0}(o,r),boundingY:s,boundingX:u,boundingBottom:s+c,boundingHeight:c,boundingWidth:n.boundingLayout.getBoundingWidth(a),canCreateAnchorsToComp:function(n,o){return t.isOpen("layout_verbs_with_anchors",n)?e.includes(O,o.id)||!(e.includes(b,o.id)||o.layout.fixedPosition||I.isVerticallyCentered(o.layout)||I.isVerticallyStretched(o.layout)&&!I.isVerticallyStretchedToScreen(o.layout)):e.includes(O,o.id)||!(e.includes(b,o.id)||o.layout.fixedPosition||I.isVerticallyDocked(o.layout))}(r,o),styleId:o.styleId,skin:o.skin,componentType:o.componentType}}function h(t){return e.find(t.layout.anchors,{targetComponent:"PAGES_CONTAINER",type:P.bottomTop})}function v(t,o,r,i){r=r||{};for(var a=[t],s=void 0,c=void 0,u=void 0,l={};a.length;)u=f(s=a.pop(),r,o,null,i),e.assign(l,u),c=n.dataUtils.getChildrenData(s,r.forceMobileStructure),e.has(i,s.id)||Array.prototype.push.apply(a,c);return l}function C(t,n,o){return c(P.bottomTop,t,n,0,function(t,n,o){var r=e.get(o,t);return r&&r.targetComponent===n?r.distance:0}(t,n,o))}function S(t,n){for(var o=e.map(t,"id"),r=void 0,i=0,a={};o[i+1];){r=o[i];var s=o[i+1];a[r]=C(r,s,n),i++}return r=o[i],a[r]=function(e){return c(P.bottomParent,e,"masterPage",0)}(r),a}function T(t,n,r){var i=v(t,n,r),a=o.getMasterPageSections(t,!0),s=S(a),c=e.map(a,"id");return e.forEach(s,function(t,n){i[n]=function(t,n,o,r){if(!e.includes(t,n))return o;var i=t.concat(["masterPage"]);return e.reject(o,function(t){return e.includes(i,t.targetComponent)}).concat([r])}(c,n,i[n],t)}),i}var I=n.layoutUtils,P=s.anchorsTypes,b=["BACK_TO_TOP_BUTTON"],A=["PAGES_CONTAINER"],O=["SITE_HEADER","SITE_FOOTER","PAGES_CONTAINER"],E="parentNode";return{createPageAnchors:function(e,t,n,o){return v(e,t,n,o)},createMobileTightSectionsAnchors:function(t){var n=o.getMasterPageSections(t,!0);return e.mapValues(S(n),function(e){return[e]})},createMobileTightMasterPageAnchors:T,createChildrenAnchors:function(e,t,n,o,r){return f(e,n||{},t,o,r)}}}),define("coreUtils/core/layoutAnchorsUtils",["lodash","coreUtils/core/anchorsGenerator","coreUtils/core/skinAnchorsMetaData"],function(e,t,n){"use strict";return{createPageAnchors:t.createPageAnchors,createMobileTightMasterPageAnchors:t.createMobileTightMasterPageAnchors,createMobileTightSectionsAnchors:t.createMobileTightSectionsAnchors,createChildrenAnchors:t.createChildrenAnchors,getNonAnchorableHeightForSkin:n.getNonAnchorableHeightForSkin}}),define("coreUtils/core/scrollAnchorsUtils",["lodash","coreUtilsLib","warmupUtils","experiment"],function(e,t,n,o){"use strict";function r(e){var t=parseInt(e,10);return isNaN(t)?0:t}function i(e){return r(e.height.WIX_ADStop)}function a(e){if(!e.measureMap)return 1/0;var t=e.measureMap,n=i(t),r=void 0;if(o.isOpen("displayWixAdsNewVersion",e))r=t.height.masterPage+n+e.renderFlags.extraSiteHeight;else{var a=t.height.WIX_ADSbottom||0;r=t.height.masterPage+a+n+e.renderFlags.extraSiteHeight}var s=t.height.screen;return Math.max(r-s,0)}function s(e,t){return Math.min(e,a(t))}function c(t,n,o){var r=o.getPageData(n,["structure",o.getViewMode()]);return e.find(r,function(r){var i=r.connectionQuery,a=i&&o.getDataByQuery(i,n,o.dataTypes.CONNECTIONS);return a&&e.find(a.items,{role:t})})}function u(t,n){var o=n.getSiteData(),r=l(function(t,n){var o=void 0;if(!e.startsWith(t,"dataItem")&&n){var r=n.getSiteData(),i=c(t,r.getPrimaryPageId(),r);i&&(o=i.dataQuery)}return o||t}(t,n),o);return r.y=s(r.y,o),r}function l(t,n){var o=0;if(t===v.PAGE_ANCHORS.TOP_ANCHOR_ID)o=C;else if(t===v.PAGE_ANCHORS.BOTTOM_ANCHOR_ID)o=r(e.get(n.measureMap,["height","masterPage"]));else if(t){o=function(t,n){var o=0,r=n.measureMap;if(r&&t){var a=t.compId,s=h.isHeaderFixedPosition(n),c=r.top[a],u=r.absoluteTop[a],l=s?c:u,p=!n.isMobileView()||s?0:i(r);o=e.isFinite(l)?l+p:0}return o}(n.getDataByQuery(t,n.getPrimaryPageId()),n)}return{x:0,y:o,anchorQuery:t}}function p(t,n,o){var r=t.getPageDataMap(n,t.dataTypes.DATA);if(!r)return[];var i=d(t.getPrimaryPageId(),o),a=t.getPageData(n,["structure",t.getViewMode()]),s=e(r).filter({type:"Anchor"}).sortBy(function(t){return e.get(a,[t.compId,"layout","y"])}).value();return[i].concat(_toConsumableArray(s))}function d(e,t){return{compId:v.PAGE_ANCHORS.TOP_ANCHOR_COMP_ID,id:v.PAGE_ANCHORS.TOP_ANCHOR_ID,name:t||"",type:"Anchor",pageId:e}}function g(t,n){n=n||[];var o=p(t,t.getPrimaryPageId());if(!o.length)return o;var r=e.reject(o,function(t){return e.includes(n,t.compId)});return e.size(r)?r:[o[0]]}function m(t,n){return e(n).map(function(n){var o=l(n.id,t),r=n.id,i=n.compId;return e.assign(o,{id:r,compId:i})}).sortBy("y").value()}function y(e,t,n){return{activeAnchorComp:e,index:t,total:n}}function f(t,n){if(!t.measureMap)return[];return function(t,n){return e.map(t,function(e,o){var r=y(e,o,t.length);return r.isActive=e.y<=Math.ceil(n),r})}(m(t,g(t)),n)}function w(t,n,o){if(!t.measureMap)return null;var r=m(t,g(t,o)),i=function(t,n){if(e.every(t,{y:0}))return null;for(var o=null,r=0;r<t.length;r++){var i=t[r];if(!(n>=i.y))break;o=i}return o?y(o,r-1,t.length):null}(r,n);return i&&a(t)<=n?y(e.last(r),r.length-1,r.length):i}var h=n.siteDataUtils,v=t.siteConstants,C=0;return{getPageTopAnchor:d,calcAnchorScrollToPosition:u,getPageAnchors:p,getActiveAnchor:w,getAnchorsDataSortedByY:f,getAnchor:c,normalizeYOffset:s,isSpecialAnchor:function(e){return e===v.PAGE_ANCHORS.BOTTOM_ANCHOR_ID||e===v.PAGE_ANCHORS.TOP_ANCHOR_ID},getSortedAnchorsByY:m,SCROLL_PAGE_TOP_Y_POS:-99999}}),define("coreUtils/core/renderUtils",["lodash"],function(e){"use strict";return{mapInAlphabeticalOrder:function(t,n,o){var r=o?e.bind(n,o):n,i=e.keys(t).sort(),a=e.reduce(i,function(e,n){return e[n]=t[n],e},{});return e.map(a,r)},noAppsOnSite:function(t){return e.isEmpty(t.pagesPlatformApplications)},hasPlatformAppOnRenderedRoots:function(t,n){n=n.concat("masterPage");var o=t.pagesPlatformApplications;return e.some(o,function(t){var o=e.keys(t);return e.some(n,function(t){return e.includes(o,t)})})}}}),define("coreUtils/core/clientSpecMapUtils",["lodash"],function(e){"use strict";return{getMainSectionWidgetData:function(t){return e.find(e.get(t,"widgets"),function(t){return e.get(t,"appPage.name")&&!e.get(t,"appPage.hidden")})}}}),define("coreUtils/core/componentVisibility",["lodash"],function(e){"use strict";var t=[];return{isComponentVisible:function(n){return e.every(t,function(e){return e(n)})},registerPlugin:function(e){t.push(e)}}}),define("coreUtils/core/fileUploadManager",["lodash"],function(e){"use strict";function t(e,t,o){var s=a[e.fileType],c=new FormData;c.append("upload_token",t),c.append("media_type",s),c.append("file",e.file),c.append("siteMediaToken",t),c.append("ns",i);var u=new XMLHttpRequest;u.onreadystatechange=function(){u.readyState===XMLHttpRequest.DONE&&function(e,t){var o=JSON.parse(t.response);200===t.status?(e.onSuccess(o),n()):(r=!1,e.onFail(o))}(e,u)},u.open("POST",o),u.send(c)}function n(){if(0!==o.length){!function(e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var o=JSON.parse(n.response);o.error_code?(r=!1,e.onFail(o)):t(e,o.upload_token,o.upload_url)}},n.open("GET","https://files.wix.com/files/upload/url?media_type=picture"),n.setRequestHeader("Authorization",e.authorizationToken),n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Content-Type","application/json"),n.send(null)}(e.pullAt(o,0)[0])}else r=!1}var o=[],r=!1,i="_WixCodeAnonymUpload",a={Image:"picture",Document:"document"};return{uploadFile:function(e,t,i,a,s){if(!t)throw new Error("No upload authorization token given!");o=o.concat({file:e,authorizationToken:t,fileType:i,onSuccess:a,onFail:s}),r||(n(),r=!0)}}}),define("coreUtils/core/jsonUpdaterRegistrar",["lodash","warmupUtils"],function(e,t){"use strict";var n={},o={};return t.sessionFreezer.freeze(n),t.sessionFreezer.freeze(o),{registerLayouterComp:function(e,t){o[e]=t},getCompLayouter:function(e){return o[e]},getCompPlugin:function(e){return n[e]},registerPlugin:function(e,t){n[e]=t}}}),define("coreUtils/core/fullToDisplayedJson",["lodash","warmupUtils","coreUtils/core/jsonUpdaterRegistrar"],function(e,t,n){"use strict";function o(t,n){return t=t||{},e.omitBy(t[n],function(e){return!e})}function r(t,n){var o=e.transform(t,function(t,o){(function(t,n){return!e.isEmpty(n)&&e.every(t.modeIds,function(e){return n[e]})})(o,n)&&e.assign(t,o)},{});return delete o.modeIds,o}function i(e,t){var n=t&&e.mobileComponents?"mobileComponents":"children";return e[n]?n:"components"}function a(o,a,c,u){var l=i(a,!1),p=i(a,!0),d=a.modes,g=r(e.get(a,["modes","overrides"])||[],o);if(function(t,n){var o=!0;if(t){var r=!t.isHiddenByModes;o=n&&!e.isUndefined(n.isHiddenByModes)?!n.isHiddenByModes:r}return o}(d,g)){var m=t.objectUtils.cloneDeep(e.omit(a,["modes",l,p])),y=n.getCompPlugin(a.componentType);return y&&c&&(a=y(a,c,u),m.layout=a.layout),d&&(d.overrides&&(g=e.omit(g,"isHiddenByModes"),e.assign(m,g)),d.definitions&&e.set(m,["modes","definitions"],d.definitions)),s(m,l,o,a,c,u),l!==p&&s(m,p,o,a,c,u),m}}function s(t,n,o,r,i,s){e.isUndefined(r[n])||(t[n]=e(r[n]).map(function(e){return a(o,e,i,s)}).compact().value())}function c(n,r,i,s){var c=o(r,n.structure.id),u=t.objectUtils.cloneDeep(e.omit(n,["structure","data"]));return u.structure=a(c,n.structure,i,s),u.data=t.objectUtils.cloneDeep(n.data),u}return{getDisplayedJson:function(t,n,r,i,s){var u={};if(t)if(function(t){return!e.isUndefined(t.componentType)}(t)||function(t){return"Document"===e.get(t,"type")}(t)){var l=o(n,r);u.structure=a(l,t,i,s)}else u=function(t){return!e.isUndefined(t.structure)}(t)?c(t,n,i,s):function(t,n,o,r){n=n||{};var i={};return e.forEach(t,function(e,t){i[t]=c(e,n,o,r)}),i}(t,n,i,s);return u},applyModesOnSerializedStructure:function(e,t){return t=t||{},a(t,e)}}}),define("coreUtils/core/mobileUtils",["warmupUtils"],function(e){"use strict";var t=12,n={26:26,27:26,28:26,29:27,30:27,31:27,32:28,33:28,34:28,35:29,36:29,37:29,38:30,39:30,40:30,41:31,42:31,43:31,44:32,45:32,46:32,47:33,48:33,49:33,50:34,51:34,52:34,53:35,54:35,55:35,56:36,57:36,58:36,59:37,60:37,61:37,62:38,63:38,64:38,65:39,66:39,67:39,68:40,69:40,70:40,71:41,72:41,73:41,74:42,75:42,76:42,77:43,78:43,79:43,80:44,81:44,82:44,83:45,84:45,85:45,86:46,87:46,88:46,89:47,90:47,91:47,92:48,93:48,94:48,95:49,96:49,97:49,98:50,99:50,100:50};return{getMobileFontSize:function(e){var o=t,r=Math.round(e);return r<o?o:r<=14?r+1:r<=25?r:r<=100?n[r]:50},convertFontSizeToMobile:function(e,t){return t*this.getMobileFontSize(e)},getMinFontSize:function(){return t},buildDeepStructure:e.flatStructureUtil.buildDeepStructure}}),define("coreUtils/core/modesUtils",["lodash","warmupUtils"],function(e,t){"use strict";function n(e){return e.settings.scrollPos}function o(e){return e.settings.width}function r(e){return e.type===t.siteConstants.COMP_MODES_TYPES.DEFAULT?1:2}function i(t,n,o){var r=e.find(t,function(e){return n[e.modeId]});return r||e(t).sortBy(o).head()}function a(n,o,a,s,c){return s?function(n,o,a,s){var c=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.DEFAULT}),u=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.HOVER});if(!o[c.modeId]){var l=a.propertyQuery,p=l&&s&&s[l];return p&&p.mobileDisplayedModeId?e.find(n,{modeId:p.mobileDisplayedModeId}):u}return i(n,o,r)}(n,o,a,c):i(n,o,r)}function s(t,n,o,r,i,a){var s=(y[t]||function(t,n){return e.filter(t,function(e){return n[e.modeId]})})(n,o,r,i,a);return e.isArray(s)?s:[s]}function c(e){return{modeType:e.type}}function u(t,n,o,r){var i=e.get(t,"modes.definitions");if(e.isEmpty(i))return{};var a=e.map(i,"modeId"),u=e.pick(n,a),l=function(t){return e.groupBy(t,function(e){return m[e.type]})}(i);return e.reduce(l,function(n,i,a){var l=s(a,i,u,t,o,r);return e.forEach(l,function(e){n[e.modeId]=c(e)}),n},{})}function l(n,o,r,i){var a=u(n,o,r,i),s=t.dataUtils.getChildrenData(n,!1);return e.reduce(s,function(t,n){var a=l(n,o,r,i);return e.assign(t,a)},a),a||{}}function p(t,n){var o=e.find(t,function(t){return e.isEqual([n],t.modeIds)});return o&&o.isHiddenByModes}function d(t,n){var o=e.find(t,function(t){return e.isEqual([n],t.modeIds)});return o&&!1===o.isHiddenByModes}var g={HOVER:"HOVER",SCROLL:"SCROLL",WIDTH:"WIDTH",APPLICATIVE:"APPLICATIVE"},m={};m[t.siteConstants.COMP_MODES_TYPES.DEFAULT]=g.HOVER,m[t.siteConstants.COMP_MODES_TYPES.HOVER]=g.HOVER,m[t.siteConstants.COMP_MODES_TYPES.SCROLL]=g.SCROLL,m[t.siteConstants.COMP_MODES_TYPES.WIDTH]=g.WIDTH,m[t.siteConstants.COMP_MODES_TYPES.APPLICATIVE]=g.APPLICATIVE;var y={};return y[g.HOVER]=a,y[g.SCROLL]=function(e,t){return i(e,t,n)},y[g.WIDTH]=function(e,t){return i(e,t,o)},{getActiveModeData:c,getActiveComponentModeIds:function(t,n){return e(t).mapValues(function(t,o){return e.some(n,{modeId:o})}).pickBy().value()},getModeChanges:function(t,n){t=t||{},n=n||{};var o=e({}).assign(t,n).keys().value();return e.transform(o,function(e,o){var r=t[o],i=n[o];r&&!i?e[o]=!1:!r&&i&&(e[o]=!0)},{})},isCompVisibleAfterRemovalFromMode:function(n,o,r,i,a){var s=n.componentStructure.getModes(r),c=o.isExist(s)&&o.get(s);if(!c)return!0;var u=n.componentStructure.getModesDefinitions(i),l=o.get(u),g=t.objectUtils.cloneDeep(c),m=e.findIndex(c.overrides,function(t){return e.isEqual(t.modeIds,[a])});return g.overrides=g.overrides||[],m>=0?g.overrides[m].isHiddenByModes=!0:g.overrides.push({modeIds:[a],isHiddenByModes:!0}),!function(n,o){var r=[],i=[],a=[],s=[];e.forEach(n,function(e){switch(e.type){case t.siteConstants.COMP_MODES_TYPES.DEFAULT:case t.siteConstants.COMP_MODES_TYPES.HOVER:r.push(e.modeId);break;case t.siteConstants.COMP_MODES_TYPES.SCROLL:i.push(e.modeId);break;case t.siteConstants.COMP_MODES_TYPES.WIDTH:a.push(e.modeId);break;default:s.push(e.modeId)}});var c=e.partial(p,o.overrides),u=e.partial(d,o.overrides);return o.isHiddenByModes?r.length&&!e.some(r,u)||i.length&&!e.some(i,u)||a.length&&!e.some(a,u)||s.length&&!e.some(s,u):r.length&&e.every(r,c)||i.length&&e.every(i,c)||a.length&&e.every(a,c)||s.length&&e.every(s,c)}(l,g)},getActiveModesForActivationChange:function(n,o,r,i){var a=e.clone(o),s=e.filter(n,{type:t.siteConstants.COMP_MODES_TYPES.SCROLL}),u=e.filter(n,{type:t.siteConstants.COMP_MODES_TYPES.WIDTH}),l=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.DEFAULT}),p=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.HOVER});if(r)switch(a[r.modeId]=c(r),r.type){case t.siteConstants.COMP_MODES_TYPES.SCROLL:e.forEach(s,function(e){e.modeId!==r.modeId&&delete a[e.modeId]});break;case t.siteConstants.COMP_MODES_TYPES.WIDTH:e.forEach(u,function(e){e.modeId!==r.modeId&&delete a[e.modeId]});break;case t.siteConstants.COMP_MODES_TYPES.DEFAULT:delete a[p.modeId];break;case t.siteConstants.COMP_MODES_TYPES.HOVER:l&&delete a[l.modeId]}if(i){var d=void 0;switch(delete a[i.modeId],i.type){case t.siteConstants.COMP_MODES_TYPES.SCROLL:r&&r.type===t.siteConstants.COMP_MODES_TYPES.SCROLL||(d=e.head(s));break;case t.siteConstants.COMP_MODES_TYPES.WIDTH:r&&r.type===t.siteConstants.COMP_MODES_TYPES.WIDTH||(d=e.head(u));break;case t.siteConstants.COMP_MODES_TYPES.DEFAULT:d=p;break;case t.siteConstants.COMP_MODES_TYPES.HOVER:l&&(d=l)}d&&(a[d.modeId]=c(d))}return a},resolveCompActiveModesRecursive:l}}),define("coreUtils/core/proxyLayoutRegistrar",[],function(){"use strict";var e={};return{registerCustomMeasure:function(t,n){e[t]=n},getProxiesToMeasure:function(){return e}}}),define("coreUtils/core/structureDimensions",["lodash","warmupUtils"],function(e,t){"use strict";function n(t){var n={};return n[t.id]=e.pick(t.layout,["x","y","width","height"]),n}function o(t,n,r,a,s){var c=n[a],u=t.components||t.children;e.forEach(u,function(e){n[e.id]=i.getPositionAndSize(e.layout,c,r,s),o(e,n,r,e.id,s)})}function r(t,r,a,s){return s?function(t,r,a){var s=n(t),c=s[t.id];return e.forEach(t.mobileComponents,function(e){s[e.id]=i.getPositionAndSize(e.layout,c,r,a),o(e,s,r,e.id,a)}),s}(t,r,a):function(e,t,r){var i=n(e);return o(e,i,t,e.id,r),i}(t,r,a)}var i=t.positionAndSize;return{createDimensionsMap:r}}),define("coreUtils/core/socialCounterDatabaseAPI",["lodash","warmupUtils"],function(e,t){"use strict";var n={defaultQuerySuccessCallback:function(){},defaultQueryCollectFailureCallback:function(){},getLikesForPostsList:function(e,n,o){var r={postsList:e};t.ajaxLibrary.ajax({type:"GET",url:"https://www.wix.com/_api/blog-social-counters/query-feed/",crossDomain:!0,data:r,contentType:"application/json",dataType:"json",success:n||this.defaultQuerySuccessCallback,error:o||this.defaultQueryCollectFailureCallback})},getAllCountersForPost:function(e,n,o,r){var i={storeId:e,postId:n};t.ajaxLibrary.ajax({type:"GET",url:"https://www.wix.com/_api/blog-social-counters/query-post/",crossDomain:!0,data:i,contentType:"application/json",dataType:"json",success:o||this.defaultQuerySuccessCallback,error:r||this.defaultQueryCollectFailureCallback})},updateCounter:function(n,o,r,i,a,s,c){"likes"===n&&this.toggleUserLike(a);var u=o;e.isNil(u)||(u=u.substring(0,1400));var l={storeId:i.datastoreId,postId:a,counterType:n,counterName:u,counterValue:r};t.ajaxLibrary.ajax({url:"https://www.wix.com/_api/blog-social-counters/collector/",crossDomain:!0,type:"POST",data:l,dataType:"json",contentType:"application/json",success:s||this.defaultQuerySuccessCallback,error:c||this.defaultQueryCollectFailureCallback})},updateCategoryTagSearchesCounter:function(e,t,n){this.updateCounter(e,t,n)},toggleUserLike:function(t){var n=JSON.parse(window.localStorage.getItem("likedBlogPosts"))||{};!1!==n[t]&&e.has(n,t)?n[t]=!1:n[t]=!0,window.localStorage.setItem("likedBlogPosts",JSON.stringify(n))}};return{getAllCountersForPost:n.getAllCountersForPost,updateCounter:n.updateCounter,toggleUserLike:n.toggleUserLike,updateCategoryTagSearchesCounter:n.updateCategoryTagSearchesCounter}}),define("coreUtils/core/socialShareHandler",["lodash","warmupUtils","coreUtils/core/socialCounterDatabaseAPI"],function(e,t,n){"use strict";function o(e,t){var n=e,o=n.split("#!");return o.length>1&&(o[1]=decodeURIComponent(o[1]),n=o.join("#!")),t&&(n=n.replace("#!","/#!")),encodeURIComponent(n)}function r(t){return t?encodeURIComponent(e.unescape(t)):""}function i(t){return t?encodeURIComponent(e.unescape(t)):""}function a(e,n){var o=e||"";return e&&!t.urlUtils.isExternalUrl(e)&&(o=n.getMediaFullStaticUrl(e)),o=encodeURIComponent(o)}function s(e){var t=f;return t+=o(e.url)}function c(e,t){var n=w;return n+=o(e.url),n+="&Title="+r(e.title),n+="&ImageURL="+a(e.imageUrl,t)}function u(e,t){var n=h;return n+=o(e.url),n+="&media="+a(e.imageUrl,t),n+="&description="+r(e.title)}function l(e){var t=v;return t+=o(e.url),t+="&text="+r(e.title)+function(e){return e?" "+(e=e.replace(/#/g,encodeURIComponent("#"))):""}(e.hashTags)+encodeURIComponent("\n")}function p(e){var t=C;return t+=o(e.url),t+="&title="+r(e.title),t+="&description="+i(e.description)}function d(e){var t=S;return t+=r(e.title),t+=" - "+o(e.url)}function g(e){var t=I;return t+=o(e.url),t+="&title="+r(e.title)}function m(e){var t="mailto:?";return t+="&subject="+r(e.title),t+="&body="+i(e.description)}function y(t,o,r){var i=function(e,t){return{google:s,fancy:c,pinterest:u,twitter:l,facebook:p,whatsapp:d,email:m,linkedin:g}[e.service](e,t)||""}(o,t.getSiteData());o.addDeepLinkParam&&(i=function(t,n){var o=t.split("#"),r=e.includes(t,"?")?"&":"?";return o[0]+=r+n,o.join("#")}(i,"deeplink_referrer=socialB_"+o.service)),"email"!==o.service?(r||n.updateCounter("shares",o.service,1,o.storeId,o.postId),t.openPopup(i,"wixapps_share","width=635,height=346,scrollbars=no,status=no,toolbar=no,menubar=no,location=no")):window.location.href=i}var f="https://plus.google.com/share?url=",w="http://www.fancy.com/fancyit/fancy?ItemURL=",h="http://pinterest.com/pin/create/button/?url=",v="https://twitter.com/intent/tweet?url=",C="http://www.facebook.com/sharer.php?u=",S="whatsapp://send?text=",T="https://www.googleapis.com/urlshortener/v1/url?key=AIzaSyDjvIfgLnQJsOxcV01kJae48WSynmXmZ2I",I="https://www.linkedin.com/shareArticle?mini=true&url=";return{handleShareRequest:y,shortenURL:function(e,n,o,r){t.ajaxLibrary.ajax({url:T,type:"POST",contentType:"application/json",data:'{"longUrl": "'+e+'"}',timeout:n||0,async:!1,success:function(e){o(e.id)},error:r})}}}),define("coreUtils/core/compsToPackages",["lodash","experiment"],function(e,t){"use strict";function n(n,o){if(t.isOpen("selectiveDialogs",o)){var r=i[n];return r?e.isArray(r)?r:[r]:[]}var a=e.includes(n,"tpapps")?["dialogs"]:[],s=i[n];return s?a.concat(s):a}var o=["wixappsCore","container","textArea","matrixGallery","slideShowGallery","comboBoxInput","dialogs"],r=o.concat(["table","messageView","wixappsClassics","mediaRichText"]),i={"wysiwyg.viewer.components.svgshape.SvgShape":"svgShape","wysiwyg.viewer.components.PopupCloseIconButton":"svgShape","wysiwyg.viewer.components.VectorImage":"svgShape","wysiwyg.viewer.components.AdminLoginButton":"adminLoginButton","wysiwyg.viewer.components.WTwitterFollow":"wTwitterFollow","wysiwyg.viewer.components.WFacebookComment":"facebookComments","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":"verticalAnchorsMenu","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenuItem":"verticalAnchorsMenu","wysiwyg.viewer.components.FacebookShare":"facebookShare","wysiwyg.viewer.components.VKShareButton":"vKShareButton","wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":"youTubeSubscribeButton","wysiwyg.viewer.components.ItunesButton":"itunesButton","wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":"skypeCallButton","wysiwyg.viewer.components.inputs.FileUploader":"fileUploader","wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":"pinItPinWidget","wysiwyg.viewer.components.PopupCloseTextButton":"popupCloseTextButton","wysiwyg.viewer.components.Displayer":"displayer","wysiwyg.viewer.components.MatrixGallery":["matrixGallery","imageZoom"],"wixapps.integration.components.Area":"container","wysiwyg.viewer.components.VerticalRepeater":"container","wysiwyg.viewer.components.WSiteStructure":"container","wysiwyg.viewer.components.SiteRegionContainer":["siteRegionContainer","container"],"mobile.core.components.Container":"container","wysiwyg.viewer.components.Repeater":["container","repeater"],"wysiwyg.viewer.components.inputs.RadioButton":"radioButton","wysiwyg.viewer.components.inputs.RadioGroup":["radioButton","radioGroup"],"wysiwyg.viewer.components.documentmedia.DocumentMedia":"documentMedia","wysiwyg.viewer.components.background.bgMedia":"backgroundCommon","wysiwyg.viewer.components.background.bgImage":"backgroundCommon","wysiwyg.viewer.components.background.html5Video":"backgroundCommon","wysiwyg.viewer.components.background.youtubeVideo":"backgroundCommon","wysiwyg.viewer.components.background.iframeVideo":"backgroundCommon","wysiwyg.viewer.components.background.bgOverlay":"backgroundCommon","wysiwyg.viewer.components.inputs.DatePicker":"datePicker","wysiwyg.viewer.components.Calendar":"datePicker","wysiwyg.viewer.components.Month":"datePicker","wysiwyg.viewer.components.Day":"datePicker","wysiwyg.viewer.components.ContactForm":"contactForm","wysiwyg.viewer.components.DynamicContactForm":"contactForm","wysiwyg.common.components.subscribeform.viewer.SubscribeForm":"subscribeForm","wixapps.integration.components.inputs.TextArea":"textArea","wysiwyg.viewer.components.inputs.TextAreaInput":"textArea","wysiwyg.viewer.components.LoginSocialBar":["loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.LoginSocialButton":["loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.Icon":"icon","wysiwyg.viewer.components.GoogleMap":"googleMap","wysiwyg.viewer.components.SoundCloudWidget":"soundCloudWidget","wysiwyg.viewer.components.PayPalButton":"paypalButton","wysiwyg.common.components.imagebutton.viewer.ImageButton":"imageButton","wysiwyg.viewer.components.LinkBar":"linkBar","wysiwyg.viewer.components.LinkBarItem":"linkBar","wysiwyg.viewer.components.inputs.ComboBoxInput":"comboBoxInput","wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":"spotifyPlayer","wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":"spotifyFollow","wysiwyg.viewer.components.TwitterFeed":"twitterFeed","wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":"backToTopButton","wysiwyg.viewer.components.svgPrimitive":"svgCommon","wysiwyg.viewer.components.WFacebookLike":"facebookLike","wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":"facebookLikeBox","wysiwyg.viewer.components.FlickrBadgeWidget":"flickrBadgeWidget","wysiwyg.common.components.rssbutton.viewer.RSSButton":"rssButton","wysiwyg.viewer.components.mobile.TinyMenu":["tinyMenu","loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.Group":"container","wysiwyg.viewer.components.FormContainer":"container","wysiwyg.viewer.components.WGooglePlusOne":"wGooglePlusOne","wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":"pinterestPinIt","wysiwyg.viewer.components.PinterestFollow":"pinterestFollow","wysiwyg.viewer.components.WTwitterTweet":"wTwitterTweet","wysiwyg.viewer.components.AudioPlayer":["audioPlayer","audioCommon"],"wysiwyg.viewer.components.LoginButton":["loginButton","dialogs"],"wysiwyg.viewer.components.HtmlComponent":"htmlComponent","wysiwyg.viewer.components.MediaPlayer":"mediaPlayer","wysiwyg.viewer.components.MediaOverlayControls":"mediaControls","wysiwyg.viewer.components.MediaControls":"mediaControls","wysiwyg.viewer.components.MediaControlPlay":"mediaControls","wysiwyg.viewer.components.MediaControlFullscreen":"mediaControls","wysiwyg.viewer.components.MediaControlVolume":"mediaControls","wysiwyg.viewer.components.MediaControlProgress":"mediaControls","wysiwyg.viewer.components.MediaControlTime":"mediaControls","wysiwyg.viewer.components.MediaControlStoryboard":"mediaControls","wysiwyg.viewer.components.SlideShowGallery":["slideShowGallery","imageZoom"],"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":["singleAudioPlayer","audioCommon"],"wysiwyg.viewer.components.QuickActionBar":"quickActionBar","wysiwyg.viewer.components.QuickActionBarItem":"quickActionBar","wysiwyg.viewer.components.BoxSlideShowSlide":"boxSlideShowSlide","wysiwyg.viewer.components.StripContainerSlideShowSlide":["stripSlideShowSlide","boxSlideShowSlide"],"wysiwyg.viewer.components.PopupContainer":"popupContainer","wysiwyg.viewer.components.StripContainer":"stripContainer","wysiwyg.viewer.components.StripColumnsContainer":"stripColumnsContainer","wysiwyg.common.components.exitmobilemode.viewer.ExitMobileMode":"exitMobileModeButton","tpa.viewer.components.Masonry":"tpaGalleries","tpa.viewer.components.Accordion":"tpaGalleries","tpa.viewer.components.Impress":"tpaGalleries","tpa.viewer.components.Freestyle":"tpaGalleries","tpa.viewer.components.Collage":"tpaGalleries","tpa.viewer.components.Honeycomb":"tpaGalleries","tpa.viewer.components.StripShowcase":"tpaGalleries","tpa.viewer.components.StripSlideshow":"tpaGalleries","tpa.viewer.components.Thumbnails":"tpaGalleries","wysiwyg.viewer.components.tpapps.TPA3DGallery":"tpaGalleries","wysiwyg.viewer.components.tpapps.TPA3DCarousel":"tpaGalleries","wysiwyg.viewer.components.MessageView":"messageView","wysiwyg.viewer.components.FlashComponent":["flashComponent","swfobject"],"wysiwyg.viewer.components.BoxSlideShow":"stripSlideShow","wysiwyg.viewer.components.StripContainerSlideShow":"stripSlideShow","wysiwyg.viewer.components.MobileActionsMenu":"mobileActionsMenu","wysiwyg.components.imageZoom":"imageZoom","wysiwyg.viewer.components.MediaZoom":"imageZoom","wysiwyg.components.ImageZoomDisplayer":"imageZoom","wysiwyg.viewer.components.MobileMediaZoom":"imageZoom","wysiwyg.viewer.components.TouchMediaZoom":"imageZoom","wysiwyg.viewer.components.TouchMediaZoomItem":"imageZoom","wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":"verticalMenu","wysiwyg.common.components.disquscomments.viewer.DisqusComments":"disqusComments","wysiwyg.viewer.components.inputs.Checkbox":"checkbox","wixapps.integration.components.Icon":"wixappsCore","wixapps.integration.components.ImageButton":"wixappsCore","wixapps.integration.components.Toggle":"wixappsCore","wysiwyg.viewer.components.Grid":["gridComponent","ag-grid"],"wysiwyg.viewer.components.Table":"table","wysiwyg.viewer.components.dialogs.NotificationDialog":"dialogs","wysiwyg.viewer.components.dialogs.EnterPasswordDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.SignUpDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.MemberLoginDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.RequestPasswordResetDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.ResetPasswordDialog":"dialogs","wysiwyg.viewer.components.inputs.ErasableTextInput":"dialogs","wysiwyg.components.viewer.inputs.InputWithValidation":"dialogs","wysiwyg.viewer.components.SliderGallery":"imageZoom","wysiwyg.viewer.components.LanguageSelector":"languageSelector","wysiwyg.viewer.components.MediaContainer":"mediaContainer","wysiwyg.viewer.components.HoverBox":"mediaContainer","wysiwyg.viewer.components.Column":"mediaContainer","wysiwyg.viewer.components.EbayItemsBySeller":"ebayItemsBySeller","platform.components.AppController":"controller","platform.components.semiNativeComponent":"semiNativeComponent","wysiwyg.viewer.components.MediaRichText":"mediaRichText","wysiwyg.viewer.components.ImageButtonWithText":"wixappsCore","wysiwyg.viewer.components.inputs.ColorOption":"wixappsClassics","ecommerce.integration.components.MobileColorOption":"wixappsClassics","wysiwyg.common.components.NumericStepper":"wixappsClassics","wysiwyg.common.components.inputs.OptionsListInput":"wixappsClassics","wysiwyg.common.components.inputs.SelectOptionsList":"wixappsClassics","wysiwyg.viewer.components.inputs.TextOption":"wixappsClassics","ecommerce.integration.components.MobileTextOption":"wixappsClassics","wixapps.integration.components.AppPartZoom":r,"wixapps.integration.components.AppPart":r,"wixapps.integration.components.AppPart2":o.concat("wixappsBuilder"),"wixui.ToggleSwitch":"toggleSwitch","wixui.Pagination":"pagination","wixui.Slider":"slider"};return{compToPackages:n,prefetchComponents:function(t,o,r){function i(c){var u=c.componentType;if(u){var l=n(u);if(l[0]&&a.push(l),!s&&c.dataQuery&&"wixapps.integration.components.AppPart"===u){var p=e.get(o,"rendererModel.clientSpecMap",{}),d=e.get(t,"data.document_data",{}),g=c.dataQuery;"#"===g[0]&&(g=g.substring(1));var m=p[d[g].appInnerID];"wixapps"===m.type&&"blog"===m.packageName&&(s=!0)}}var y=c.children,f=r?c.mobileComponents:c.components;f&&(y=(y||[]).concat(f)),e.forEach(y,i)}var a=[],s=!1;return i(t.structure),(a=e(a).flatten().uniq().value()).length&&requirejs(a,e.noop),s},all:function(){return e(i).values().flatten().uniq().value()}}}),define("coreUtils",["lodash","coreUtilsLib","warmupUtils","coreUtils/components/componentUtils","coreUtils/core/anchorTagsGenerator","coreUtils/core/linkRenderer","coreUtils/core/linkTypes","coreUtils/core/linkUtils","coreUtils/core/menuUtils","coreUtils/core/translationsLoader","coreUtils/core/masterPageLayoutUtils","coreUtils/core/originalValuesMapGenerator","coreUtils/core/componentsAnchorsMetaData","coreUtils/core/layoutAnchorsUtils","coreUtils/core/wixUserApi","coreUtils/core/scrollAnchorsUtils","coreUtils/core/renderUtils","coreUtils/core/clientSpecMapUtils","coreUtils/core/componentVisibility","coreUtils/core/fileUploadManager","coreUtils/core/fullToDisplayedJson","coreUtils/core/jsonUpdaterRegistrar","coreUtils/core/mobileUtils","coreUtils/core/modesUtils","coreUtils/core/proxyLayoutRegistrar","coreUtils/core/structureDimensions","coreUtils/core/socialShareHandler","coreUtils/core/socialCounterDatabaseAPI","coreUtils/core/compsToPackages"],function(e,t,n,o,r,i,a,s,c,u,l,p,d,g,m,y,f,w,h,v,C,S,T,I,P,b,A,O,E){"use strict";return e.assign({},t,n,{componentUtils:o,anchorTagsGenerator:r,linkRenderer:i,linkTypes:a,linkUtils:s,menuUtils:c,translationsLoader:u,masterPageLayoutUtils:l,originalValuesMapGenerator:p,componentsAnchorsMetaData:d,layoutAnchors:g,wixUserApi:m,scrollAnchors:y,Store:t.StoreNew,renderUtils:f,clientSpecMapUtils:w,componentVisibility:h,fileUploadManager:v,fullToDisplayedJson:C,jsonUpdaterRegistrar:S,mobileUtils:T,modesUtils:I,proxyLayoutRegistrar:P,structureDimensions:b,socialShareHandler:A,socialCounterDatabaseAPI:O,allPackages:E.all,compToPackages:E.compToPackages,prefetchComponents:E.prefetchComponents})});
//# sourceMappingURL=coreUtils.min.js.map