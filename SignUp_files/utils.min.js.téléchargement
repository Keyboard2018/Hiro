function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("utils/fonts/uploadedFontsUtils",["lodash","coreUtils"],function(e,t){"use strict";return{isUploadedFontFamily:t.fonts.isUploadedFontFamily,getUploadedFontValue:t.fonts.getUploadedFontValue,getUploadedId:t.fonts.getUploadedId,getUploadedFontFaceStyles:t.fonts.getUploadedFontFaceStyles}}),define("utils/fonts/constants",[],function(){"use strict";return{UPLOADED_FONT_PREFIX:"wf_",LONG_UPLOADED_FONT_PREFIX:"wfont_"}}),define("utils/fonts/fontsParser",["lodash"],function(e){"use strict";return{collectFontsFromTextDataArray:function(t){var a=/(<[^>]+["']font-family:\s*)([^,;]+)([,;])/g;return e.reduce(t,function(e,t){a.lastIndex=0;for(var r=void 0;r=a.exec(t);)e.push(r[2].replace(/['"]/g,""));return e},[])}}}),define("utils/media/media",["coreUtils"],function(e){"use strict";return{getMediaUrl:function(t,a){var r=t&&t.scriptsDomainUrl||"https://static.parastorage.com/";return e.urlUtils.joinURL(r,"services","santa-resources","resources","viewer",a)}}}),define("utils/fonts/fontUtils",["lodash","coreUtils","coreUtilsLib","utils/fonts/fontsParser","utils/media/media"],function(e,t,a,r,n){"use strict";function o(t){return e.compact(e.map(t,function(e){return h.getFontsMetaData()[e]}))}function i(t){var a=h.getFontsMetaData()[t.toLowerCase()],r=a.fontFamily,n=void 0;return a?(n=r,""!==a.fallbacks&&(n+=","+a.fallbacks),n+=","+a.genericFamily):n=t,function(t){return e(t).split(",").invokeMap("replace",/.*[^\w\d\-].*/,'"$&"').join(",")}(n)}function s(t,a){return function(t,a){var n=t.getPageDataMap(a,t.dataTypes.DATA),o=e(n).filter(function(t){return e.has(y,t.type)}).map(function(a){var n=y[a.type](t,a);return e.union(r.collectFontsFromTextDataArray(n))}).flattenDeep().value(),i=e(n).filter(function(t){return e.has(S,t.type)}).map(function(e){return S[e.type](t,e)||[]}).flattenDeep().value(),s=e.get(n,"masterPage.usedFonts",[]);return e.union(o,i,function(t){var a=e.times(11,function(e){return"font_"+e});return function(t,a){var r=t.getGeneralTheme();return e.map(a,function(e){return c(r,e)})}(t,a)}(t),s)}(t,a)}function c(e,a){var r=e.font[parseInt(a.substring(a.indexOf("_")+1),10)],n="";return r&&(n=function(e){return t.cssUtils.parseFontStr(e)}(r).family.toLowerCase()),n}function u(t,a){var r=function(t){var a=d(t),r=e.reduce(h.getFontsMetaData(),function(t,r,n){var o=r.characterSets;return e.includes(a,r.permissions)&&(r.cssFontFamily=i(n),e.forEach(o,function(e){t[e]||(t[e]=[]),t[e].push(r)})),t},{});return e.forOwn(r,function(t,a){r[a]=e.sortBy(t,"displayName")}),r}(t);return e(g).intersection(a).map(function(e){return{lang:e,fonts:r[e]}}).value()}function l(t,a,r){var n=function(t,a,r){var n="",o=d(a);if(e.forEach(t,function(t){var a=h.getFontsMetaData()[t];a&&a.cdnName&&e.includes(o,a.permissions)&&(n+=a.cdnName,n+=":n,b,i,bi|")}),""===n)return null;r&&(n+="&subset="+r.join(","));return n}(e.isArray(t)?t:e.keys(t),a,r);return n?m+n:""}function d(e){var t=["all","legacy"];return"WixSite"===e&&t.push("studio"),t}function p(e,t){var a={langauges:n.getMediaUrl(e,"user-site-fonts/v5/languages.css")};return"WixSite"===t&&(a.helveticas=n.getMediaUrl(e,"user-site-fonts/v3/helvetica.css")),a}var h=a.fonts,m="//fonts.googleapis.com/css?family=",g=["latin-ext","cyrillic","japanese","korean","arabic","hebrew","latin"],f=/<[^>]+class="[^"]*(font_[0-9]+)[^"]*"/g,y={StyledText:function(e,t){return[t.text]},RichText:function(e,t){return[t.text]}},S={};return t.sessionFreezer.freeze(S),{parseFontStr:h.parseFontStr,parseStyleFont:h.parseStyleFont,getMetadata:o,getGoogleFontsUrl:function(t,a){if(0!==t.length){var r=e.map(t,function(e){return e.cdnName+":n,b,i,bi|"});return a&&(r.push("&subset="),r.push(a.join(","))),m+r.join("")}},getFontFamily:h.getFontFamily,getFontFallback:h.getFontFallback,getPageFontsMetaData:function(t,a){return o(e.filter(s(t,a),function(t){return e.has(h.getFontsMetaData(),t)}))},getFontFamilyWithFallbacks:h.getFontFamilyWithFallbacks,getWixStoredFontsCssUrls:function(t,a){var r=p(t,a);return e.values(r)},getWixStoredFontsCssUrlsWithParams:h.getWixStoredFontsCssUrlsWithParams,getCurrentSelectablefontsWithParams:u,collectFontsFromTextDataArray:r.collectFontsFromTextDataArray,getFontsUrlWithParams:h.getFontsUrlWithParams,getFontFamilyByStyleId:c,getFontClassName:function(e){f.lastIndex=0;var t=f.exec(e);return t?t[1]:void 0},registerCustomTextDataGetter:function(e,t){y[e]=t},registerCustomFontFamiliesGetter:function(e,t){S[e]=t},getPageUsedFontsList:s,getWixHelveticaUrl:function(e){return e.publicStaticsUrl+"/css/Helvetica/fontFace.css"},getCssUrls:function(t,a){var r={};return r.googleFonts=l(h.getFontsMetaData(),t,g),e.merge(r,p(a,t)),r},fontToCSSWithColor:h.fontToCSSWithColor,getFontFamilyPermissions:h.getFontFamilyPermissions,POSSIBLE_CHARACTERS_SETS:g}}),define("utils/fonts/fontCss",["lodash","utils/fonts/fontUtils"],function(e,t){"use strict";return{getThemeFontsCss:function(a,r){var n="";return e.forEach(a,function(e,a){n+=".font_"+a+" {font: "+t.fontToCSSWithColor(e,r)+"} \n"}),n}}}),define("utils/fonts/fontsTracker",["lodash","utils/fonts/fontUtils"],function(e,t){"use strict";function a(e,a){return t.getPageUsedFontsList(e,a)}var r={permissions:"all",provider:"monotype"},n=Object.create(null);return{shouldTrackFonts:function(o,i){if(!e.isObject(o))return!1;n.masterPage=n.masterPage||a(o,"masterPage"),n[i]=n[i]||a(o,i);var s=e.union(n.masterPage,n[i]),c=t.getMetadata(s);return e.some(c,{permissions:r.permissions,provider:r.provider})}}}),define("utils/mixins/postMessageCompMixin",["lodash"],function(e){"use strict";return{componentWillMount:function(){this.handlers={}},componentWillUnmount:function(){e.forEach(this.handlers,function(e,t){this.clearPostMessageHandlerNamed(t)}.bind(this))},setPostMessageHandler:function(e,t){this.setPostMessageHandlerNamed("default",e,t)},setPostMessageHandlerNamed:function(e,t,a){this.handlers.hasOwnProperty(e)&&this.clearPostMessageHandlerNamed(e);var r=function(e){var r=void 0;try{r=JSON.parse(e.data)}catch(e){return}(r.id===t||null===t&&void 0===r.id)&&a(r)};window.addEventListener("message",r,!1),this.handlers[e]=r},clearPostMessageHandlerNamed:function(e){this.handlers[e]&&(window.removeEventListener("message",this.handlers[e],!1),delete this.handlers[e])}}}),define("utils/socialAPI/providers/facebook",["zepto"],function(e){"use strict";function t(t){return function(r,n){e.ajax({url:a+encodeURIComponent(r),dataType:"json",success:function(e,a){if("success"===a&&e[0]){var r=function(e){return{likesAndShares:e.total_count||0,comments:e.commentsbox_count||0}}(e[0]);n(r[t])}else n(0,0)},error:function(){n(0,0)}})}}var a="https://api.facebook.com/restserver.php?format=json&method=links.getStats&urls=";return t.likes=t.shares=t("likesAndShares"),t.comments=t("comments"),t}),define("utils/socialAPI/providers/vk",[],function(){"use strict";function e(e){window.VK=window._tempVK,delete window._tempVK,window.document.head.removeChild(e)}return function(t,a){var r=window.document.createElement("script"),n=0;window._tempVK=window.VK,window.VK={Share:{count:function(e,t){n=t}}},r.setAttribute("type","text/javascript"),r.setAttribute("src","https://vk.com/share.php?act=count&url="+encodeURIComponent(t)),r.addEventListener("load",function(){a(n),e(r)}),r.addEventListener("error",function(){a(n),e(r)}),window.document.head.appendChild(r)}}),define("utils/socialAPI/providers/pinterest",["zepto"],function(e){"use strict";return function(t,a){var r=0;window._tempReceiveCount=window.receiveCount,window.receiveCount=function(e){r=e.count},e.ajax({url:"https://widgets.pinterest.com/v1/urls/count.json?url="+encodeURIComponent(t),dataType:"script",complete:function(){a(r),window.receiveCount=window._tempReceiveCount,delete window._tempReceiveCount}})}}),define("utils/socialAPI/socialAPI",["utils/socialAPI/providers/facebook","utils/socialAPI/providers/vk","utils/socialAPI/providers/pinterest"],function(e,t,a){"use strict";return{facebook:e,pinterest:a,vk:t}}),define("utils/accessibility/tabbable/tabbable",[],function(){"use strict";function e(e,t){for(var a=[],r=[],n=[],o=function(){function e(a,r){if(a===window.document.documentElement)return!1;for(var n=0,o=t.length;n<o;n++)if(t[n][0]===a)return t[n][1];var i=!1;return"none"===(r=r||window.getComputedStyle(a)).display?i=!0:a.parentNode&&(i=e(a.parentNode)),t.push([a,i]),i}var t=[];return function(t){if(t===window.document.documentElement)return!1;var a=window.getComputedStyle(t);return!!e(t,a)||"hidden"===a.visibility}}(),i=e.querySelectorAll(["input","select","a[href]","textarea","button","[tabindex]"]),s=void 0,c=void 0,u=0,l=i.length;u<l;u++)s=i[u],(c=parseInt(s.getAttribute("tabindex"),10)||s.tabIndex)<0&&!t||"INPUT"===s.tagName&&"hidden"===s.type||s.disabled||o(s)||(-1===c&&t&&a.push(s),0===c?r.push(s):n.push({tabIndex:c,node:s}));var d=n.sort(function(e,t){return e.tabIndex-t.tabIndex}).map(function(e){return e.node});return a.concat(r),Array.prototype.push.apply(d,r),d}return{getTabbableElements:e}}),define("utils/accessibility/keyboardInteractions/keyboardInteractions",["zepto"],function(e){"use strict";function t(t){" "===t.key&&(t.preventDefault(),t.stopPropagation(),e(t.target).click())}return{activateBySpaceButton:t,activateBySpaceOrEnterButton:function(a){if("Enter"===a.key)return a.preventDefault(),a.stopPropagation(),void e(a.target).click();t(a)}}}),define("utils/accessibility/accessibility",["utils/accessibility/tabbable/tabbable","utils/accessibility/keyboardInteractions/keyboardInteractions"],function(e,t){"use strict";return{getTabbaleElements:e.getTabbableElements,keyboardInteractions:t}}),define("utils/color/colorParser",["lodash","color","coreUtils"],function(e,t,a){"use strict";function r(e,t){return e[t&&t.split("_")[1]]||t}return{getColor:function(n,o,i){var s=void 0,c=void 0;return/color_/.test(o)&&(o=r(n,o=o.replace(/[\[\]{}]/g,"")),o=a.cssUtils.normalizeColorStr(o)),"none"===o?s="transparent":(c=new t(o),e.isNumber(i)&&c.setValues("alpha",i),s=0===c.alpha()?"transparent":c.rgbaString()),s},getColorValue:function(e,t){return r(e.color,t)}}}),define("utils/routers/onRoutingResponse",["lodash","coreUtils"],function(e,t){"use strict";function a(a,o,i,s,c,u,l,d){var p={pageId:d.result.page,pageData:d.result.data,pageHeadData:d.result.head};d.result.tpaInnerRoute&&(p.tpaInnerRoute=d.result.tpaInnerRoute),d.result.publicData&&(p.publicData=d.result.publicData);var h=e.parseInt(d.result.status);if(d.exception?function(e,a,n,o){var i=new Error(e.message);i.name=e.name,i.stack=e.stack,t.logWixCodeConsoleError(i),o.pageId=a?n:r.IDS.INTERNAL_ERROR}(d.result,i,c,p):(403===h?function(e,t,a){n("Forbidden (403) - The request was a valid request, but the server is refusing to respond to it. The user might be logged in but does not have the necessary permissions for the resource."),a.pageId=e?t:r.IDS.FORBIDDEN}(i,c,p):302===h||301===h?function(e,t,a){n('Redirected to URL: "'+t.result.redirectUrl+'"'),a.redirectUrl=t.result.redirectUrl,a.pageId=e}(c,d,p):404===h?function(e,t,a){n("Not Found (404) - The requested resource could not be found"),a.pageId=e?t:r.IDS.NOT_FOUND}(i,c,p):500===h?function(e,t,a,o){n(500===e?"Internal Server Error (500)":"Error Code ("+e+")"),o.pageId=t?a:r.IDS.INTERNAL_ERROR}(h,i,c,p):p.pageId||function(e,t,a,o){n("Uknown error("+o+")"),a.pageId=e?t:r.IDS.UKNOWN_ERROR}(i,c,p,d.result.status),n(d.result.message)),(h>=400||d.exception)&&s){var m=("/"+o).replace(/^\/\//,"/");p.errorInfo={statusCode:d.exception?500:h,routerUrl:"/"+a.prefix+m,publicUrl:u+"/"+a.prefix+m}}l(p)}var r=t.errorPages,n=t.logWixCodeConsoleMessage;return{checkResponse:a}}),define("utils/routers/routersBackEndRequests",["lodash","coreUtils","platformInit","experiment","utils/routers/onRoutingResponse"],function(e,t,a,r,n){"use strict";function o(t,a,r){if(/(wix-code|dataBinding)/.test(a))return function(e,t){return(t?l.editor:l.viewer)[e]}(a,r);return e.find(t,{appDefinitionId:a}).appFields.platform.routerServiceUrl}function i(n,i,s,l,d){var p={type:"POST",dataType:"json",url:function(t,a,n,i,s,c){var u=t.host,l=o(s,a.appDefinitionId,i);i||"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9"!==a.appDefinitionId||(l="/"+t.path.replace(/.*?\/([^/]*).*/,"$1")+l);var d=n?"/sitemap":"/pages";if(/^\//.test(l))return!i&&/(wix-code|dataBinding)/.test(a.appDefinitionId)&&r.isOpen("wixCodePublicDispatcherSendFreeSiteName",c)?""+e.trimEnd(c.getExternalBaseUrl(),"/")+l+d:t.protocol+"//"+u+l+d;return""+l+d}(n.currentUrl,n.routerDefinition,i,n.isEditor,n.clientSpecMap,d)+function(e,t,r,n){var o=["viewMode="+(n?"editor":"site"),"scari="+r],i=/(wix-code|dataBinding)/.test(t)?void 0:t,s=a.specMapUtils.getAppSpec(e,i);return s&&o.push("instance="+s.instance),"?"+o.join("&")}(n.clientSpecMap,n.routerDefinition.appDefinitionId,n.rendererModel_wixCodeModel_appRenderInfo,n.isEditor),data:function(t,a,r,n,o,i){var s=e.isString(r.config)?JSON.parse(r.config):r.config,c=("/"+a).replace(/^\/\//,"/"),u=n+"/"+r.prefix+c;return i&&(u=u+"?"+i),{fullUrl:u,routerPrefix:"/"+r.prefix,routerSuffix:c,requestInfo:{formFactor:o},config:s,pageRoles:t}}(n.pageRoles,n.suffix,n.routerDefinition,n.publicBaseUrl,n.formFactor,n.queryParams),success:function(t){e.get(t,"result._elementoryError")&&u("Internal server error:"+t.result.stack),function(t){e.forEach(t,function(e){u(e[1])})}(e.get(t,"consoleMethodCalls")),s(t)},error:l,failRenderOnError:!0};r.isOpen("wixCodeNoIframe",d)&&(p.headers={"X-XSRF-TOKEN":t.cookieUtils.getCookie("XSRF-TOKEN")}),c.ajax(p)}function s(t,a,r,n){function o(n){if(n.exception)r(n.result);else{!function(t,a){var r=new RegExp(".*?/"+a);e.forEach(t,function(e){e&&e.url&&(e.url=e.url.replace(r,""),"/"===e.url.charAt(0)&&e.url.length>1&&(e.url=e.url.substring(1)))})}(n.result,t.routerDefinition.prefix),a(n.result)}}i(t,!0,o,r,n)}var c=t.ajaxLibrary,u=t.logWixCodeConsoleMessage,l={editor:{"wix-code":"/_api/wix-code-dev-dispatcher/routers/custom",dataBinding:"/_api/wix-code-dev-dispatcher/routers/data-binding"},viewer:{"wix-code":"/_api/wix-code-public-dispatcher/routers/custom",dataBinding:"/_api/wix-code-public-dispatcher/routers/data-binding"}};return{getPage:function(t,a,r,o){i(t,!1,e.partial(n.checkResponse,t.routerDefinition,t.suffix,t.isPreview,t.isEditorPreview,t.primaryPageId,t.publicBaseUrl,a),r,o)},getInnerRoutesSiteMap:s,makeParamObjFromPs:function(t,a,r){var n=e.map(r.getPagesList(t,!0),function(e){return{pageId:e,title:r.getPageData(t,e).title}});return{isEditor:!0,currentUrl:t.dal.getByPath(["currentUrl"]),clientSpecMap:t.dal.get(t.pointers.general.getClientSpecMap()),rendererModel_wixCodeModel_appRenderInfo:t.dal.getByPath(["rendererModel","wixCodeModel","signedAppRenderInfo"]),routerDefinition:a,suffix:"",pageRoles:e.reduce(a.pages,function(t,a,r){return t[r]={id:a,title:e.find(n,{pageId:a}).title},t},{}),publicBaseUrl:t.siteDataAPI.siteData.getPublicBaseUrl()}},makeParamObjFromSiteData:function(a,r,n){var o=e.assign({},a.getQueryParams(),n.queryParams||{}),i=t.urlUtils.toQueryString(o);return{primaryPageId:a.getPrimaryPageId(),isPreview:!!a.documentServicesModel,isEditorPreview:"preview"===a.renderFlags.componentViewMode&&!!a.documentServicesModel,isEditor:!a.isViewerMode(),currentUrl:a.currentUrl,clientSpecMap:a.getClientSpecMap(),rendererModel_wixCodeModel_appRenderInfo:e.get(a,"rendererModel.wixCodeModel.signedAppRenderInfo"),routerDefinition:r,suffix:n.innerRoute,queryParams:i,pageRoles:e.reduce(r.pages,function(t,r,n){var o=e.chain(a).get("publicModel.pageList.pages").find({pageId:r}).get("title").value();return t[n]={id:r,title:o||e.get(a.getDataByQuery(r),"title")},t},{}),publicBaseUrl:a.getPublicBaseUrl(),formFactor:a.isMobileView()||a.isMobileDevice()?"mobile":"desktop"}}}}),define("utils/integrations/fullStory",[],function(){"use strict";return{start:function(){requirejs(["wixFullstoryLoader"],function(e){e({label:"santa-viewer",iframe:!0,spec:"sv_fullstory"})})}}}),define("utils/integrations/ravenUtils",["lodash"],function(e){"use strict";function t(){return{publicUrl:e.get(n,"publicModel.externalBaseUrl"),numberOfPages:e.get(n,"publicModel.pageList.pages.length"),revision:e.get(n,"publicModel.siteRevision"),geo:e.get(n,"rendererModel.geo")}}function a(){var t={premiumFeatures:e.get(n,"rendererModel.premiumFeatures"),isFromAdi:function(t){var a=e.find(t,{type:"onboarding"});return!0===e.get(a,"inUse",!1)}(e.get(n,"rendererModel.clientSpecMap"))};return n.documentServicesModel&&(t=e.merge(t,{editorSessionId:e.get(n,"documentServicesModel.editorSessionId"),userEmail:e.get(n,"documentServicesModel.userInfo.email"),isPublished:e.get(n,"documentServicesModel.isPublished")})),t}var r=void 0,n=void 0;return{initRavenUtils:function(o){n=o,(r=e.get(n,"Raven",null))&&(this.start=function(){!function(){var t=e.get(n,"baseVersion");t&&"unknown"!==t?r.setRelease(t):r.uninstall()}(),r.setUserContext({id:e.get(n,"siteHeader.userId")}),r.setTagsContext(t()),r.setExtraContext(a())},this.setGlobalTagForErrors=function(a){r.setTagsContext(),r.setTagsContext(e.defaults(a,t()))},this.setGlobalContextForErrors=function(t){r.setExtraContext(),r.setExtraContext(e.defaults(t,a()))},this.sendInfoMassage=function(e){r.captureMessage(e,{level:"info"})},this.setTag=function(e){r.setTag(e)},this.uninstall=function(){r.uninstall()},this.captureError=function(e,t){r.captureException(e,t)},this.breadcrumb=function(e,t,a){r.captureBreadcrumb({message:e,category:t,data:a})})},start:e.noop,setGlobalTagForErrors:e.noop,setGlobalContextForErrors:e.noop,sendInfoMassage:e.noop,setTag:e.noop,uninstall:e.noop,captureError:e.noop,breadcrumb:e.noop}}),define("utils/integrations/promoteAnalytics",["lodash","thirdPartyAnalytics"],function(e,t){"use strict";return{trackEvent:function(a,r,n,o){requirejs(["promote-analytics-adapter"],function(i){if(i.api){var s={facebookRemarketing:{name:i.channelNames.FACEBOOK_PIXEL,report:a.fireFacebookCustomEvent},googleAnalytics:{name:i.channelNames.GOOGLE_ANALYTICS,report:a.reportGoogleAnalytics},googleTagManager:{name:i.channelNames.GOOGLE_TAG_MANAGER,report:a.reportGoogleTagManager}},c=a.getSiteData(),u=e.filter(s,function(e,a){return t.hasAccount(c,a)});a.isExperimentOpen("wixAnalytics")&&u.push({name:i.channelNames.WIX_ANALYTICS,report:a.reportWixAnalytics}),i.api.init(u),i.api.trackEvent(r,n,o)}})}}}),define("utils/santaTypes/santaTypes",["coreUtils"],function(e){"use strict";return{shortenStyleId:function(t){var a=(t||"").split(".");if(function(e){return e.length>1}(a)){var r=e.hashUtils.SHA256.b64_sha256(t);return"s_"+(r.substr(r.length-5)+a.pop()).replace(/[^a-z]/gi,"")}return t}}}),define("utils/mesh/meshLayoutGenerator",["lodash","coreUtils","mesh"],function(e,t,a){"use strict";function r(t,a,r,n,o){var i=t.displayedDAL,s=t.pointers,c=s.meshStyles.getMeshStylesMapPointer(),u=s.getInnerPointer(c,[a]);i.isExist(u)||i.set(u,{MOBILE:{},DESKTOP:{}});var l=s.meshStyles.getMeshStylesPointer(a,r,n),d=i.get(l)||{};i.set(l,e.assign({},d,o))}function n(r,o,s,c){var u=function(t){var a=t.currentUrl.query;return e.reduce(i,function(e,t,r){var n=a[r];return n&&(e[t.optionKey]=t.sanitize?t.sanitize(n):n),e},{})}(r),l=t.dataUtils.getChildrenData(s,o===t.constants.VIEW_MODES.MOBILE),d=a.structure2mesh({width:s.layout.width||0,height:s.layout.height,id:s.id,components:e(l).filter(function(t){return e.isNumber(t.layout.y)}).map(function(e){return{id:e.id,left:e.layout.x,top:e.layout.y,width:e.layout.width,height:e.layout.height}}).value()},u),p=d.styles,h=d.structure,m=l.reduce(function(t,a){return e.assign(t,_defineProperty({},a.id,!0))},{}),g=e(p).keys().reject(function(e){return!!m[e]}).value(),f=e.pick(p,g);c(s.id,{selfStyle:p[s.id],structure:h.children,styles:f}),e.forEach(l,function(e){c(e.id,{childStyle:p[e.id]}),n(r,o,e,c)})}function o(t,a,o,i){n(t.siteData,i,a,e.partial(r,t,o,i))}var i={meshSoftMargin:{optionKey:"softMargin",sanitize:function(e){return Number(e)}}};return{createMeshForContainer:o,createMeshForPage:function(e,t,a){o(e,t,t.id,a)}}}),define("utils/media/svg",["lodash","coreUtils"],function(e,t){"use strict";function a(e,t){if(/^svgshape\.v[12]/.test(t)){var a=t.replace(/^.*\//,"").split(".");return e+"shapes/"+function(e,t,a){return t+(1===e?"_svgshape.v1."+a:"")+".svg"}("v1"===a[1]?1:2,a[2].replace(/svg_/i,""),a[3])}return e+"shapes/"+t}function r(a){var r=t.fragment.document.createElement("div");r.innerHTML=a;var n=r.querySelectorAll("[data-color]"),o=e.reduce(n,function(e,t){return e["color"+t.getAttribute("data-color")]=t.getAttribute("fill"),e},{}),i=r.querySelector("svg");return o.svgType=i.getAttribute("data-type")||c.SHAPE,o.viewBox=i.getAttribute("viewBox")||function(e,t){if(e===c.UGC){var a=parseInt(t.getAttribute("width"),0),r=parseInt(t.getAttribute("height"),0);if(a&&r)return"0 0 "+a+" "+r}return""}(o.svgType,i),o}function n(e){var t;return t={},_defineProperty(t,s.CONTENT,e),_defineProperty(t,s.INFO,r(e)),_defineProperty(t,s.BOX_BOUNDARIES,{}),t}var o='<svg viewBox="0 0 1 1"><g></g></svg>',i="svgShapes",s={CONTENT:"content",INFO:"info",BOX_BOUNDARIES:"boxBoundaries"},c={SHAPE:"shape",TINT:"tint",COLOR:"color",UGC:"ugc"};return{createSvgFetchRequest:function(e,r,s){return t.siteDataUtils.getSvgString(r,s)?null:{destination:[i,s],name:"svg shape",url:a(e,s),dataType:"html",transformFunc:n,error:function(){t.siteDataUtils.setSvgShapeStore(r,s,n(o))}}},svgIdToUrl:a,svgStringToStoreData:n,EMPTY_SHAPE:o,SVG_STORES:s,SVG_TYPES:c,SHAPE_STYLE_DEFAULTS:{strokeWidth:4,opacity:1,stroke:"#5E97FF",strokeOpacity:1,enableStroke:!1},ART_STYLE_DEFAULTS:{opacity:1},COLOR_DEFAULT:{color1:"#242323"},SKIN_STYLE_KEYS_MAP:{"alpha-fillcolor":"opacity","alpha-stroke":"strokeOpacity",enablestroke:"enableStroke",fillcolor:"fill",stroke:"stroke",strokewidth:"strokeWidth",opacity:"opacity"},SVG_ROOT:i}}),define("utils/siteUtils/countryCodes.json",[],function(){return{countries:{AFG:{countryName:"Afghanistan",characterSets:[],phoneCode:"+93"},ALA:{countryName:"Åland Islands",characterSets:[],phoneCode:"+358 18"},ALB:{countryName:"Albania",characterSets:[],phoneCode:"+355"},DZA:{countryName:"Algeria",characterSets:["arabic"],phoneCode:"+213"},ASM:{countryName:"American Samoa",characterSets:[],phoneCode:"+1 684"},AND:{countryName:"Andorra",characterSets:[],phoneCode:"+376"},AGO:{countryName:"Angola",characterSets:[],phoneCode:"+244"},AIA:{countryName:"Anguilla",characterSets:[],phoneCode:"+1 264"},ATA:{countryName:"Antarctica",characterSets:[],phoneCode:""},ATG:{countryName:"Antigua and Barbuda",characterSets:[],phoneCode:"+1 268"},ARG:{countryName:"Argentina",characterSets:[],phoneCode:"+54"},ARM:{countryName:"Armenia",characterSets:[],phoneCode:"+374"},ABW:{countryName:"Aruba",characterSets:[],phoneCode:"+297"},AUS:{countryName:"Australia",characterSets:[],phoneCode:"+61"},AUT:{countryName:"Austria",characterSets:[],phoneCode:"+43"},AZE:{countryName:"Azerbaijan",characterSets:[],phoneCode:"+994"},BHS:{countryName:"Bahamas",characterSets:[],phoneCode:"+1 242"},BHR:{countryName:"Bahrain",characterSets:["arabic"],phoneCode:"+973"},BGD:{countryName:"Bangladesh",characterSets:[],phoneCode:"+880"},BRB:{countryName:"Barbados",characterSets:[],phoneCode:"+1 246"},BLR:{countryName:"Belarus",characterSets:["cyrillic"],phoneCode:"+375"},BEL:{countryName:"Belgium",characterSets:[],phoneCode:"+32"},BLZ:{countryName:"Belize",characterSets:[],phoneCode:"+501"},BEN:{countryName:"Benin",characterSets:[],phoneCode:"+229"},BMU:{countryName:"Bermuda",characterSets:[],phoneCode:"+1 441"},BTN:{countryName:"Bhutan",characterSets:[],phoneCode:"+975"},BOL:{countryName:"Bolivia, Plurinational State of",characterSets:[],phoneCode:"+591"},BES:{countryName:"Bonaire, Sint Eustatius and Saba",characterSets:[],phoneCode:"+599 7"},BIH:{countryName:"Bosnia and Herzegovina",characterSets:["cyrillic"],phoneCode:"+387"},BWA:{countryName:"Botswana",characterSets:[],phoneCode:"+267"},BVT:{countryName:"Bouvet Island",characterSets:[],phoneCode:""},BRA:{countryName:"Brazil",characterSets:[],phoneCode:"+55"},IOT:{countryName:"British Indian Ocean Territory",characterSets:[],phoneCode:"+246"},BRN:{countryName:"Brunei Darussalam",characterSets:[],phoneCode:"+673"},BGR:{countryName:"Bulgaria",characterSets:["cyrillic"],phoneCode:"+359"},BFA:{countryName:"Burkina Faso",characterSets:[],phoneCode:"+226"},BDI:{countryName:"Burundi",characterSets:[],phoneCode:"+257"},KHM:{countryName:"Cambodia",characterSets:[],phoneCode:"+855"},CMR:{countryName:"Cameroon",characterSets:[],phoneCode:"+237"},CAN:{countryName:"Canada",characterSets:[],phoneCode:"+1"},CPV:{countryName:"Cape Verde",characterSets:[],phoneCode:"+238"},CYM:{countryName:"Cayman Islands",characterSets:[],phoneCode:"+1 345"},CAF:{countryName:"Central African Republic",characterSets:[],phoneCode:"+236"},TCD:{countryName:"Chad",characterSets:["arabic"],phoneCode:"+235"},CHL:{countryName:"Chile",characterSets:[],phoneCode:"+56"},CHN:{countryName:"China",characterSets:[],phoneCode:"+86"},CXR:{countryName:"Christmas Island",characterSets:[],phoneCode:"+61"},CCK:{countryName:"Cocos (Keeling) Islands",characterSets:[],phoneCode:"+61"},COL:{countryName:"Colombia",characterSets:[],phoneCode:"+57"},COM:{countryName:"Comoros",characterSets:["arabic"],phoneCode:"+269"},COG:{countryName:"Congo",characterSets:[],phoneCode:"+242"},COD:{countryName:"Congo, the Democratic Republic of the",characterSets:[],phoneCode:"+243"},COK:{countryName:"Cook Islands",characterSets:[],phoneCode:"+682"},CRI:{countryName:"Costa Rica",characterSets:[],phoneCode:"+506"},CIV:{countryName:"Côte d'Ivoire",characterSets:[],phoneCode:"+225"},HRV:{countryName:"Croatia",characterSets:["latin-ext"],phoneCode:"+385"},CUB:{countryName:"Cuba",characterSets:[],phoneCode:"+53"},CUW:{countryName:"Curaçao",characterSets:[],phoneCode:"+599 9"},CYP:{countryName:"Cyprus",characterSets:[],phoneCode:"+357"},CZE:{countryName:"Czech Republic",characterSets:["latin-ext"],phoneCode:"+420"},DNK:{countryName:"Denmark",characterSets:[],phoneCode:"+45"},DJI:{countryName:"Djibouti",characterSets:["arabic"],phoneCode:"+253"},DMA:{countryName:"Dominica",characterSets:[],phoneCode:"+1 767"},DOM:{countryName:"Dominican Republic",characterSets:[],phoneCode:"+1 809"},ECU:{countryName:"Ecuador",characterSets:[],phoneCode:"+593"},EGY:{countryName:"Egypt",characterSets:["arabic"],phoneCode:"+20"},SLV:{countryName:"El Salvador",characterSets:[],phoneCode:"+503"},GNQ:{countryName:"Equatorial Guinea",characterSets:[],phoneCode:"+240"},ERI:{countryName:"Eritrea",characterSets:["arabic"],phoneCode:"+291"},EST:{countryName:"Estonia",characterSets:[],phoneCode:"+372"},ETH:{countryName:"Ethiopia",characterSets:[],phoneCode:"+251"},FLK:{countryName:"Falkland Islands (Malvinas)",characterSets:[],phoneCode:"+500"},FRO:{countryName:"Faroe Islands",characterSets:[],phoneCode:"+298"},FJI:{countryName:"Fiji",characterSets:[],phoneCode:"+679"},FIN:{countryName:"Finland",characterSets:[],phoneCode:"+358"},FRA:{countryName:"France",characterSets:[],phoneCode:"+33"},GUF:{countryName:"French Guiana",characterSets:[],phoneCode:"+594"},PYF:{countryName:"French Polynesia",characterSets:[],phoneCode:"+689"},ATF:{countryName:"French Southern Territories",characterSets:[],phoneCode:""},GAB:{countryName:"Gabon",characterSets:[],phoneCode:"+241"},GMB:{countryName:"Gambia",characterSets:[],phoneCode:"+220"},GEO:{countryName:"Georgia",characterSets:[],phoneCode:"+995"},DEU:{countryName:"Germany",characterSets:[],phoneCode:"+49"},GHA:{countryName:"Ghana",characterSets:[],phoneCode:"+233"},GIB:{countryName:"Gibraltar",characterSets:[],phoneCode:"+350"},GRC:{countryName:"Greece",characterSets:[],phoneCode:"+30"},GRL:{countryName:"Greenland",characterSets:[],phoneCode:"+299"},GRD:{countryName:"Grenada",characterSets:[],phoneCode:"+1 473"},GLP:{countryName:"Guadeloupe",characterSets:[],phoneCode:"+590"},GUM:{countryName:"Guam",characterSets:[],phoneCode:"+1 671"},GTM:{countryName:"Guatemala",characterSets:[],phoneCode:"+502"},GGY:{countryName:"Guernsey",characterSets:[],phoneCode:"+44"},GIN:{countryName:"Guinea",characterSets:[],phoneCode:"+224"},GNB:{countryName:"Guinea-Bissau",characterSets:[],phoneCode:"+245"},GUY:{countryName:"Guyana",characterSets:[],phoneCode:"+592"},HTI:{countryName:"Haiti",characterSets:[],phoneCode:"+509"},HMD:{countryName:"Heard Island and McDonald Islands",characterSets:[],phoneCode:""},VAT:{countryName:"Holy See (Vatican City State)",characterSets:[],phoneCode:""},HND:{countryName:"Honduras",characterSets:[],phoneCode:"+504"},HKG:{countryName:"Hong Kong",characterSets:[],phoneCode:"+852"},HUN:{countryName:"Hungary",characterSets:["latin-ext"],phoneCode:"+36"},ISL:{countryName:"Iceland",characterSets:[],phoneCode:"+354"},IND:{countryName:"India",characterSets:[],phoneCode:"+91"},IDN:{countryName:"Indonesia",characterSets:[],phoneCode:"+62"},IRN:{countryName:"Iran, Islamic Republic of",characterSets:[],phoneCode:"+98"},IRQ:{countryName:"Iraq",characterSets:["arabic"],phoneCode:"+964"},IRL:{countryName:"Ireland",characterSets:[],phoneCode:"+353"},IMN:{countryName:"Isle of Man",characterSets:[],phoneCode:"+44"},ISR:{countryName:"Israel",characterSets:["hebrew","arabic"],phoneCode:"+972"},ITA:{countryName:"Italy",characterSets:[],phoneCode:"+39"},JAM:{countryName:"Jamaica",characterSets:[],phoneCode:"+1 876"},JPN:{countryName:"Japan",characterSets:["japanese"],phoneCode:"+81"},JEY:{countryName:"Jersey",characterSets:[],phoneCode:"+44"},JOR:{countryName:"Jordan",characterSets:["arabic"],phoneCode:"+962"},KAZ:{countryName:"Kazakhstan",characterSets:[],phoneCode:"+7"},KEN:{countryName:"Kenya",characterSets:[],phoneCode:"+254"},KIR:{countryName:"Kiribati",characterSets:[],phoneCode:"+686"},PRK:{countryName:"Korea, Democratic People's Republic of",characterSets:["korean"],phoneCode:"+850"},KOR:{countryName:"Korea, Republic of",characterSets:["korean"],phoneCode:"+82"},KWT:{countryName:"Kuwait",characterSets:["arabic"],phoneCode:"+965"},KGZ:{countryName:"Kyrgyzstan",characterSets:[],phoneCode:"+996"},LAO:{countryName:"Lao People's Democratic Republic",characterSets:[],phoneCode:"+856"},LVA:{countryName:"Latvia",characterSets:["latin-ext"],phoneCode:"+371"},LBN:{countryName:"Lebanon",characterSets:["arabic"],phoneCode:"+961"},LSO:{countryName:"Lesotho",characterSets:[],phoneCode:"+266"},LBR:{countryName:"Liberia",characterSets:[],phoneCode:"+231"},LBY:{countryName:"Libya",characterSets:["arabic"],phoneCode:"+218"},LIE:{countryName:"Liechtenstein",characterSets:[],phoneCode:"+423"},LTU:{countryName:"Lithuania",characterSets:[],phoneCode:"+370"},LUX:{countryName:"Luxembourg",characterSets:[],phoneCode:"+352"},MAC:{countryName:"Macao",characterSets:[],phoneCode:"+853"},MKD:{countryName:"Macedonia, the former Yugoslav Republic of",characterSets:["cyrillic"],phoneCode:"+389"},MDG:{countryName:"Madagascar",characterSets:[],phoneCode:"+261"},MWI:{countryName:"Malawi",characterSets:[],phoneCode:"+265"},MYS:{countryName:"Malaysia",characterSets:[],phoneCode:"+60"},MDV:{countryName:"Maldives",characterSets:[],phoneCode:"+960"},MLI:{countryName:"Mali",characterSets:[],phoneCode:"+223"},MLT:{countryName:"Malta",characterSets:[],phoneCode:"+356"},MHL:{countryName:"Marshall Islands",characterSets:[],phoneCode:"+692"},MTQ:{countryName:"Martinique",characterSets:[],phoneCode:"+596"},MRT:{countryName:"Mauritania",characterSets:["arabic"],phoneCode:"+222"},MUS:{countryName:"Mauritius",characterSets:[],phoneCode:"+230"},MYT:{countryName:"Mayotte",characterSets:[],phoneCode:"+262"},MEX:{countryName:"Mexico",characterSets:[],phoneCode:"+52"},FSM:{countryName:"Micronesia, Federated States of",characterSets:[],phoneCode:"+691"},MDA:{countryName:"Moldova, Republic of",characterSets:[],phoneCode:"+373"},MCO:{countryName:"Monaco",characterSets:[],phoneCode:"+377"},MNG:{countryName:"Mongolia",characterSets:[],phoneCode:"+976"},MNE:{countryName:"Montenegro",characterSets:["cyrillic"],phoneCode:"+382"},MSR:{countryName:"Montserrat",characterSets:[],phoneCode:"+1 664"},MAR:{countryName:"Morocco",characterSets:["arabic"],phoneCode:"+212"},MOZ:{countryName:"Mozambique",characterSets:[],phoneCode:"+258"},MMR:{countryName:"Myanmar",characterSets:[],phoneCode:""},NAM:{countryName:"Namibia",characterSets:[],phoneCode:"+264"},NRU:{countryName:"Nauru",characterSets:[],phoneCode:"+674"},NPL:{countryName:"Nepal",characterSets:[],phoneCode:"+977"},NLD:{countryName:"Netherlands",characterSets:[],phoneCode:"+31"},NCL:{countryName:"New Caledonia",characterSets:[],phoneCode:"+687"},NZL:{countryName:"New Zealand",characterSets:[],phoneCode:"+64"},NIC:{countryName:"Nicaragua",characterSets:[],phoneCode:"+505"},NER:{countryName:"Niger",characterSets:[],phoneCode:"+227"},NGA:{countryName:"Nigeria",characterSets:[],phoneCode:"+234"},NIU:{countryName:"Niue",characterSets:[],phoneCode:"+683"},NFK:{countryName:"Norfolk Island",characterSets:[],phoneCode:"+672"},MNP:{countryName:"Northern Mariana Islands",characterSets:[],phoneCode:"+1 670"},NOR:{countryName:"Norway",characterSets:[],phoneCode:"+47"},OMN:{countryName:"Oman",characterSets:["arabic"],phoneCode:"+968"},PAK:{countryName:"Pakistan",characterSets:[],phoneCode:"+92"},PLW:{countryName:"Palau",characterSets:[],phoneCode:"+680"},PSE:{countryName:"Palestine, State of",characterSets:["arabic"],phoneCode:"+970"},PAN:{countryName:"Panama",characterSets:[],phoneCode:"+507"},PNG:{countryName:"Papua New Guinea",characterSets:[],phoneCode:"+675"},PRY:{countryName:"Paraguay",characterSets:[],phoneCode:"+595"},PER:{countryName:"Peru",characterSets:[],phoneCode:"+51"},PHL:{countryName:"Philippines",characterSets:[],phoneCode:"+63"},PCN:{countryName:"Pitcairn",characterSets:[],phoneCode:"+64"},POL:{countryName:"Poland",characterSets:["latin-ext"],phoneCode:"+48"},PRT:{countryName:"Portugal",characterSets:[],phoneCode:"+351"},PRI:{countryName:"Puerto Rico",characterSets:[],phoneCode:"+1 787"},QAT:{countryName:"Qatar",characterSets:["arabic"],phoneCode:"+974"},REU:{countryName:"Réunion",characterSets:[],phoneCode:"+262"},ROU:{countryName:"Romania",characterSets:["latin-ext"],phoneCode:"+40"},RUS:{countryName:"Russian Federation",characterSets:["cyrillic"],phoneCode:"+7"},RWA:{countryName:"Rwanda",characterSets:[],phoneCode:"+250"},BLM:{countryName:"Saint Barthélemy",characterSets:[],phoneCode:"+590"},SHN:{countryName:"Saint Helena, Ascension and Tristan da Cunha",characterSets:[],phoneCode:"+290"},KNA:{countryName:"Saint Kitts and Nevis",characterSets:[],phoneCode:"+1 869"},LCA:{countryName:"Saint Lucia",characterSets:[],phoneCode:"+1 758"},MAF:{countryName:"Saint Martin (French part)",characterSets:[],phoneCode:"+590"},SPM:{countryName:"Saint Pierre and Miquelon",characterSets:[],phoneCode:"+508"},VCT:{countryName:"Saint Vincent and the Grenadines",characterSets:[],phoneCode:"+1 784"},WSM:{countryName:"Samoa",characterSets:[],phoneCode:"+685"},SMR:{countryName:"San Marino",characterSets:[],phoneCode:"+378"},STP:{countryName:"Sao Tome and Principe",characterSets:[],phoneCode:"+239"},SAU:{countryName:"Saudi Arabia",characterSets:["arabic"],phoneCode:"+966"},SEN:{countryName:"Senegal",characterSets:[],phoneCode:"+221"},SRB:{countryName:"Serbia",characterSets:["cyrillic"],phoneCode:"+381"},SYC:{countryName:"Seychelles",characterSets:[],phoneCode:"+248"},SLE:{countryName:"Sierra Leone",characterSets:[],phoneCode:"+232"},SGP:{countryName:"Singapore",characterSets:[],phoneCode:"+65"},SXM:{countryName:"Sint Maarten (Dutch part)",characterSets:[],phoneCode:"+1 721"},SVK:{countryName:"Slovakia",characterSets:[],phoneCode:"+421"},SVN:{countryName:"Slovenia",characterSets:[],phoneCode:"+386"},SLB:{countryName:"Solomon Islands",characterSets:[],phoneCode:"+677"},SOM:{countryName:"Somalia",characterSets:["arabic"],phoneCode:"+252"},ZAF:{countryName:"South Africa",characterSets:[],phoneCode:"+27"},SGS:{countryName:"South Georgia and the South Sandwich Islands",characterSets:[],phoneCode:"+500"},SSD:{countryName:"South Sudan",characterSets:[],phoneCode:"+211"},ESP:{countryName:"Spain",characterSets:[],phoneCode:"+34"},LKA:{countryName:"Sri Lanka",characterSets:[],phoneCode:"+94"},SDN:{countryName:"Sudan",characterSets:["arabic"],phoneCode:"+249"},SUR:{countryName:"Suriname",characterSets:[],phoneCode:"+597"},SJM:{countryName:"Svalbard and Jan Mayen",characterSets:[],phoneCode:"+47 79"},SWZ:{countryName:"Swaziland",characterSets:[],phoneCode:"+268"},SWE:{countryName:"Sweden",characterSets:[],phoneCode:"+46"},CHE:{countryName:"Switzerland",characterSets:[],phoneCode:"+41"},SYR:{countryName:"Syrian Arab Republic",characterSets:["arabic"],phoneCode:"+963"},TWN:{countryName:"Taiwan, Province of China",characterSets:[],phoneCode:"+886"},TJK:{countryName:"Tajikistan",characterSets:[],phoneCode:"+992"},TZA:{countryName:"Tanzania, United Republic of",characterSets:[],phoneCode:"+255"},THA:{countryName:"Thailand",characterSets:[],phoneCode:"+66"},TLS:{countryName:"Timor-Leste",characterSets:[],phoneCode:""},TGO:{countryName:"Togo",characterSets:[],phoneCode:"+228"},TKL:{countryName:"Tokelau",characterSets:[],phoneCode:"+690"},TON:{countryName:"Tonga",characterSets:[],phoneCode:"+676"},TTO:{countryName:"Trinidad and Tobago",characterSets:[],phoneCode:"+1 868"},TUN:{countryName:"Tunisia",characterSets:["arabic"],phoneCode:"+216"},TUR:{countryName:"Turkey",characterSets:["latin-ext"],phoneCode:"+90"},TKM:{countryName:"Turkmenistan",characterSets:[],phoneCode:"+993"},TCA:{countryName:"Turks and Caicos Islands",characterSets:[],phoneCode:"+1 649"},TUV:{countryName:"Tuvalu",characterSets:[],phoneCode:"+688"},UGA:{countryName:"Uganda",characterSets:[],phoneCode:"+256"},UKR:{countryName:"Ukraine",characterSets:["cyrillic"],phoneCode:"+380"},ARE:{countryName:"United Arab Emirates",characterSets:["arabic"],phoneCode:"+971"},GBR:{countryName:"United Kingdom",characterSets:[],phoneCode:"+44"},USA:{countryName:"United States",characterSets:[],phoneCode:"+1"},UMI:{countryName:"United States Minor Outlying Islands",characterSets:[],phoneCode:""},URY:{countryName:"Uruguay",characterSets:[],phoneCode:"+598"},UZB:{countryName:"Uzbekistan",characterSets:[],phoneCode:"+998"},VUT:{countryName:"Vanuatu",characterSets:[],phoneCode:"+678"},VEN:{countryName:"Venezuela, Bolivarian Republic of",characterSets:[],phoneCode:"+58"},VNM:{countryName:"Viet Nam",characterSets:[],phoneCode:"+84"},VGB:{countryName:"Virgin Islands, British",characterSets:[],phoneCode:""},VIR:{countryName:"Virgin Islands, U.S.",characterSets:[],phoneCode:""},WLF:{countryName:"Wallis and Futuna",characterSets:[],phoneCode:"+681"},ESH:{countryName:"Western Sahara",characterSets:[],phoneCode:""},YEM:{countryName:"Yemen",characterSets:["arabic"],phoneCode:"+967"},ZMB:{countryName:"Zambia",characterSets:[],phoneCode:"+260"},ZWE:{countryName:"Zimbabwe",characterSets:[],phoneCode:"+263"}}}}),define("utils/bi/wixappsClassicsLogger",["lodash","coreUtils"],function(e,t){"use strict";function a(e,t,a){try{var r={desc:t.description||s.GENERIC_ERROR.description,errorCode:t.code||s.GENERIC_ERROR.code,type:i.Type.ERROR,issue:t.issue||i.Issue.CLIENT_VIEWER_ERROR,severity:t.severity||i.Severity.ERROR,category:t.category||i.Category.VIEWER,reportType:"error",packageName:"blog",src:i.CLASSICS_EVENT_SOURCE};a=a||{},n.reportBI(e,r,a)}catch(e){}}function r(t,a,r){try{var o={type:i.Type.USER_ACTION,adapter:"blog-ugc",category:i.Category.VIEWER,reportType:"event",packageName:"blog",params:{},src:i.CLASSICS_EVENT_SOURCE},s=e.assign({},o,a);r=r||{},n.reportBI(t,s,r)}catch(e){}}var n=t.loggingUtils.logger,o={ALWAYS:1,ONCE_PER_APP_PART:10,MANY_PER_APP_PART:30},i={CLASSICS_EVENT_SOURCE:12,Type:{ERROR:10,TIMING:20,FUNNEL:30,USER_ACTION:40},Category:{EDITOR:1,VIEWER:2,CORE:3,SERVER:4},Issue:{SERVER_EDITOR_ERROR:0,SERVER_VIEWER_ERROR:1,CLIENT_EDITOR_ERROR:2,CLIENT_VIEWER_ERROR:4},Severity:{RECOVERABLE:10,WARNING:20,ERROR:30,FATAL:40}},s={GENERIC_ERROR:{code:-2e4,description:"classics unspecified error"},APP_PART_FAILED_TO_LOAD:{code:-20011,description:"Failed to load app part",issue:i.Issue.CLIENT_VIEWER_ERROR}};Object.freeze(s),n.register("{%= name %}","error",s);var c={APP_PART_LOADING_STAGES:{adapter:"blog-ugc",description:"measure time for a stage",eventId:511,params:{component_id:"component_id",component_type:"component_type",startTime:"startTime",endTime:"endTime",stage_process:"stage_process",site_id:"site_id"},src:12},SITE_PUBLISHED_WITH_BLOG:{eventId:64,description:"site published with blog"},CATEGORY_CLICKED:{eventId:502,description:"category clicked",params:{site_id:"site_id"}},TAG_CLICKED:{eventId:503,description:"tag clicked",params:{site_id:"site_id"}},SHARE_CLICKED:{eventId:504,description:"share clicked",params:{type:"type",post_id:"post_id",site_id:"site_id"},sampleRatio:o.ALWAYS},SINGLE_POST_LINK_CLICKED:{eventId:505,description:"single post link clicked",params:{post_id:"post_id",site_id:"site_id",msid:"msid"}},SELECTION_SHARER_OPENED:{eventId:507,description:"share part of text popup",params:{post_id:"post_id",site_id:"site_id"}},SELECTION_SHARER_CLICKED:{eventId:508,description:"share part of text click",params:{type:"type",post_id:"post_id",site_id:"site_id"}},LIKE_CLICKED:{eventId:512,description:"User click on like",params:{like_status:"like_status",post_id:"post_id"}},APP_PART_RENDERED:{adapter:"blog-ugc",description:"appPart has rendered",eventId:513,params:{component_id:"component_id",app_part_name:"app_part_name",duration:"duration",app_part_state:"app_part_state",occurrence_count:"occurrence_count",site_id:"site_id"},src:12,sampleRatio:o.MANY_PER_APP_PART},APP_PART_DATA_REQUEST_FINISHED:{adapter:"blog-ugc",description:"appPart data request returned from server",eventId:514,params:{component_id:"component_id",app_part_name:"app_part_name",duration:"duration",is_batched:"is_batched",occurrence_count:"occurrence_count",site_id:"site_id"},src:12,sampleRatio:o.ONCE_PER_APP_PART},FIRST_TIME_APP_PART_RENDER_START:{adapter:"blog-ugc",description:"appPart started first time render",eventId:516,params:{component_id:"component_id",app_part_name:"app_part_name",site_id:"site_id"},src:12,sampleRatio:o.ONCE_PER_APP_PART},FIRST_TIME_APP_PART_RENDER_FINISH:{adapter:"blog-ugc",description:"appPart finished rendering with content/error for the first time",eventId:517,params:{component_id:"component_id",app_part_name:"app_part_name",app_part_state:"app_part_state",duration:"duration",render_duration:"render_duration",site_id:"site_id"},src:12,sampleRatio:o.ONCE_PER_APP_PART}};n.register("{%= name %}","event",c),Object.freeze(c);var u={},l={};return{events:c,errors:s,reportError:a,reportEvent:r,reportFirstTimeRenderStart:function(e,t,a){e.isViewerMode()&&(u[t]||(r(e,c.FIRST_TIME_APP_PART_RENDER_START,{component_id:t,app_part_name:a,site_id:e.siteId}),u[t]=!0))},reportFirstTimeRenderFinish:function(e,t,a,n,o,i){e.isViewerMode()&&u[t]&&!l[t]&&(r(e,c.FIRST_TIME_APP_PART_RENDER_FINISH,{component_id:t,app_part_name:a,app_part_state:n,duration:o,render_duration:i,site_id:e.siteId}),l[t]=!0)},reportAppPartMetadataError:function(e){a(e,s.APP_PART_FAILED_TO_LOAD,{cid:n.getVisitorId(e)})}}}),define("utils/seo/seoUtils",["lodash","platformUtils","coreUtils"],function(e,t,a){"use strict";function r(e){if(e)return e.replace(/["']/g,"").replace(/\n/g," ")}function n(t){if(t)return e(t).mapKeys(function(e,t){return r(t)}).mapValues(function(t){return e.isString(t)?r(t):t}).value()}function o(t){return e.pickBy(t,function(t){return e.isString(t)&&!e.isEmpty(t)})}function i(r,i,s,c){if(!r)return{};var u=function(e){var t={},a=n(e);return t.description=a.description,t.keywords=a.keywords,t.robots="true"===a.noIndex?"noindex":"index",t}(e.omit(r,["metaTags","title"])),l=n(r.metaTags);l&&l["og:image"]&&(l["og:image"]=function(e,r){var n=t.uriUtils.extractImageRelativeUriFromWixUri(e);return a.urlUtils.getMediaUrlByContext(n,r.staticMediaUrl,r.mediaRootUrl)}(l["og:image"],c));var d={"og:title":s,"og:url":i};return e.assign(d,o(u),o(l))}return{getSEOMetaTagsForDynamicPage:i,sanitizeHTMLInjectionFromString:r}}),define("utils/core/data/displayDataTransformPlugins/displayDataTransformer",["lodash"],function(e){"use strict";var t={};return{transformData:function(a,r,n){var o=e.head(r),i=t[o];return i?i(a,r,n):n},registerTransformPlugin:function(a,r){if(e.has(t,a))throw new Error("path "+a+" already registered in display data transform plugins");t[a]=r}}}),define("utils/core/data/observableData/observableDataUtil",["lodash","mobx","coreUtils"],function(e,t,a){"use strict";function r(a,r){if(e.isArray(a)){if(r<0||r>=a.length)return}else if(t.isObservableMap(a)||e.has(a,"WixMap"))return a.get(r);return a[r]}function n(t,a){for(var n=t,o=0;o<a.length&&(n=r(n,a[o]),!e.isNil(n));o++);return n}function o(a,r,i){if(!e.isEmpty(r)){var c=e.initial(r),u=1===r.length?a:n(a,c),l=e.last(r);if(!u){var d={};return d[l]=i,o(a,c,d)}if(i&&i.isStructureNode)u.set(i.id,i);else if(t.isObservableMap(u)||e.has(u,"WixMap"))u.set(l,i);else if(t.isObservableArray(u))u[l]=i;else if(s[e.head(r)]||u.isStructureNode)u[l]=i;else{var p={};p[l]=i,t.extendObservable(u,p)}}}function i(a){t.isObservableArray(a)?a.forEach(i):t.isObservableMap(a)?a.forEach(i):t.isObservableObject(a)?e.forEach(i):t.isObservable(a)?a.get():e.has(a,"WixMap")&&a.touch()}var s=e.keyBy(["wixapps","serviceTopology","compBehavioursMap","routers","mapFromPageUriSeoToPageId","displayedOnlyComponents","wixCode","orphanPermanentDataNodes"]);return{setByPath:o,getByPath:n,getKeys:function(a){if(t.isObservableMap(a)||e.has(a,"WixMap"))return a.keys();if(a.isStructureNode)return e.keysIn(a);if(e.isPlainObject(a)||t.isObservableObject(a))return e.keys(a);throw new Error("Can not get keys of object")},mergeObservable:function(a,r){if(t.isObservableMap(a)||e.has(a,"WixMap"))a.merge(r);else if(a.isStructureNode||e.get(r,["structure","isStructureNode"]))e.assign(a,r);else{if(!t.isObservableObject(a)&&!e.isPlainObject(a))throw new Error("Failed to merge - target object is not an observable object or map");t.isObservableObject(r)&&(r=e.clone(r)),t.extendObservable(a,r)}return!1},isObservableArray:function(e){return t.isObservableArray(e)},removeFromObj:function(a,r){t.isObservableMap(a)||e.has(a,"WixMap")?a.delete(r):t.isObservableObject(a)&&r in a?a[r]=void 0:delete a[r]},cloneDeep:function(r){return a.objectUtils.cloneDeep(r,function(a){return t.isObservable(a)?t.toJS(a,!1):e.has(a,"WixMap")?a.toJS():void 0})},touch:function(a){t.isObservableArray(a)?a.forEach(e.noop):t.isObservableMap(a)?a.forEach(e.noop):t.isObservableObject(a)?e.values(a):t.isObservable(a)?a.get():e.has(a,"WixMap")&&a.touch()},touchDeep:i}}),define("utils/core/data/mobxDataHandlers",["lodash","mobx","coreUtils","utils/core/data/displayDataTransformPlugins/displayDataTransformer","utils/core/data/observableData/observableDataUtil"],function(e,t,a,r,n){"use strict";function o(e){return e&&"pagesData"===e[0]}function i(t,r){if("structure"!==r[2]||r.length<=d)return!1;var o=function(t){if(t.length>d+1&&e.has(l,t[d]))return e.findLastIndex(t,function(a,r){return e.has(l,a)&&!isNaN(Number(t[r+1]))})+2;return d}(r);if(-1!==o&&r.length>o){var i=r.slice(0,o+1),s=a.objectUtils.cloneDeep(e.get(t.pagesDataRaw,i));return n.setByPath(t,i,s),!0}return!1}function s(t,r,s){return o(r)&&(function(t,r,o){if("data"!==r[2]||r.length<5||o!==u.merge&&5===r.length)return!1;var i=r.slice(0,4),s=r[4],c=r.slice(0,5),l=n.getByPath(t,i);if(l&&e.isFunction(l.set)){var d=a.objectUtils.cloneDeep(e.get(t.pagesDataRaw,c));return l.set(s,d),!0}return!1}(t,r,s)||i(t,r))}function c(t,a){return e.has(t.pagesDataRaw,a)?e.get(t.pagesDataRaw,a):e.get(t,a)}var u=e.keyBy(["set","merge","push","remove"]),l=e.keyBy(["components","children","mobileComponents"]),d=5;return{getByPath:function(e,t,r,i){var s=o(t);if(r&&s){var u=c(e,t);return i?u:a.objectUtils.cloneDeep(u)}var l=n.getByPath(e,t);if(!l)return l;if(s){n.touch(l);var d=c(e,t);return i?d:a.objectUtils.cloneDeep(d)}return i?l:n.cloneDeep(l)},getObservableByPath:function(e,t){return n.getByPath(e,t)},getItemInPath:function(a,r){var n=a;return n.pagesDataRaw&&o(r)&&e.has(n.pagesDataRaw,r)?e.get(n.pagesDataRaw,r):(e.forEach(r,function(a){if(e.isUndefined(n))return!1;n=t.isObservableMap(n)||e.has(n,"WixMap")?n.get(a):n[a]}),t.isObservable(n)?t.toJS(n,!1):n)},setByPath:function(t,a,i){if(o(a)&&e.set(t.pagesDataRaw,a,i),!s(t,a,u.set)){var c=r.transformData(t,a,i);n.setByPath(t,a,c)}},mergeByPath:function(t,a,i){var c=n.getByPath(t,a);if(o(a)){var l=e.get(t.pagesDataRaw,a);if(l)e.assign(l,i);else{var d=e.get(t.pagesDataRaw,e.dropRight(a));e.set(d,e.last(a),i)}}if(!s(t,a,u.merge)){var p=r.transformData(t,a,i);n.mergeObservable(c,p)}},pushByPath:function(t,a,r,n,i){if(o(i)){e.get(t.pagesDataRaw,i).splice(a,0,n)}s(t,i,u.push)||r.splice(a,0,n)},removeByPath:function(t,a){var r=e.initial(a),i=e.last(a),c=o(r)&&e.get(t.pagesDataRaw,r),l=n.getByPath(t,r);e.isArray(c)||e.isArray(l)?(c&&c.splice(i,1),s(t,a,u.remove)||l.splice(i,1)):(c&&delete c[i],!function(e){return"pagesData"===e[0]&&2===e.length}(a)?s(t,a,u.remove)||n.removeFromObj(l,i):(delete l[i],t.resolvedDataMaps&&t.resolvedDataMaps.delete(i)))},getKeysByPath:function(t,a,r){var i=o(a);if(r&&i)return e.keys(c(t,a));var s=n.getByPath(t,a);return n.getKeys(s)}}}),define("utils/core/FullSiteData",["lodash","mobx","dataFixer","coreUtils","utils/seo/seoUtils","utils/core/data/mobxDataHandlers","experiment"],function(e,t,a,r,n,o,i){"use strict";function s(t,a){if(a.content){var r=e(a).pick(["name","property"]).keys().head(),n={};n[r]=a[r],e.find(t,n)||t.push(a)}}function c(n){var i;if(n){n&&n.wixData&&a.deprecatedSiteModelMigrater(n),r.mobxDataHandlers.setMobxDataHandlers(this,o);var s=r.DALFactory.getInstance(this,{pagesData:n.pagesData||{}});r.SiteData.call(this,n,s.getByPath.bind(s)),function(t,a){Object.prototype.watch&&(Object.prototype.watch=void 0),e.forEach(u,function(e){a.setByPath([e],t[e])})}(this,s),function(t,a){e(t).pickBy(function(t){return e.isNumber(t)||e.isBoolean(t)||e.isString(t)||e.isUndefined(t)||e.isNull(t)}).forOwn(function(e,t){a.setByPath([t],e)})}(this,s),function(a){e.forEach(l,e.bind(function(r){var n=a[r],o="SiteData."+r,i=t.computed(n,{context:this,name:"siteData."+o});a[r]=function(){return i.get()},e.includes(d,r)&&t.observe(i,e.noop)}))}(this),t.extendObservable(this,{observableUpdateIndex:0,siteAspectsData:t.observable.map(),relayoutBlockedByQueue:!1,meshStyles:t.observable.map(),renderingCompsMap:t.observable.map({},"renderingCompsMap"),renderRealtimeConfig:{previewTooltipCallback:null,hideTextComponent:null,compsToHide:(i={},_defineProperty(i,r.constants.VIEW_MODES.DESKTOP,t.observable.shallowMap({},"compsToHideDesktop")),_defineProperty(i,r.constants.VIEW_MODES.MOBILE,t.observable.shallowMap({},"compsToHideMobile")),i),compsToShowOnTop:null,compsToShowWithOpacity:null}}),this.dynamicPages.headData=this.dynamicPages.headData||{},this.dynamicPages.data=this.dynamicPages.data||{},this.dynamicPages.currMetaTags={},this.pageIdToOgTags={},this.pageIdToTwitterTags={},e.bindAll(this,["getDynamicPageTitle","getCurrentUrlPageTitle","getCurrDynamicPageMetaTags","resetCurrDynamicPageMetaTags","getDynamicPageSEOMetaData","addDynamicPageData","getDynamicPageData","addDynamicPageHeadData","getDynamicPageHeadData","getPageOgTags","setPageOgTags","getPageSEOMetaData","getPageTwitterTags","setPageTwitterTags","getCurrentPageSEOMetaData"])}}var u=["renderFlags","platform","activeModes","resolvedDataMaps","svgShapes","wixappsRenderCounters","_currentPageIds","_currentRootInfos","mediaQualityStore","requestModel","customUrlMapping","rendererModel","screenSize","mobileStructures","platformWidgetsState","prefetchPages","currentUrl","multilingual"],l=["getPagesDataItems","getMainPageId","getCurrentPopupId","getAllTheme","getGeneralTheme","getFontsMap","getColorsMap","getAllPageIds","isMobileView"],d=["isMobileView"];return function(){var a=e.isArray;e.isArray=function(e){return t.isObservableArray(e)||a(e)}}(),c.prototype=e.create(r.SiteData.prototype,{constructor:c,getDynamicPageTitle:function(t){if(this.isDynamicPage(t)){var a=e.get(this.dynamicPages.headData,[t,"title"]);if(!a){var r=e.get(this.dynamicPages.data,[t,"routerDefinition","prefix"]),o=this.getRootNavigationInfo().innerRoute,i=this.rendererModel.siteInfo.siteTitleSEO||"";this.publicModel&&this.publicModel.siteDisplayName&&(i=this.publicModel.siteDisplayName);return(i+" | "+r+" "+o).trim()}return n.sanitizeHTMLInjectionFromString(a)}},getCurrentUrlPageTitle:function(){var e=this.rendererModel.siteInfo.siteTitleSEO||"";this.publicModel&&this.publicModel.siteDisplayName&&(e=this.publicModel.siteDisplayName);var t=this.getCurrentUrlPageId(),a=this.getDataByQuery(t),r=a.title||"",n=a.pageTitleSEO||"",o=this.isHomePage(t),i=this.getDynamicPageTitle(t);return i?e=i:n?e=n:o||(e=e+" | "+r),e},getCurrDynamicPageMetaTags:function(){return this.dynamicPages&&this.dynamicPages.currMetaTags},resetCurrDynamicPageMetaTags:function(){this.dynamicPages&&(this.dynamicPages.currMetaTags={})},getDynamicPageSEOMetaData:function(e){var t=this.getDynamicPageHeadData(e),a=n.getSEOMetaTagsForDynamicPage(t,this.getCurrentUrl(),this.getCurrentUrlPageTitle(),this.serviceTopology);return this.dynamicPages.currMetaTags=a,a},addDynamicPageData:function(t,a,r){e.set(this.dynamicPages.data,[t],{routerData:a,routerDefinition:r})},getDynamicPageData:function(e){return this.dynamicPages&&this.dynamicPages.data&&this.isDynamicPage(e)?this.dynamicPages.data[e||this.getPrimaryPageId()]:null},addDynamicPageHeadData:function(t,a){e.set(this.dynamicPages.headData,[t],a)},getDynamicPageHeadData:function(e){return this.dynamicPages&&this.dynamicPages.headData?this.dynamicPages.headData[e||this.getPrimaryPageId()]:null},getPageOgTags:function(t,a){e.isUndefined(this.pageIdToOgTags[t])&&(this.pageIdToOgTags[t]=[]);var r=e.cloneDeep(this.pageIdToOgTags[t]);return s(r,{property:"og:title",content:this.getCurrentUrlPageTitle()}),s(r,{property:"og:url",content:this.getCurrentUrl()}),s(r,{property:"og:description",content:e.get(a,"descriptionSEO")}),r},setPageOgTags:function(e,t){this.pageIdToOgTags[e]=t},getPageTwitterTags:function(t){return e.cloneDeep(this.pageIdToTwitterTags[t]||[])},setPageTwitterTags:function(e,t){this.pageIdToTwitterTags[e]=t},getPageSEOMetaData:function(t){var a={},r=this.getDataByQuery(t);return r&&(a.description=r.descriptionSEO,a.keywords=r.metaKeywordsSEO,a.robotIndex=e.get(r,"indexable",!0)?"index":"noindex",a.ogTags=this.getPageOgTags(t,r),i.isOpen("sv_twitterMetaTags",{rendererModel:this.rendererModel})&&(a.twitterTags=this.getPageTwitterTags(t,r))),a},getCurrentPageSEOMetaData:function(t){var a=this.getDynamicPageSEOMetaData(t);return e.isEmpty(a)?this.getPageSEOMetaData(t):a}}),c}),define("utils/constants/triggerTypesConsts",[],function(){"use strict";return{DID_LAYOUT:"didLayout",SCROLL:"scroll",RESIZE:"resize",PAGE_CHANGED:"pageChanged",PAGE_RELOADED:"pageReloaded",SITE_READY:"siteReady",TRANSITION_ENDED:"transitionEnded",MODE_CHANGED_INIT:"modeChangedInit",MODE_CHANGED_EXECUTE:"modeChangedExecute",ACTIONS_ADDED_LAYOUTED:"actionsAddedLayouted",ACTIONS_REMOVED:"actionsRemoved"}}),define("utils/xss/filterHtmlString",["zepto","lodash","xss"],function(e,t,a){"use strict";if(!a)return t.identity;var r=["style","class","dir","wix-comp"],n={iframe:["frameborder","height","width","src","marginheight","marginwidth","name","scrolling","longdesc"].concat(r)},o={meta:["content","property","scheme","name","charset","id","http-equiv","accesskey","dir","lang","title"].concat(r),link:["rel","href"].concat(r)},i=function(){var e=t.assign({},a.whiteList);return t.assign(e,{strike:[],hatul:[],wline:[]}),e.a.push("data-anchor"),e.a.push("dataquery"),e.a.push("data-content"),e.a.push("data-no-physical-url"),e.a.push("data-type"),e.a.push("id"),e.a.push("rel"),t.forOwn(e,function(e){e.push.apply(e,r)}),e}();return Object.freeze(r),Object.freeze(n),Object.freeze(o),Object.freeze(i),function(e){t.forEach(["color","background-color","font-size","font-family","font-style","text-decoration","line-height","text-shadow","direction","position","z-index","top","left"],function(t){e.cssFilter.options.whiteList[t]=!0})}(a),Object.freeze(a),function(r,s){var c=!1;s=s||{};var u=t.assign({},i);s.allowIframes&&t.assign(u,n),s.allowHeadTags&&t.assign(u,o);var l=a(r,{whiteList:u,stripIgnoreTagBody:!s.allowHeadTags,safeAttrValue:function(e,t,r,n){var o=function(e,t,r,n){return function(e,a,r){if("a"===e&&"href"===t){if(/^tel:[^A-Za-z]+$/i.test(r))return!0;if(/^ftp:\/\/[^\s]*$/.test(r))return!0}return!1}(e,0,r)?r:a.safeAttrValue(e,t,r,n)}(e,t,r,n);return o||""},onIgnoreTag:s.allowHeadTags?function(a,r,n){return s.allowHeadTags&&!n.isClosing&&"script"===a&&t.isEqual(e(r).attr("type"),"application/ld+json")?(c=!0,'<script type="application/ld+json">'):n.isClosing&&c?(c=!1,r):""}:void 0});return s.allowOneSelfClosingMetaTag&&(l=l.replace(/(<meta[^<]*?)\s?\/?\s?>.*/,"$1 />")),l}}),define("utils/style/styleUtils",["lodash","color","coreUtils","utils/fonts/fontUtils","utils/fonts/uploadedFontsUtils","utils/color/colorParser","utils/media/media"],function(e,t,a,r,n,o,i){"use strict";var s=function(e){var a=e.split(",");return t({r:a[0],g:a[1],b:a[2]}).hexString()},c=function(t,a,n){var o={};e.forEach(t,function(e){"string"==typeof e&&(e=JSON.parse(e)),o[e.family||e.fontFamily]=1});var i=r.getFontsUrlWithParams(o,a,n);return e.includes(i,"family=null")?"":i},u=function(t,a){var r={},n=l(t,a);return e.forEach(n,function(e,t){t.match("param_font_")&&(r[t.replace("param_font_","")]=e)}),r},l=function(e,t){var a=t[e];if(!a)return null;var r=a.style&&a.style.properties;return r||null},d=function(r,n,i,c){var u=n[r],l=void 0;if(u&&!e.isString(u)&&u.value)return{themeName:void 0,value:u.value.cssColor||u.value.color.value||u.value.rgba};if(!i&&u&&e.isString(u)&&a.stringUtils.startsWith(u,"color_")){var d=o.getColorValue(c,u);d=e.includes(d,",")?s(d):d;var p=t(d);return l=n.hasOwnProperty("alpha-"+r)&&1!==n["alpha-"+r]?"rgba("+p.values.rgb.join(",")+","+n["alpha-"+r]+")":p.hexString(),{themeName:u,value:l}}return i?{themeName:void 0,value:void 0}:{themeName:void 0,value:u}},p=function(t){return e.isBoolean(t)?t:"false"!==t},h=function(e,t){return"style."+t.replace(e,"")},m=function(e,t){var a="object"===(void 0===e?"undefined":_typeof(e))?e.value:JSON.parse(e);return a.fontStyleParam&&"Custom"===a.preset?g(a):a.fontStyleParam&&a.theme?y(a):a.fontStyleParam?f(a,t.font):a.fontParam&&"None"===a.preset?S(a):a.fontParam&&b(a),a},g=function(e){var t=r.getFontFamilyWithFallbacks(e.family),a=e.size+"px",n=Math.floor(1.25*e.size)+"px",o="";o+="font:"+[e.style.italic?"italic":"normal","normal",e.style.bold?"bold":"normal",a+"/"+n,t].join(" ")+";",o+=e.style.underline?"text-decoration:underline;":"",e.value=o},f=function(e,t){var a=P(t)[e.preset];e.value=a.value,e.size=parseInt(a.size,10),e.family=a.fontFamily,e.style.bold="bold"===a.weight,e.style.italic="italic"===a.style,e.style.underline=!1},y=function(e){var t=r.getFontFamilyWithFallbacks(e.family),a=r.parseFontStr(e.preset);e.value="font:"+[a.style,a.variant,a.weight,a.size+"/"+a.lineHeight,t].join(" ")+";",e.size=parseInt(a.size,10),e.family=a.family.toLowerCase(),e.style.bold="bold"===a.weight,e.style.italic="italic"===a.style,e.style.underline=!1},S=function(e){var t="";t+="font-family:"+r.getFontFamilyWithFallbacks(e.family)+";font-style:"+(e.style.italic?"italic":"normal")+";font-weight:"+(e.style.bold?"bold":"normal")+";",t+=e.style.underline?"text-decoration:underline;":"",e.value=t},b=function(e){e.family=e.value,e.value=v(e),e.size=0,e.style={bold:!1,italic:!1,underline:!1}},v=function(e){var t="font-family:"+(e.cssFontFamily||e.value)+";";return t=t.replace(/''/g,"'")},C=function(t,a,n){var o=r.getWixStoredFontsCssUrls(t,a);return n||(o=e.invokeMap(o,String.prototype.replace,/^https?\:/,"")),o},N=function(t,r,o,i,s,h,g){var f=t.THEME_DATA,y={colors:{},numbers:{},booleans:{},fonts:{},googleFontsCssUrl:function(t,a,r,n,o){return c(e.assign(u(r,a),P(t)),n,o)}(f.font,t,r,s,h),uploadFontFaces:function(t,a,r,o){var i=e.assign(u(o,a),P(t)),s=e(i).map(function(t){return e.isString(t)&&(t=JSON.parse(t)),t.family||t.fontFamily}).filter(function(e){return n.isUploadedFontFamily(e)}).union().value();return n.getUploadedFontFaceStyles(s,r.mediaRootUrl)}(f.font,t,i,r)},S=l(r,t);return S?(e.forEach(S,function(e,r){!function(e,t,r,n){var o=n.THEME_DATA,i=a.stringUtils.startsWith(e,"alpha-");t.hasOwnProperty(e)&&!i&&(e.match("param_color_")?r.colors[e.replace("param_color_","")]=d(e,t,i,o):e.match("param_number_")?r.numbers[e.replace("param_number_","")]=+t[e]:e.match("param_boolean_")?r.booleans[e.replace("param_boolean_","")]=p(t[e]):e.match("param_font_")&&(r.fonts[e.replace("param_font_","")]=m(t[e],o)))}(r,S,y,t)}),o?e.merge(y,{cssUrls:C(i,s,g)}):y):y},P=function(t){var a=0;return e.reduce({Title:"font_0",Menu:"font_1","Page-title":"font_2","Heading-XL":"font_3","Heading-L":"font_4","Heading-M":"font_5","Heading-S":"font_6","Body-L":"font_7","Body-M":"font_8","Body-S":"font_9","Body-XS":"font_10"},function(e,n,o){return e[o]=function(e,t){var a=r.parseFontStr(e),n=r.getFontFamilyWithFallbacks(a.family);return{editorKey:t,lineHeight:a.lineHeight,style:a.style,weight:a.weight,size:a.size,fontFamily:a.family.toLowerCase(),value:"font:"+[a.style,a.variant,a.weight,a.size+"/"+a.lineHeight,n].join(" ")+";"}}(t[a++],n),e},{})},T=function(t){return e.reduce(t,function(t,a,r){return(r>=1&&r<=5||r>=11&&r<=35)&&t.push({name:"color_"+r,value:e.includes(a,",")?s(a):a}),t},[])};return{getTextPresets:P,getSiteColors:T,getStylesForSDK:N,getStyleDataToPassIntoApp:function(t,a,n,o,s,c,u,l){var d=a.THEME_DATA,p=i.getMediaUrl(c,"editorUI/fonts.v4.png"),h=function(t,a){var r=["Roboto Thin","Roboto Bold","Work Sans Extra Light","Work Sans Semi Bold","Poppins Extra Light","Poppins Semi Bold","Barlow Extra Light","Barlow Medium","Oswald Extra Light","Oswald Medium","Cormorant Garamond Light","Cormorant Garamond Semi Bold","Playfair Display Bold","Dancing Script Regular","Damion","Suez One","Rozha One","Raleway Semi Bold","Lato Light","Questrial"];return e.forEach(t,function(t){t.fonts=e.reject(t.fonts,{permissions:"legacy"}),a||(t.fonts=e.reject(t.fonts,function(t){return e.includes(r,t.displayName)}))}),t}(r.getCurrentSelectablefontsWithParams(o,s),l);return{fonts:{cssUrls:C(c,o,u),imageSpriteUrl:p,fontsMeta:h},siteTextPresets:P(d.font),siteColors:T(d.color),style:t?N(a,t,!1,c,o,s,u):{}}},getNameToFontsKeyMap:function(){var t={Title:"font_0",Menu:"font_1","Page-title":"font_2","Heading-XL":"font_3","Heading-L":"font_4","Heading-M":"font_5","Heading-S":"font_6","Body-L":"font_7","Body-M":"font_8","Body-S":"font_9","Body-XS":"font_10"};return e.invert(t)},getValueForWixParams:function(t,r,n){n(e.reduce(r,function(n,o,i){var s=void 0,c=a.stringUtils.startsWith(i,"alpha-");return c?n:i.match("param_color_")?(s=h("param_color_",i),n[s]=e.get(d(i,r,c,t),"value"),n):i.match("param_number_")?(s=h("param_number_",i),n[s]=+o,n):i.match("param_boolean_")?(s=h("param_boolean_",i),n[s]=p(o),n):i.match("param_font_")?(s=h("param_font_",i),n[s]=e.get(m(o,t),"value"),n):void 0},{}))}}}),define("utils/integrations/dataCapsuleWrapper",["data-capsule"],function(e){"use strict";return{init:function(t){(new e.FrameStorageListener).start(function(e,a,r){return!!t.getComponentById(r)},function(e,a,r,n){return e.namespace=t.getComponentById(n).getAppData().appDefinitionId,e.scope=t.getSiteData().getMetaSiteId(),e})}}}),define("utils/core/idleCallback",[],function(){"use strict";return"undefined"!=typeof window&&window.requestIdleCallback?{request:window.requestIdleCallback.bind(window),cancel:window.cancelIdleCallback.bind(window)}:{request:function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},cancel:function(e){clearTimeout(e)}}}),define("utils/core/data/displayDataTransformPlugins/aspectDataTransformPlugin",["lodash","mobx"],function(e,t){"use strict";function a(a){return t.observable.shallowObject({globalData:e.isUndefined(a.globalData)?void 0:a.globalData,dataByCompId:t.observable.shallowMap(a.dataByCompId||{})})}return function(r,n,o){if(1===n.length){var i=e.mapValues(o,a);return t.observable.shallowMap(i)}return 2===n.length?a(o):o}}),define("utils/core/data/observableData/StructureNode",["lodash","mobx"],function(e,t){"use strict";function a(a){return{get:function(){return this.$observables[a]},set:function(r){if(this.$observables[a]){if(r){var n=this.$observables[a];e.isEqual(n.toJS(),r)||n.replace(r)}}else this.$observables[a]=function(e,a){if(e)return t.observable.array(e,a)}(r,"StructureNode."+this.id+"."+a)},enumerable:!0}}function r(e){return{get:function(){return this.$observables[e]=this.$observables[e]||t.observable.shallowBox(),this.$observables[e].get()},set:function(a){this.$observables[e]?this.$observables[e].set(a):this.$observables[e]=t.observable.shallowBox(a,"StructureNode."+this.id+"."+e)},enumerable:!0}}function n(a){return{get:function(){return this.$observables[a]=this.$observables[a]||t.observable.shallowBox(),this.$observables[a].get()},set:function(r){if(this.$observables[a]){var n=this.$observables[a];e.isEqual(n.get(),r)||n.set(e.clone(r))}else this.$observables[a]=t.observable.shallowBox(e.clone(r),"StructureNode."+this.id+"."+a)},enumerable:!0}}function o(t){var a=this;if(t instanceof o)return t;this.id=t.id,Object.defineProperty(this,"$observables",{enumerable:!1,value:{}}),e.forOwn(t,function(e,t){a[t]=e})}return Object.defineProperty(o.prototype,"dataQuery",r("dataQuery")),Object.defineProperty(o.prototype,"propertyQuery",r("propertyQuery")),Object.defineProperty(o.prototype,"designQuery",r("designQuery")),Object.defineProperty(o.prototype,"behaviorQuery",r("behaviorQuery")),Object.defineProperty(o.prototype,"connectionQuery",r("connectionQuery")),Object.defineProperty(o.prototype,"componentType",r("componentType")),Object.defineProperty(o.prototype,"layout",n("layout")),Object.defineProperty(o.prototype,"modes",n("layout")),Object.defineProperty(o.prototype,"skin",r("skin")),Object.defineProperty(o.prototype,"styleId",r("styleId")),Object.defineProperty(o.prototype,"parent",r("parent")),Object.defineProperty(o.prototype,"components",a("components")),Object.defineProperty(o.prototype,"isStructureNode",{enumerable:!1,value:!0}),o}),define("utils/core/data/observableData/wixMap",["lodash","mobx"],function(e,t){"use strict";return function(a){var r=[],n=t.observable.shallowBox(),o=null,i=e.once(function(){o=t.observable.shallowMap(a),e.forEach(r,function(e){o.observe(e)}),r=[],n.set(!0)});return{WixMap:!0,get:function(e){return o?o.get(e):n.get()||a[e]},set:t.action(function(e,t){i(),o.set(e,t)}),keys:function(){return o?o.keys():n.get()||e.keys(a)},delete:t.action(function(e){i(),o.delete(e)}),has:function(t){return o?o.has(t):n.get()||e.has(a,t)},merge:t.action(function(e){i(),o.merge(e)}),forEach:function(t){o?o.forEach(t):(n.get(),e.forEach(a,t))},size:function(){return o?o.size():n.get()||e.size(a)},toJS:function(){return o?o.toJS():n.get()||a},touch:function(){return o?o.forEach(e.noop):n.get()},observe:function(e){o?o.observe(e):r.push(e)}}}}),define("utils/core/data/observableData/mobxPageFactory",["lodash","mobx","coreUtils","utils/core/data/observableData/StructureNode","utils/core/data/observableData/wixMap"],function(e,t,a,r,n){"use strict";function o(r,n,o,i,s){return t.computed(function(){var t=a.objectUtils.cloneDeep(r.get(n));return"Page"===e.get(t,"type")?i(t,t.id,o)||t:i(t,s,o)||t||{}},{name:"dataItemComputed_"+n})}function i(a,r){return a.structure&&a.data?t.observable.shallowObject(e.mapValues(a,function(o,i){switch(i){case"structure":return s(a.structure,r);case"data":return t.observable.shallowObject(function(t){return e.mapValues(t,function(t){return n(e.clone(t))})}(a.data));default:return o}})):a}function s(a,n){return function(a,n){var o=n?function(e){return new r(e)}:function(a){return t.observable(e.defaults({},a,c))};return a.DESKTOP?{DESKTOP:t.observable.shallowMap(e.mapValues(a.DESKTOP,o)),MOBILE:t.observable.shallowMap(e.mapValues(a.MOBILE,o))}:o(a)}(a,n)}var c=e(new r({})).keysIn().keyBy().mapValues(function(){}).value();return{createMobxStructure:s,createMobxPage:i,createResolvedDataMaps:function(a,r,n){return e.transform(a,function(a,i,s){var c=e.transform(i.keys(),function(e,t){e[t]=o(i,t,s,r,n)},{});a[s]=t.observable.map(c)},{})},observeDataMapsChanges:function(t,a,r,n){e.forOwn(t,function(e,t){e.observe(function(i){var s=i.name;switch(i.type){case"add":a[t].set(s,o(e,s,t,r,n));break;case"delete":a[t].delete(s)}})})}}}),define("utils/core/data/displayDataTransformPlugins/pageDataTransformPlugin",["lodash","mobx","utils/core/data/observableData/mobxPageFactory"],function(e,t,a){"use strict";function r(e,r,n,o){var i=a.createMobxPage(n,r);if(i.data&&i.structure){var s=a.createResolvedDataMaps(i.data,e.resolveData,o);a.observeDataMapsChanges(i.data,s,e.resolveData,o),e.resolvedDataMaps=e.resolvedDataMaps||t.observable.map(),e.resolvedDataMaps.set(o,s)}return i}function n(r,n,o){var i=t.isObservableMap(o),s=e.transform(r,function(t,r){var s=r.id,c=i?o.get(s):e.get(o,s);return c?(e.assign(c,r),e.set(t,s,c)):e.set(t,s,a.createMobxStructure(r,n))},{});return i?(o.replace(s),o):s}return function(o,i,s){var c=!o.getBrowser().safari;if(1===i.length)return t.isObservableMap(o.resolvedDataMaps)||(o.resolvedDataMaps=t.observable.map()),o.resolvedDataMaps.clear(),e.mapValues(s,e.partial(r,o,c));if(2===i.length){var u=i[1];return r(o,c,s,u)}if(3===i.length){var l=e.get(o.pagesDataRaw,i),d=e.get(o,i);return e.reduce(l,function(a,r,o){var i=a[o]||t.observable.shallowMap();return e.set(a,o,n(r,c,i))},d)}if(function(e){return 4===e.length&&"structure"===e[2]}(i)){var p=e.get(o,i);return n(e.get(o.pagesDataRaw,i),c,p)}if(function(e){return 5===e.length&&"structure"===e[2]}(i)){var h=e.get(o,i);return h?(e.assign(h,s),h):a.createMobxStructure(s,c)}return s}}),define("utils/core/data/displayDataTransformPlugins/renderFlagsTransformPlugin",["lodash","mobx"],function(e,t){"use strict";return function(a,r,n){if(r.length>1)return n;var o=e.defaults({componentPreviewStates:t.observable.map(n.componentPreviewStates)},n);return t.observable.shallowObject(o)}}),define("utils/core/data/displayDataTransformPlugins/initRootMapTransformPlugin",["lodash","mobx","coreUtils","utils/core/data/observableData/observableDataUtil"],function(e,t,a,r){"use strict";return function(n,o,i){if(o.length>1)return i;try{return t.observable.map(i||{})}catch(c){a.loggingUtils.logger.reportBI(n,a.loggingUtils.bi.errors.DATA_PLUGIN_ERROR,{store:e.head(o),path:o,value:JSON.stringify(i),stack:c.stack});var s=i?r.cloneDeep(i):{};return t.observable.map(s)}}}),define("utils/core/data/displayDataTransformPlugins/platformTransformPlugin",["lodash","mobx"],function(e,t){"use strict";return function(a,r,n){return 1===r.length?t.observable({appState:t.observable.map(e.get(n,"appState")||{}),appManifest:t.observable.map(e.get(n,"appManifest")||{}),appPublicApiName:t.observable.map(e.get(n,"appPublicApiName")||{})}):n}}),define("utils/core/data/displayDataTransformPlugins/rendererModelTransformPlugin",["lodash","mobx"],function(e,t){"use strict";function a(a){return t.observable.shallowMap(e.assign({},a))}function r(r,n){return(n=function(a,r){return r.clientSpecMap||t.isObservableMap(e.get(a,["rendererModel","clientSpecMap"]))?r:e.defaults({clientSpecMap:{}},r)}(r,n)).clientSpecMap?e.defaults({clientSpecMap:a(n.clientSpecMap)},n):n}return function(e,t,n){return 1===t.length?r(e,n):2===t.length&&"clientSpecMap"===t[1]?a(n):n}}),define("utils/core/data/displayedDataPlugins",["lodash","utils/core/data/displayDataTransformPlugins/displayDataTransformer","utils/core/data/displayDataTransformPlugins/aspectDataTransformPlugin","utils/core/data/displayDataTransformPlugins/pageDataTransformPlugin","utils/core/data/displayDataTransformPlugins/renderFlagsTransformPlugin","utils/core/data/displayDataTransformPlugins/initRootMapTransformPlugin","utils/core/data/displayDataTransformPlugins/platformTransformPlugin","utils/core/data/displayDataTransformPlugins/rendererModelTransformPlugin"],function(e,t,a,r,n,o,i,s){"use strict";t.registerTransformPlugin("siteAspectsData",a),t.registerTransformPlugin("pagesData",r),t.registerTransformPlugin("renderFlags",n),t.registerTransformPlugin("wixappsRenderCounters",o),t.registerTransformPlugin("customUrlMapping",o),t.registerTransformPlugin("svgShapes",o),t.registerTransformPlugin("platformWidgetsState",o),t.registerTransformPlugin("platform",i),t.registerTransformPlugin("mediaQualityStore",o),t.registerTransformPlugin("activeModes",o),t.registerTransformPlugin("resolvedDataMaps",o),t.registerTransformPlugin("mobileStructures",o),t.registerTransformPlugin("rendererModel",s),t.registerTransformPlugin("semiNativeMessageQueues",o)}),define("utils",["coreUtils","dataFixer","utils/fonts/uploadedFontsUtils","utils/fonts/constants","utils/fonts/fontsParser","utils/fonts/fontUtils","utils/fonts/fontCss","utils/fonts/fontsTracker","utils/mixins/postMessageCompMixin","utils/socialAPI/socialAPI","utils/accessibility/accessibility","utils/color/colorParser","utils/routers/routersBackEndRequests","utils/integrations/fullStory","utils/integrations/ravenUtils","utils/integrations/promoteAnalytics","utils/santaTypes/santaTypes","utils/media/media","utils/mesh/meshLayoutGenerator","utils/media/svg","utils/siteUtils/countryCodes.json","utils/bi/wixappsClassicsLogger","utils/core/FullSiteData","utils/seo/seoUtils","utils/constants/triggerTypesConsts","utils/xss/filterHtmlString","utils/style/styleUtils","utils/integrations/dataCapsuleWrapper","utils/core/data/observableData/observableDataUtil","utils/core/idleCallback","utils/core/data/displayedDataPlugins"],function(e,t,a,r,n,o,i,s,c,u,l,d,p,h,m,g,f,y,S,b,v,C,N,P,T,M,D,E,_,I){"use strict";return{displayedOnlyStructureUtil:e.displayedOnlyStructureUtil,renderDoneMixin:e.renderDoneMixin,logger:e.loggingUtils.logger,log:e.log,deprecatedSiteModelMigrater:t.deprecatedSiteModelMigrater,htmlTransformer:e.htmlTransformer,textSecurityFixer:e.textSecurityFixer,htmlParser:e.htmlParser,throttleUtils:e.throttleUtils,keyboardUtils:e.keyboardUtils,classNames:e.classNames,cookieUtils:e.cookieUtils,dataFixer:t,tween:e.tween,urlUtils:e.urlUtils,routersBackEndRequests:p,Store:e.Store,mobileViewportFixer:e.mobileViewportFixer,dataUtils:e.dataUtils,seoUtils:P,dateTimeUtils:e.dateTimeUtils,validationUtils:e.validationUtils,ajaxLibrary:e.ajaxLibrary,menuUtils:e.menuUtils,fileUploadManager:e.fileUploadManager,cssUtils:e.cssUtils,linkRenderer:e.linkRenderer,fonts:{uploadedFontsUtils:a,constants:r,fontsParser:n,fontUtils:o,fontCss:i,fontMetadata:e.fonts.getFontsMetaData(),uplodedFontsUtils:{isUploadedFontFamily:e.fonts.isUploadedFontFamily,getUploadedId:e.fonts.getUploadedId,getUploadedFontFaceStyles:e.fonts.getUploadedFontFaceStyles,getUploadedFontValue:e.fonts.getUploadedFontValue},fontsTracker:s},triggerTypesConsts:T,wixUrlParser:e.wixUrlParser,wixUserApi:e.wixUserApi,MobileDeviceAnalyzer:e.MobileDeviceAnalyzer,FullSiteData:N,SiteDataPrivates:e.SiteDataPrivates,BootstrapSiteData:e.SiteData,hashUtils:e.hashUtils,guidUtils:e.guidUtils,arrayUtils:e.arrayUtils,stringUtils:e.stringUtils,countryCodes:v,mediaZoomCalculations:e.mediaZoomCalculations,objectUtils:e.objectUtils,animationFrame:e.animationFrame,scrollAnchors:e.scrollAnchors,layoutAnchors:e.layoutAnchors,originalValuesMapGenerator:e.originalValuesMapGenerator,domMeasurements:e.domMeasurements,storage:e.storage,style:e.style,galleriesCommonLayout:e.galleriesCommonLayout,requestsUtil:e.requestsUtil,migrateBgDataItem:t.fixBackgroundData.migrateBgDataItem,migrateBgString:t.fixBackgroundData.migrateBgString,imageTransformDataFixers:t.imageTransformDataFixers,timersMixins:e.timersMixins,boundingLayout:e.boundingLayout,siteConstants:e.siteConstants,languages:e.languages,componentsAnchorsMetaData:e.componentsAnchorsMetaData,verticalMenuCalculations:e.verticalMenuCalculations,appPartMediaInnerViewNameUtils:e.appPartMediaInnerViewNameUtils,anchorCyclesHelper:t.anchorCyclesHelper,postMessageCompMixin:c,colorParser:d,reactComponentUtils:e.reactComponentUtils,dockUtils:e.dockUtils,layout:e.layoutUtils,positionAndSize:e.positionAndSize,viewportUtils:e.viewportUtils,containerBackgroundUtils:e.containerBackgroundUtils,svgFilters:e.svgFilters,svgFeatureDetection:e.svgFeatureDetection,math:e.math,socialAPI:u,accessibility:l,functionUtils:e.functionUtils,constants:e.constants,siteRenderPrivateStuff:{fullToDisplayedJson:e.fullToDisplayedJson},modes:e.modesUtils,structureDimensions:e.structureDimensions,performance:e.loggingUtils.performance,performanceMetrics:e.loggingUtils.performanceMetrics,newrelic:e.loggingUtils.newrelic,mediaConsts:e.mediaConsts,balataConsts:e.mediaConsts.balataConsts,blogAppPartNames:e.blogAppPartNames,integrations:{fullStory:h,promoteAnalytics:g,ravenUtils:m},santaTypes:f,dataCapsule:E,observableDataUtil:_,imageTransform:e.imageClientApi,socialShareHandler:e.socialShareHandler,media:y,meshLayoutGenerator:S,svg:b,socialCounterDatabaseAPI:e.socialCounterDatabaseAPI,errorPages:e.errorPages,logWixCodeConsoleMessage:e.logWixCodeConsoleMessage,wixappsClassicsLogger:C,componentUtils:e.componentUtils,sessionFreezer:e.sessionFreezer,styleUtils:D,xss:{filterHtmlString:M},idleCallback:I}});
//# sourceMappingURL=utils.min.js.map