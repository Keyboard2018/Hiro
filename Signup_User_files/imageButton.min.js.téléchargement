define("imageButton/skins/skins.json",[],function(){"use strict";var e={};return e["wysiwyg.common.components.imagebutton.viewer.skins.ImageButtonSkin"]={react:[["a","link",[],{},["div",null,["_correct-positioning"],{},["div","defaultImage",[],{}]],["div",null,["_correct-positioning"],{},["div","hoverImage",[],{}]],["div",null,["_correct-positioning"],{},["div","activeImage",[],{}]]]],exports:{defaultImage:{skin:"skins.core.ImageNewSkin"},hoverImage:{skin:"skins.core.ImageNewSkin"},activeImage:{skin:"skins.core.ImageNewSkin"}},params:{fade_next:"TRANSITION",fade_prev:"TRANSITION"},paramsDefaults:{fade_next:"opacity 0.1s ease 0s",fade_prev:"opacity 0.5s ease 0s"},css:{"%link":"position:relative;display:block;z-index:0;overflow:visible;-ms-touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;","%link:after":'content:"";position:absolute;z-index:5;width:100%;height:100%;display:block;',"%defaultImage":"position:absolute;opacity:1;","%hoverImage":"position:absolute;opacity:0;","%activeImage":"position:absolute;opacity:0;","%_correct-positioning":"position:absolute;",'%[data-state~="hovered"] %defaultImage':"opacity:0;",'%[data-state~="hovered"] %hoverImage':"opacity:1;",'%[data-state~="hovered"] %activeImage':"opacity:0;",'%[data-state~="pressed"] %defaultImage':"opacity:0;",'%[data-state~="pressed"] %hoverImage':"opacity:0;",'%[data-state~="pressed"] %activeImage':"opacity:1;",'%[data-state~="transition_fade"][data-state~="prepare_adh"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_ahd"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_dah"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_dha"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_had"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_hda"] %defaultImage':"z-index:1;[fade_next]",'%[data-state~="transition_fade"][data-state~="prepare_adh"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_ahd"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_dah"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_dha"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_had"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_hda"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_adh"] %hoverImage':"z-index:3;[fade_prev]",'%[data-state~="transition_fade"][data-state~="prepare_ahd"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_dah"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_dha"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_had"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_hda"] %activeImage':"z-index:2;[fade_prev]"}},e}),define("imageButton",["lodash","core","santaProps","utils","coreUtils","imageClientLib","santaComponents","skins","imageButton/skins/skins.json"],function(e,t,a,n,s,o,i,r,p){"use strict";var d=t.compMixins;function c(e){e.component.setState({$prepare:e.preTransitionClass}),s.animationFrame.request(function(){e.component._isMounted&&e.component.setState(e.state)})}function m(e){e.state.$pressed&&c({component:e,preTransitionClass:"prepare_adh",state:{$pressed:"",$hovered:""}})}function u(e){e.state.$pressed?m(e):e.state.$hovered&&c({component:e,preTransitionClass:"prepare_hda",state:{$hovered:""}})}function l(t,a){var n=t.props.compData[a];if(!n)return{};n=e.assign({alt:t.props.compData.alt},n);var s={id:t.props.id+a,ref:a,skinPart:a,imageData:n,containerWidth:t.props.style.width,containerHeight:t.props.style.height,displayMode:o.fittingTypes.LEGACY_FULL};return t.createChildComponent(n,"core.components.Image",a,s)}var h={displayName:"ImageButton",mixins:[d.timeoutsMixin,d.skinBasedComp,d.createChildComponentMixin],propTypes:e.assign({compData:a.Types.Component.compData,compProp:a.Types.Component.compProp,linkRenderInfo:a.Types.Link.linkRenderInfo,rootNavigationInfo:a.Types.Component.rootNavigationInfo,style:a.Types.Component.style,windowFocusEvents:a.Types.SiteAspects.windowFocusEvents},a.santaTypesUtils.getSantaTypesByClass(i.components.Image)),statics:{useSantaTypes:!0},getInitialState:function(){return this.blurEventAspect=this.props.windowFocusEvents,this.blurEventAspect.registerToFocusEvent("blur",this),{$opacity:"supports_opacity",$transition:"transition_"+this.props.compProp.transition,$prepare:"",$hovered:"",$pressed:""}},getSkinProperties:function(){var e=this,t={onMouseEnter:function(){(t=e).state.$hovered||c({component:t,preTransitionClass:"prepare_dha",state:{$hovered:"hovered"}});var t},onMouseLeave:function(){u(e)},onMouseDown:function(){(t=e).state.$pressed||c({component:t,preTransitionClass:"prepare_had",state:{$pressed:"pressed"}});var t},onMouseUp:function(){(t=e).state.$pressed&&c({component:t,preTransitionClass:"prepare_ahd",state:{$pressed:""}});var t},onDragStart:function(e){e.preventDefault()},onTouchStart:function(){(t=e).state.$pressed||c({component:t,preTransitionClass:"prepare_dah",state:{$pressed:"pressed"}});var t},onTouchEnd:function(){e._isMounted&&m(e)},onTouchMove:function(){e.state.$pressed&&(e.timeoutidToRemoveOnUnmount=e.setTimeout(t.onTouchEnd,500))},onClick:function(){m(e)}};return{"":t,defaultImage:l(e,"defaultImage"),hoverImage:l(e,"hoverImage"),activeImage:l(e,"activeImage"),link:function(e,t){var a={};return t.linkRef&&(a=t.linkRef,a=n.linkRenderer.renderLink(a,t.linkRenderInfo,t.rootNavigationInfo)),a.title=t.title,a.style={width:e.props.style.width,height:e.props.style.height},a}(e,{linkRef:e.props.compData.link,title:e.props.compData.alt,linkRenderInfo:e.props.linkRenderInfo,rootNavigationInfo:e.props.rootNavigationInfo})}},onBlur:function(){u(this)},componentDidMount:function(){this._isMounted=!0},componentWillUnmount:function(){clearTimeout(this.timeoutidToRemoveOnUnmount),this._isMounted=!1,this.blurEventAspect.unregisterFromFocusEvent("blur",this)}};return t.compRegistrar.register("wysiwyg.common.components.imagebutton.viewer.ImageButton",h,!0),r.skinsMap.addBatch(p),h});
//# sourceMappingURL=imageButton.min.js.map