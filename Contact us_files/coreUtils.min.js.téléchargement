var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}define("coreUtils/components/componentUtils",["lodash","coreUtilsLib","warmupUtils"],function(e,t,n){"use strict";var o=n.constants;return{shouldBeRendered:function(t,n){return e.includes(t,n)||"masterPage"===n},getChildrenFromPageMap:function(t,n){return e.map(t.components,function(e){return n[e]})},convertNestedStructureToFlat:function(n){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.VIEW_MODES.DESKTOP)===o.VIEW_MODES.MOBILE;return e.mapValues(t.dataUtils.getAllCompsInStructure(n,r),function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(n,o,r,i){var a=o[t.dataUtils.getChildrenKey(o,n)];return e.forEach(a,function(e){i[e.id].parent=r}),a?e({components:e.map(a,"id")}).defaults(o).omit(["children","mobileComponents"]).value():e.omit(o,["children","mobileComponents","components"])}.apply(void 0,[r].concat(o))})}}}),define("coreUtils/core/anchorTagsGenerator",["lodash","coreUtilsLib"],function(e,t){"use strict";var n=t.fragment,o=t.textPatternRecognizer,r=t.textPatternRecognizer.Pattern;function i(e){var t=n.document.createDocumentFragment().appendChild(n.document.createElement("div"));t.innerHTML=e;return{container:t,textNodes:function e(t,o){o=o||[];r=t,r.nodeType===n.Node.TEXT_NODE&&o.push(t);var r;if(i=t,i.nodeType===n.Node.ELEMENT_NODE&&"a"===i.tagName.toLowerCase())return o;var i;t=t.firstChild;for(;t;)e(t,o),t=t.nextSibling;return o}(t)}}function a(t,r){var i=[],a=t.parentNode,c=t.data,u=o.findAll(c,r);0!==u.length&&(e(u).orderBy("index","desc").forEach(function(t){i.push(n.document.createTextNode(c.slice(t.index+t.key.length))),i.push(function(t){var o=s(t),r=n.document.createElement("a");r.innerHTML=t.key,r.classList.add(o.className),e.forEach(e.omit(o,["className"]),function(e,t){r.setAttribute(t,e)});var i=n.document.createElement("object");return i.appendChild(r),i.setAttribute("height",0),i}(t)),c=c.slice(0,t.index)}),i.push(n.document.createTextNode(c)),e.forEach(i.reverse(),function(e){a.insertBefore(e,t)}),a.removeChild(t))}function s(t){var n={"data-auto-recognition":"true","data-content":t.key,className:"auto-generated-link"};switch(t.pattern){case o.Pattern.PHONE:return e.assign(n,{href:"tel:"+t.value,"data-type":"phone"});case o.Pattern.MAIL:return e.assign(n,{href:"mailto:"+t.value,"data-type":"mail"});case o.Pattern.URL:return e.assign(n,{href:t.value,target:"_blank","data-type":"external"});default:throw new Error("Unknown Pattern: "+t.pattern)}}return{generateAnchorsInHtml:function(t,n){if(!e.some(n))return t;var o=i(t);return e.forEach(o.textNodes,e.partial(a,e,n)),o.container.innerHTML},findDataForAnchors:function(t,n){if(!e.some(n))return[];var r=i(t);return e(r.textNodes).map("data").flatMap(e.partial(o.findAll,e,n)).map(s).value()},getIncludedPatterns:function(e,t){var n={};return n[r.PHONE]=t,n[r.MAIL]=!0,n[r.URL]=!0,n}}}),define("coreUtils/core/wixUserApi",["lodash","warmupUtils","coreUtilsLib"],function(e,t,n){"use strict";var o=t.languages,r=t.siteDataUtils,i=n.cookieUtils,a="wixLanguage",s="wixClient";function c(e){var t=i.parseCookieString(e)[s];if(t){var n=t.split("|");return{userName:n[0],email:n[1],mailStatus:n[2],permissions:n[3],isSessionNew:n[4],isSessionValid:n[5],userID:n[6]}}return null}return{getUsername:function(e){var t=c(r.getRequestModel(e,"cookie"));return t?t.userName:null},getLanguage:function(t,n,r){var s,c=(s=t||"",i.parseCookieString(s)[a]),u=n.query&&n.query.lang||function(){var e=n.host.split(".");return 2===e[0].length?e[0]:null}()||c||("undefined"==typeof window||void 0===window.navigator?null:(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)||r;return u&&(u=u.substring(0,2).toLowerCase()),e.includes(o,u)?u:"en"},getLanguageFromSiteData:function(e){var t=e.getCookie(),n=e.currentUrl,o=e.getUserLanguageFromModel();return this.getLanguage(t,n,o)},isSessionValid:function(e){return!!c(e)},logout:function(e){var t=window.document?window.document.location.host:"";t=t.substring(t.indexOf(".")+1),i.deleteCookie(s,t),"undefined"!=typeof document&&(e.requestModel.cookie=window.document.cookie)},getLanguages:function(){return o}}}),define("coreUtils/core/linkTypes",[],function(){"use strict";return{PAGE_LINK:"PageLink",EXTERNAL_LINK:"ExternalLink",ANCHOR_LINK:"AnchorLink",LOGIN_TO_WIX_LINK:"LoginToWixLink",EMAIL_LINK:"EmailLink",PHONE_LINK:"PhoneLink",DOCUMENT_LINK:"DocumentLink",SWITCH_MOBILE_VIEW_MODE:"SwitchMobileViewMode",DYNAMIC_PAGE_LINK:"DynamicPageLink"}}),define("coreUtils/core/linkUtils",["lodash","coreUtilsLib","warmupUtils","coreUtils/core/linkTypes"],function(e,t,n,o){"use strict";var r,i=n.wixUrlParser,a=(r={},_defineProperty(r,o.PAGE_LINK,["type","pageId"]),_defineProperty(r,o.EXTERNAL_LINK,["type","target","url"]),_defineProperty(r,o.ANCHOR_LINK,["type","anchorName","anchorDataId","pageId"]),_defineProperty(r,o.EMAIL_LINK,["type","recipient","subject"]),_defineProperty(r,o.PHONE_LINK,["type","phoneNumber"]),_defineProperty(r,o.DOCUMENT_LINK,["type","docId","name"]),_defineProperty(r,o.DYNAMIC_PAGE_LINK,["type","routerId","innerRoute","anchorDataId"]),r);function s(e){var t="mailto:"+(e.recipient&&e.recipient.trim()||""),n=[];return e.subject&&n.push("subject="+e.subject),e.body&&n.push("body="+e.body),n.length>0&&(t+="?"+n.join("&")),t}function c(n,o){var r=n.docId,i=/\.pdf$/i.test(r),a=o.serviceTopology.staticDocsUrl,s=void 0;return e.includes(r,"ugd/")&&e.includes(a,"/ugd")&&(r=r.substr(r.indexOf("ugd")+4)),s=a+"/"+r,i?!0===n.indexable&&(s+="?index=true"):s+="?"+t.urlUtils.toQueryString({dn:n.name}),s}function u(e){return"tel:"+e.phoneNumber}function l(t,n,o,r,i,a,s){if(e.includes(o,n)){t.getSiteAspect("actionsAspect").registerNavigationComplete(a);var c={pageId:n};r&&(c.transition="none"),i&&(c.anchorData=i),t.navigateToPage(c)}else s&&s({error:{message:'Page id "'+n+'" was not found.'}})}return{getEmailLink:s,getDocumentLink:c,getPhoneLink:u,navigateToLink:function(t,n,o){if(n)switch(n.type){case"PageLink":n.pageId?l(t,n.pageId.replace("#",""),t.getSiteData().getAllPageIds(),!1,void 0,e.noop,o):o&&o({error:{message:"missing pageId property for PageLink"}});break;case"AnchorLink":!function(t,n,o){if(n.pageId){var r=n.pageId.replace("#","");if(t.getSiteData().getPrimaryPageId()===r||t.getSiteData().MASTER_PAGE_ID===r)t.scrollToAnchor(n.anchorDataId);else{var i=t.getSiteData().getAllPageIds();l(t,r,i,!1,n.anchorDataId,e.noop,o)}}else o&&o({error:{message:"missing pageId property for AnchorLink"}})}(t,n,o);break;case"ExternalLink":break;case"EmailLink":window.location.href=s(n);break;case"PhoneLink":window.location.href=u(n);break;case"DocumentLink":var r=c(n,t.getSiteData());window.open(r,"_self");break;case"DynamicPageLink":!function(e,t,n){var o=i.getUrl(e.getSiteData(),t),r=i.parseUrl(e.getSiteData(),o);n&&(r.anchorData=n),e.navigateToPage(r,!1,!1)}(t,n,n.anchorDataId)}},navigateToPage:l,getRelevantLinkDataFromMenuItem:function(t){var n={};return t.link&&(n=e.pick(t.link,a[t.link.type]),e.isObject(n.pageId)&&(n.pageId="#"+n.pageId.id),e.isObject(n.anchorDataId)&&(n.anchorDataId="#"+n.anchorDataId.id)),n}}}),define("coreUtils/core/linkRenderer",["lodash","coreUtilsLib","warmupUtils","coreUtils/core/wixUserApi","coreUtils/core/linkUtils","coreUtils/core/linkTypes"],function(e,t,n,o,r,i){"use strict";var a=n.wixUrlParser,s="_self",c="_blank",u="https://users.wix.com/signin?",l="javascript:void()",p={sendEmail:"sendMail",welcomeEmailTemplate:"mailTemplate",userColor:"userColor",loginCompName:"loginCompName",referralInfo:"loginCompName"};function d(t,n,o){var r=n.pageId;if(!r)return{};var i=o||{pageId:r.id,title:r.pageUriSEO};n.queryParams&&e.assign(i,{queryParams:n.queryParams});var c=a.getUrl(t,i),u={href:c,target:s};return m(t,r.id)&&e.assign(u,{href:l,"data-no-physical-url":c}),u}function g(e,t){return d(e,t)}function m(e,t){var n=e.pagesDataItemsMap[t];return n&&n.isPopup}function y(e){return!!e&&0===e.indexOf("mailto")}return{renderLink:function(n,l,y){if(!n||(w=n,"PageLink"===w.type&&!w.pageId||"AnchorLink"===w.type&&!w.pageId||"AnchorLink"===w.type&&!w.anchorDataId||"DocumentLink"===w.type&&!w.docId||"DynamicPageLink"===w.type&&!w.routerId)||!y)return{};var w,f=a.utils.getResolvedSiteData(l);switch(n.type){case i.PAGE_LINK:return g(f,n);case i.EXTERNAL_LINK:return function(e,n){var o="/"===n.url?e.publicBaseUrl:n.url;return t.validationUtils.isValidUrl(o)?{href:o=a.normalizeProtocolForSameSite(e,o),target:n.target||c,"data-content":o,"data-type":"external",rel:e.isPremiumDomain?void 0:"nofollow"}:{}}(f,n);case i.ANCHOR_LINK:return function(n,o,r){var i="masterPage"===o.pageId.id,a=e.clone(o),s=e.has(o.anchorDataId,"id")?o.anchorDataId.id:o.anchorDataId,c=e.includes(t.siteConstants.SAME_PAGE_SCROLL_ANCHORS,s)||i,u=r.imageZoom,l=m(n,r.pageId),p=e.has(r,"routerDefinition"),y=void 0;y=c?u||l?d(n,{pageId:n.pagesDataItemsMap[n.primaryPageId]}):d(n,a,r):p?d(n,a,r):g(n,a);return l||(y["data-keep-roots"]=!0),y["data-anchor"]=s,y}(f,n,y);case i.LOGIN_TO_WIX_LINK:return function(n,r){var i=r.postLoginUrl||"",a=r.postSignupUrl||"",c=r.dialog||"showLogin",l="",d=void 0,g=void 0,m=void 0;return e.includes(a,"ifcontext")&&(m=t.urlUtils.parseUrl(a).query,e.forOwn(m,function(e,t){"ifcontext"===t.toLowerCase()&&(l=e.replace("#",""),a=/^[a-zA-Z0-9]+$/.test(l)?a.replace("{ifcontext}",l):a.replace("{ifcontext}","illegalContextValue"))})),o.isSessionValid(n.cookie)?g=i:("createUser"===c&&(c="sign-up"),d={originUrl:n.currentUrl.full,postLogin:i,postSignUp:a,view:c,overrideLocale:n.languageCode},e.forEach(p,function(t,n){var o=r[t];e.isUndefined(o)||""===o||(d[n]=o)}),g=u+t.urlUtils.toQueryString(d)),{href:g,target:s}}(f,n);case i.EMAIL_LINK:return P=n,{href:r.getEmailLink(P),target:s,"data-content":P.recipient,"data-type":"mail"};case i.PHONE_LINK:return S=n,{href:r.getPhoneLink(S),"data-content":S.phoneNumber,"data-type":"phone"};case i.DOCUMENT_LINK:return h=f,C=n,{href:r.getDocumentLink(C,h),target:c,"data-type":"document"};case i.SWITCH_MOBILE_VIEW_MODE:return v=n,{href:f.currentUrl.full,target:"_self","data-mobile":v.dataMobile};case i.DYNAMIC_PAGE_LINK:return function(t,n){if(!n.routerId)return{};var o={routerId:n.routerId,innerRoute:n.innerRoute};n.queryParams&&e.assign(o,{queryParams:n.queryParams});var r={href:a.getUrl(t,o),target:s};return n.anchorDataId&&(r["data-anchor"]=n.anchorDataId),r}(f,n);case"FormSubmitButtonLink":return{parentConstType:"button"};default:return{}}var v,h,C,S,P},renderImageZoomLink:function(t,n,o,r,i,c){var u=e.defaults({pageItemId:o.id,title:o.title,imageZoom:!0},n),p=a.utils.getResolvedSiteData(t),d=a.getUrl(p,u),g={href:d,target:s};m(p,u.pageId)&&(g.href=l,g["data-no-physical-url"]=d);var y=function(e,t,n){var o=[];return e&&o.push("galleryId:"+e),t&&o.push("propertyQuery:"+t),n&&o.push("galleryCompId:"+n),o.join(" ")}(r,i,c);return y&&(g["data-page-item-context"]=y),g},renderPageLink:function(e,t){return g(a.utils.getResolvedSiteData(t),{pageId:e})},isExternalLink:function(e,t){if(!t)return!1;var n=a.utils.getResolvedSiteData(e),o=!!a.parseUrl(n,t),r=0===t.indexOf(n.serviceTopology.staticDocsUrl),i=t===l;return!(o||y(t)||r||i)},isRelativeUrl:function(e){return!!e&&"/"===e.charAt(0)},isEmailLink:y,getLinkUrlFromLinkProps:function(e){return e.href===l?e["data-no-physical-url"]:e.href},CONSTS:{LOGIN_TO_WIX_URL:u}}}),define("coreUtils/core/menuUtils",["lodash","coreUtils/core/linkRenderer","warmupUtils"],function(e,t,n){"use strict";var o=n.warmupMenuUtils;return{getDropDownWidthIfOk:o.getDropDownWidthIfOk,getMaxWidth:o.getMaxWidth,getMinWidth:o.getMinWidth,removeAllElementsWithWidthZero:o.removeAllElementsWithWidthZero,getSiteMenuWithRender:function(e,n,r){return o.getSiteMenu(e,!1,n,r,t)},getMenuById:function(e,n,r,i,a){return o.getMenuById(e,n,r,i,a,t)},getMenuItems:function(e,n,r,i,a,s){return o.getMenuItems(e,n,r,i,a,s,t)},getSiteMenuWithoutRenderedLinks:function(e,n){return o.getSiteMenu(e,!0,{},n,t)},getActiveAnchorInPage:o.getActiveAnchorInPage,shouldHighlightAnchorInPage:o.shouldHighlightAnchorInPage,convertOldMenuToNewMenu:o.convertOldMenuToNewMenu}}),define("coreUtils/core/translationsLoader",["lodash","warmupUtils","coreUtilsLib"],function(e,t,n){"use strict";var o=t.languages,r=t.ajaxLibrary,i=n.urlUtils,a=function(){function t(e){var n=e.translations,o=e.oldTranslations;_classCallCheck(this,t),this.translations=n,this.oldTranslations=o}return _createClass(t,[{key:"getRequests",value:function(t,n,o){var r=this,i=e.reject([].concat(n),function(e){return r.isLoaded(e)});if(e.isEmpty(i))return[];return[{customDownload:function(){var e=this;i=function(){return e.done()},r.load(t,n,i,o);var i}}]}},{key:"load",value:function(t,n,o,a){var s=this,c=t.serviceTopology.scriptsLocationMap["santa-langs"],u=e.reject([].concat(n),function(e){return s.isLoaded(e)});return Promise.all(e.map(u,function(t){return function(t,n,o){var a=i.joinURL(n,"resources/santa-viewer/bundles/_generated/santa_viewer_"+o+".json");return new Promise(function(e,t){return r.ajax({type:"GET",url:a,success:e,error:t})}).then(function(n){e.isString(n)&&(n=JSON.parse(n)),e.assign(t.translations,_defineProperty({},o,n))})}(s,c,t)})).then(o,a)}},{key:"isLoaded",value:function(t,n){return e.has(this.resolveTranslations(n),t)}},{key:"resolveTranslations",value:function(t){return this.useOldTranslations||e.has(t,"useOldTranslations")||e.isEmpty(this.translations)?this.oldTranslations:this.translations}},{key:"getTranslation",value:function(t,n,o,r){c(this,n=s(n));var i=this.resolveTranslations();return e.has(i,[n,t,o])?e.get(i,[n,t,o]):e.has(i,["en",t,o])?e.get(i,["en",t,o]):r}},{key:"getTranslationAllKeys",value:function(t,n,o,r){return c(this,n=s(n),r),e.get(this.resolveTranslations(r),[n,t],o)}},{key:"overrideTranslations",value:function(e){var t=e.translations,n=e.oldTranslations;this.translations=t,this.oldTranslations=n}},{key:"setToUseOldTranslations",value:function(){this.useOldTranslations=!0}}]),t}();function s(t){return e.includes(o,t)?t:"en"}function c(e,t,n){if(!e.isLoaded(t,n))throw new Error("Translation not loaded for "+t)}var u=new a({translations:{},oldTranslations:{}});return e.assign(u,{TranslationsLoaderFactory:a})}),define("coreUtils/core/masterPageLayoutUtils",["lodash","warmupUtils"],function(e,t){"use strict";var n="wysiwyg.viewer.components.SiteRegionContainer",o={MOBILE:["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.SiteRegionContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer"],DESKTOP:["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer"]};function r(t,n){var r=t?o.MOBILE:o.DESKTOP;return e.includes(r,n.componentType)}function i(t,n){var r=t?o.MOBILE:o.DESKTOP;return e.indexOf(r,n.componentType)}function a(n,o){var a=t.dataUtils.getChildrenData(n,o);return e(a).filter(r.bind(null,o)).sortBy(i.bind(null,o)).value()}function s(e){return e.componentType===n}return{getMasterPageSections:a,getMasterPageChildrenSegregateByIsSection:function(n,o){var a=t.dataUtils.getChildrenData(n,o),s=e.partition(a,r.bind(null,o));return s[0]=e.sortBy(s[0],i.bind(null,o)),s},shouldApplyMobileTightLayout:function(n){return function(n,o){var r=t.dataUtils.getChildrenData(n,o);return e.some(r,s)}(n,!0)||function(e,t){var n=a(e,t),o=void 0;for(o=0;o<n.length-1;o++){var r=n[o],i=n[o+1];if(r.layout.y+r.layout.height!==i.layout.y)return!1}return!0}(n,!0)}}}),define("coreUtils/core/skinAnchorsMetaData",["lodash"],function(e){"use strict";var t={"wysiwyg.viewer.skins.area.BubbleArea":30,"wysiwyg.viewer.skins.area.BubbleLeftArea":30,"wysiwyg.viewer.skins.area.RibbonAreaSkin":function(t){var n=e.get(t,"style.properties"),o=10;return n&&(o+=parseInt(n.els,10)||0),o},"wysiwyg.viewer.skins.area.SloopyArea":6,"wysiwyg.viewer.skins.area.BubbleAreaLeft":10,"wysiwyg.viewer.skins.area.LeftTriangleArea":5,"wysiwyg.viewer.skins.area.RightTriangleArea":5,"wysiwyg.viewer.skins.area.BubbleAreaRight":10,"wysiwyg.viewer.skins.page.SloopyPageSkin":3,"wysiwyg.viewer.skins.page.BasicPageSkin":20,"wysiwyg.viewer.skins.page.LiftedBottomPageSkin":20,"wysiwyg.viewer.skins.page.LiftedTopPageSkin":20,"wysiwyg.viewer.skins.page.BorderPageSkin":20,"wysiwyg.viewer.skins.page.LiftedShadowPageSkin":20,"wysiwyg.viewer.skins.page.ShinyIPageSkin":20};return{getNonAnchorableHeightForSkin:function(n,o){return e.isFunction(t[n])?t[n](o):t[n]||0}}}),define("coreUtils/core/originalValuesMapGenerator",["lodash","warmupUtils","coreUtils/core/skinAnchorsMetaData"],function(e,t,n){"use strict";return{createOriginalValuesMap:function(o,r,i){var a={};return function o(s){var c=t.dataUtils.getChildrenData(s,i),u={};if(s.layout&&(u.top=t.boundingLayout.getBoundingY(s.layout)),!e.isEmpty(c)){if(s.layout){var l=s.styleId&&s.styleId.replace("#",""),p=r[l],d=p&&p.skin||s.skin;u.height=s.layout.height-n.getNonAnchorableHeightForSkin(d,p)}e.forEach(c,o)}a[s.id]=u}(o),a}}}),define("coreUtils/core/componentsAnchorsMetaData",["warmupUtils","experiment","lodash"],function(e,t,n){"use strict";var o=e.constants,r={default:{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.THRESHOLD}},"wysiwyg.viewer.components.BoxSlideShow":{to:{allow:!0,zeroBottomParentDistance:!0}},"wysiwyg.viewer.components.StripContainerSlideShow":{to:{allow:!0,zeroBottomParentDistance:!0}},"wysiwyg.viewer.components.Repeater":{to:{allow:!0,zeroBottomParentDistance:!0},skipGroupingForChildren:!0},"wysiwyg.viewer.components.WRichText":{from:{allow:!0,positiveAnchorToDisplayedOnlyParent:!0}},"wysiwyg.viewer.components.Column":{to:{allow:!0},from:{allow:!1,lock:o.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.PageGroup":{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.ALWAYS}},"mobile.core.components.Page":{to:{allow:!0},from:{allow:!1,lock:o.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.PagesContainer":{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.THRESHOLD}},"wysiwyg.viewer.components.PopupContainer":{to:{allow:!0},from:{allow:!1}},"wysiwyg.viewer.components.SiteSegmentContainer":{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.ALWAYS}},"wysiwyg.viewer.components.WSiteStructure":{to:{allow:!0,distance:0},from:{allow:!1,lock:o.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.tpapps.TPASection":{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.tpapps.TPAMultiSection":{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":{from:{allow:!1}},"wysiwyg.viewer.components.tpapps.TPAGluedWidget":{from:{allow:!1}},"wixapps.integration.components.AppPage":{from:{allow:!1}},"platform.components.AppController":{to:{allow:!1},from:{allow:!1}}};return{get:function(e){return t.isOpen("sv_fixTpaGap",e)?n.omit(r,["wysiwyg.viewer.components.tpapps.TPASection","wysiwyg.viewer.components.tpapps.TPAMultiSection"]):r}}}),define("coreUtils/core/anchorsUtils",["lodash","warmupUtils","coreUtils/core/componentsAnchorsMetaData"],function(e,t,n){"use strict";var o={bottomTop:"BOTTOM_TOP",bottomParent:"BOTTOM_PARENT",topTop:"TOP_TOP"};return{isAnchorLocked:function(r,i,a,s){if(r===o.topTop)return!0;var c=n.get(s),u=e.get(c,[i,"from"],c.default.from);return u.lock!==t.constants.ANCHORS.LOCK_CONDITION.NEVER&&(u.lock===t.constants.ANCHORS.LOCK_CONDITION.ALWAYS||a<=t.constants.ANCHORS.LOCK_THRESHOLD)},anchorsTypes:o}}),define("coreUtils/core/groupingAnchors",["lodash","mobileLayoutUtils","coreUtils/core/anchorsUtils"],function(e,t,n){"use strict";var o=10,r="VirtualGroup";function i(t){var n=a(t);return l(t,e(n).map(c).transform(u,{virtualGroups:{},childIdToVirtualGroupId:{}}).value())}function a(n){var o=t.splitToFragments(n,"y");return 1===o.length?[]:e(o).filter(d).map("comps").value()}function s(t,n,o){return e.map(t,function(t){var r={x:t.layout.x+n,y:t.layout.y+o},i=e.defaults(r,t.layout);return e.defaults({layout:i},t)})}function c(n){var o=e.assign({fixedPosition:!1},t.getSnugLayout(n));return{id:"virtualGroup_"+n[0].id,layout:o,components:s(n,-o.x,-o.y),componentType:r,type:"Container",skin:"undefined",styleId:"undefined"}}function u(t,n){return t.virtualGroups[n.id]=n,e.transform(n.components,function(e,t){e[t.id]=n.id},t.childIdToVirtualGroupId)}function l(t,n){var o=e.reduce(t,function(t,o){var r=n.childIdToVirtualGroupId[o.id];return r?t[r]?t:e.set(t,r,n.virtualGroups[r]):e.set(t,o.id,o)},{});return e.values(o)}function p(e){return!e.layout.fixedPosition&&!e.layout.rotationInDegrees}function d(t){return t.comps.length>1&&(t.distanceToPreviousFragment>=o||t.distanceToPreviousFragment<0)&&e.every(t.comps,p)}function g(e){return e.componentType===r}function m(t,n,o){var r=e.mapKeys(n,"id"),i=e.pickBy(r,g);if(e.isEmpty(i))return t;var a,s,c,u=e(i).flatMap("components").mapKeys("id").assign(r).value(),l=(a=t,s=i,c=o,e.transform(a,function(e,t,n){if(s[n]){var o=y(s[n],t,c);f(e,o)}else e[n]=t},{}));return e.mapValues(l,e.partial(w,u))}function y(t,o,r){return e.transform(t.components,function(i,a){var s=t.layout.height-a.layout.y-a.layout.height,c=e.map(o,function(t){var o=t.distance+s,i=n.isAnchorLocked(t.type,a.componentType,o,r);return e.defaults({fromComp:a.id,distance:t.distance+s,locked:i,originalValue:t.originalValue},t)});i[a.id]=c},{})}function w(t,o,r){return e.reduce(o,function(o,i){var a=t[i.targetComponent];if(!g(a))return o.concat([i]);var s=e.map(a.components,function(o){var a=o.layout.y,s=i.distance+a,c=n.isAnchorLocked(i.type,t[i.fromComp],s,r);return e.defaults({targetComponent:o.id,distance:s,locked:c,originalValue:i.originalValue+a},i)});return o.concat(s)},[])}function f(t,n){return e.transform(n,function(e,t,n){e[n]=(e[n]||[]).concat(t)},t)}return{testAPI:{groupRowsComponents:i,findGroupableRowComponents:a,createVirtualGroup:c,addVirtualGroupToGroupedComponentsMap:u,replaceGroupedComponentsToVirtualGroups:l,areFragmentComponentsGroupable:d,convertGroupingAnchors:m,mergeAnchorsMaps:f,replaceAnchorsFromVirtualGroup:y,replaceAnchorsToVirtualGroup:w,translateComponents:s},isVirtualGroup:g,groupRows:function(e,t){return t&&e.length?i(e):e},resolve:function(t,n,o,r,i,a){if(!o||!n.length||e.isEmpty(r))return a;return f(r,m(a,n.concat([t]),i))}}}),define("coreUtils/core/anchorsGenerator",["lodash","experiment","warmupUtils","coreUtils/core/masterPageLayoutUtils","coreUtils/core/skinAnchorsMetaData","coreUtils/core/componentsAnchorsMetaData","coreUtils/core/groupingAnchors","coreUtils/core/anchorsUtils"],function(e,t,n,o,r,i,a,s){"use strict";var c=n.layoutUtils,u=s.anchorsTypes,l=["BACK_TO_TOP_BUTTON"],p=["PAGES_CONTAINER"],d=["SITE_HEADER","SITE_FOOTER","PAGES_CONTAINER"],g="parentNode";function m(e,t,n,o,r){return{distance:r||0,locked:!0,originalValue:o,fromComp:t,targetComponent:n,type:e}}function y(e,t,n,o,r,i,a){var c=m(e,n,o,i,r);return c.locked=s.isAnchorLocked(e,t,r,a),c}function w(t){for(var n,o,r=(n=p,o=t,e.flatMap(n,function(t){return e.map(o[t],"target")})),i={};r.length;){var a=r.shift();i[a]=!0;var s=e(t[a]).map("target").reject(function(t){return e.has(i,t)}).value();r=r.concat(s)}return i}function f(t,o,a,s,c){var l=w(t);return e.mapValues(t,function(t,p){if(!t.length)return[];var d=o[p];return d.layoutAnchors?d.layoutAnchors.slice():e(t).map(function(t){if(t.target===g)return function(t,o,a,s){if("masterPage"===o.id||o.id===n.constants.COMP_IDS.PAGES_CONTAINER)return y(u.bottomParent,t.componentType,t.id,o.id,0,0,s);var c=a[o.styleId&&o.styleId.replace("#","")],l=c&&c.skin||o.skin,p=o.height-r.getNonAnchorableHeightForSkin(l,c),d=p,g=i.get(s),m=e.get(g,[o.componentType,"to","zeroBottomParentDistance"])?0:p-(t.boundingY+t.boundingHeight),w=e.get(g,[t.componentType,"from","positiveAnchorToDisplayedOnlyParent"]),f=n.displayedOnlyStructureUtil.isDisplayedComponent(o.id);return w&&f&&(m=Math.max(0,m)),y(u.bottomParent,t.componentType,t.id,o.id,m,d,s)}(d,a,s,c);var p=o[t.target];return t.type===u.bottomTop?function(e,t,n,o){var r=t.boundingY-e.boundingY-e.boundingHeight,i=n?0:t.boundingY;return y(u.bottomTop,e.componentType,e.id,t.id,r,i,o)}(d,p,l[p.id],c):function(e,t,n){var o=t.boundingY-e.boundingY;return y(u.topTop,e.componentType,e.id,t.id,o,t.boundingY,n)}(d,p,c)}).compact().value()})}function v(t,o,r,s,c,l,p){var d=i.get(c),m=r.applyGroupingAnchors&&!e.get(d,[o.componentType,"skipGroupingForChildren"]),y=a.groupRows(t,m),w=function(t,n,o){var r=e.filter(t,a.isVirtualGroup);return e.reduce(r,function(t,r){var i=e.reduce(P(r,{forceMobileStructure:!0,applyGroupingAnchors:!1},n,o),function(t,n,o){return o===r.id?t:e.set(t,o,e.reject(n,{targetComponent:r.id}))},{});return e.assign(t,i)},{})}(y,s,c),v=function(t,n,o){var r=e.reduce(t,function(e,t){return e[t.id]=T(t,n),e},{});return e.forEach(o,function(t,n){r[n]=e.assign(r[n],t)}),r}(y,c,p),h=function(t,n){var o={},r={},i=e(t).filter("canCreateAnchorsToComp").sortBy("boundingY").value(),a={left:-1e5,right:1/0,ids:["root"]};i=function(e){var t={x:-1e5,y:1/0,height:10,width:1/0,id:g,canBePushed:!0,canPush:!1,boundingY:1/0,boundingBottom:1/0,boundingHeight:10};return e.concat(t)}(i),o.root=[];var s=[a],c=void 0,l=void 0,p=void 0,d=void 0;return i.forEach(function(i){o[i.id]=[],r[i.id]=[],p=null,c=i.boundingX,l=c+i.boundingWidth,d=0;var a=s.length,m=[],y={},w=[],f=!1,v=!1,h=0;function C(e){y[e]="root"===e?u.bottomTop:(n=t[e],o=i,function(e,t){var n=t.boundingY,o=t.boundingBottom,r=e.boundingY,i=e.boundingHeight;return o>e.boundingBottom&&n>r+i/2}(n,o)?u.bottomTop:u.topTop);var n,o}for(h=0;h<a;h++){var S=s[h];if(S.right<=c)m.push(S);else if(null===p?(p=h,f=!0):f=!1,(s.length-1===h||s[h+1].left>l)&&(d=h,v=!0),i.canBePushed&&S.ids.forEach(C),i.canPush&&(w=b(i.id,w,S,y,f,v,c,l,i.canBePushed,n)),v)break}if(delete y.root,function(t,n){if(!e.isEmpty(n)){t.id===g?(s=n,c=o,n=e.omitBy(s,function(t,n){return e.some(c[n],{type:u.bottomTop})})):(a=r,e(i=n).keys().flatMap(e.propertyOf(a)).filter({type:u.bottomTop}).map("source").forEach(function(e){delete i[e]}));var i,a,s,c;e.forEach(n,function(e,n){o[n].push({target:t.id,type:e}),r[t.id].push({source:n,type:e})})}}(i,y),i.canPush){var P=e.takeRight(s,a-d-1);s=e.compact(m).concat(w,P)}}),delete o.root,o}(v,c),C=e(v).mapValues("anchors").assign(f(h,v,T(o,c),s,c)).omit("parentNode").thru(e.partial(a.resolve,o,y,m,w,c)).value(),S=e.get(l,o.id);if(S){var I=(k=t,E=S,M=r,O=s,A(e.find(k,function(e){return n.displayedOnlyStructureUtil.getItemId(e.id)===E})||e.head(k),O,M));e.assign(C,I,function(t,o,r){var i=n.displayedOnlyStructureUtil,a={},s=e(t).map("id").map(n.displayedOnlyStructureUtil.getItemId).without(o).value();return e.forEach(r,function(t,n){e.forEach(s,function(o){var r=i.getOriginalId(n),s=i.getUniqueDisplayedId(r,o);a[s]=e.reduce(t,function(t,n){var r=i.getUniqueDisplayedId(i.getOriginalId(n.fromComp),o),a=i.getUniqueDisplayedId(i.getOriginalId(n.targetComponent),o),s=e.defaults({fromComp:r,targetComponent:a},n);return t.push(s),t},[])})}),a}(t,S,I))}var k,E,M,O;return C}function h(t,o,r,i,a,s){return v(function(t,o,r){if(t.layout.anchors)return function(t,o,r){var i=e.clone(o),a=e.find(o,{id:"SITE_HEADER"}),s=e.find(o,{id:"SITE_FOOTER"}),c=(d=t,g=r,(g?0:e.get(d,"layout.anchors.0.distance"))+n.boundingLayout.getBoundingY(a.layout)+n.boundingLayout.getBoundingHeight(a.layout)),u=e.findIndex(o,{id:"PAGES_CONTAINER"}),l=o[u],p=e.assign({},l.layout,{y:c,height:s.layout.y-c});var d,g;return i[u]=e.assign({},l,{layout:p}),i}(t,o,r);return function(t){var o=e.clone(t),r=e.find(t,{id:"SITE_FOOTER"}),i=e.maxBy(t,function(e){return I(e)?n.boundingLayout.getBoundingY(e.layout)+n.boundingLayout.getBoundingHeight(e.layout):-1e4});if(!i||!I(i))return o;var a=e.find(i.layout.anchors,{targetComponent:"PAGES_CONTAINER",type:u.bottomTop}),s=n.boundingLayout.getBoundingY(i.layout)+n.boundingLayout.getBoundingHeight(i.layout),c=a.distance+s,l=e.findIndex(t,{id:"PAGES_CONTAINER"}),p=t[l],d=e.assign({},p.layout,{y:c,height:r.layout.y-c});return o[l]=e.assign({},p,{layout:d}),o}(o)}(o,t,r.forceMobileStructure),o,r,i,a,s)}function C(t,n,r,i,a){var s,c,u,l,p,d,g,m=o.getMasterPageChildrenSegregateByIsSection(t,n.forceMobileStructure),y=m[0],w=m[1],f=(s=y,c=w,u=t,l=n,p=r,d=i,g=a,v(e.filter(s,{id:"SITE_HEADER"}).concat(c),u,l,p,d,g,{SITE_HEADER:{canBePushed:!1}})),h=function(e){var t={};return e.headerPagesContainerLegacyGap&&(t.SITE_HEADER={targetComponent:"PAGES_CONTAINER",distance:e.headerPagesContainerLegacyGap}),e.pagesContainerFooterLegacyGap&&(t.PAGES_CONTAINER={targetComponent:"SITE_FOOTER",distance:e.pagesContainerFooterLegacyGap}),t}(n),C=e.mapValues(E(y,h),function(e){return[e]});return f.SITE_HEADER=f.SITE_HEADER.concat(C.SITE_HEADER),e.defaults(f,C)}function S(t,n,o,r,i,a){return function(t){var n=e.find(t,{id:"SITE_HEADER"});if(!n)return!1;return e.find(t,{id:"PAGES_CONTAINER"}).layout.y<n.layout.y+n.layout.height}(t)?h(t,n,o,r,i,a):!o.forceMobileStructure&&o.useDesktopSectionsLayout?C(n,o,r,i,a):v(t,n,o,r,i,a)}function P(t,o,r,i,a){var s=n.dataUtils.getChildrenData(t,o.forceMobileStructure);return e.isEmpty(s)?{}:"Document"===t.type?S(s,t,o,r,i,a):v(s,t,o,r,i,a)}function T(o,r){var a=o.layout,s=n.boundingLayout.getBoundingY(a),u=n.boundingLayout.getBoundingHeight(a),p=a.x?n.boundingLayout.getBoundingX(a):0;return{id:o.id,layoutAnchors:a.anchors,anchors:[],y:a.y,x:a.x,height:a.height,width:a.width,canBePushed:function(n,o){if(n.componentType){var r=i.get(o),a=e.get(r,[n.componentType,"to","allow"]);if(!1===a)return!1}if(t.isOpen("layout_verbs_with_anchors",o))return!c.isDockedToDirection(n.layout,"top")||c.isVerticallyStretchedToScreen(n.layout);return!0}(o,r),canPush:function(n,o){if(n.componentType){var r=i.get(o),a=e.get(r,[n.componentType,"from","allow"]);if(!1===a)return!1}if(t.isOpen("layout_verbs_with_anchors",o))return!c.isDockedToDirection(n.layout,"bottom")||c.isVerticallyStretchedToScreen(n.layout);return!0}(o,r),boundingY:s,boundingX:p,boundingBottom:s+u,boundingHeight:u,boundingWidth:n.boundingLayout.getBoundingWidth(a),canCreateAnchorsToComp:(g=r,m=o,t.isOpen("layout_verbs_with_anchors",g)?e.includes(d,m.id)||!(e.includes(l,m.id)||m.layout.fixedPosition||c.isVerticallyCentered(m.layout)||c.isVerticallyStretched(m.layout)&&!c.isVerticallyStretchedToScreen(m.layout)):e.includes(d,m.id)||!(e.includes(l,m.id)||m.layout.fixedPosition||c.isVerticallyDocked(m.layout))),styleId:o.styleId,skin:o.skin,componentType:o.componentType};var g,m}function I(t){return e.find(t.layout.anchors,{targetComponent:"PAGES_CONTAINER",type:u.bottomTop})}function b(n,o,r,i,a,s,c,l,p,d){var g=e.clone(o);a&&g.push({ids:r.ids,left:r.left,right:c-1});var m={ids:[n],left:Math.max(c,r.left),right:Math.min(l,r.right)};r.ids.filter(function(e){return"root"!==e&&(n=i[e],o=p,r=d,t.isOpen("layout_verbs_with_anchors",r)?!o||n===u.topTop:n===u.topTop);var n,o,r}).forEach(function(e){m.ids.push(e)});var y=e.last(g);return y&&!e.isEqual(y.ids,m.ids)?g.push(m):y&&(y.right=m.right),s&&g.push({ids:r.ids,left:l+1,right:r.right}),g}function A(t,o,r,i){r=r||{};for(var a=[t],s=void 0,c=void 0,u=void 0,l={};a.length;)u=P(s=a.pop(),r,o,null,i),e.assign(l,u),c=n.dataUtils.getChildrenData(s,r.forceMobileStructure),e.has(i,s.id)||Array.prototype.push.apply(a,c);return l}function k(t,n,o){return m(u.bottomTop,t,n,0,function(t,n,o){var r=e.get(o,t);return r&&r.targetComponent===n?r.distance:0}(t,n,o))}function E(t,n){for(var o=e.map(t,"id"),r=void 0,i=0,a={};o[i+1];){r=o[i];var s=o[i+1];a[r]=k(r,s,n),i++}a[r=o[i]]=(c=r,m(u.bottomParent,c,"masterPage",0));var c;return a}return{createPageAnchors:function(e,t,n,o){return A(e,t,n,o)},createMobileTightSectionsAnchors:function(t){var n=o.getMasterPageSections(t,!0);return e.mapValues(E(n),function(e){return[e]})},createMobileTightMasterPageAnchors:function(t,n,r){var i=A(t,n,r),a=o.getMasterPageSections(t,!0),s=E(a),c=e.map(a,"id");return e.forEach(s,function(t,n){i[n]=function(t,n,o,r){if(!e.includes(t,n))return o;var i=t.concat(["masterPage"]);return e.reject(o,function(t){return e.includes(i,t.targetComponent)}).concat([r])}(c,n,i[n],t)}),i},createChildrenAnchors:function(e,t,n,o,r){return P(e,n||{},t,o,r)}}}),define("coreUtils/core/layoutAnchorsUtils",["lodash","coreUtils/core/anchorsGenerator","coreUtils/core/skinAnchorsMetaData"],function(e,t,n){"use strict";return{createPageAnchors:t.createPageAnchors,createMobileTightMasterPageAnchors:t.createMobileTightMasterPageAnchors,createMobileTightSectionsAnchors:t.createMobileTightSectionsAnchors,createChildrenAnchors:t.createChildrenAnchors,getNonAnchorableHeightForSkin:n.getNonAnchorableHeightForSkin}}),define("coreUtils/core/scrollAnchorsUtils",["lodash","coreUtilsLib","warmupUtils","experiment"],function(e,t,n,o){"use strict";var r=n.siteDataUtils,i=t.siteConstants,a=0;function s(e){var t=parseInt(e,10);return isNaN(t)?0:t}function c(e){return s(e.height.WIX_ADStop)}function u(e){if(!e.measureMap)return 1/0;var t=e.measureMap,n=c(t),r=void 0;if(o.isOpen("displayWixAdsNewVersion",e))r=t.height.masterPage+n+e.renderFlags.extraSiteHeight;else{var i=t.height.WIX_ADSbottom||0;r=t.height.masterPage+i+n+e.renderFlags.extraSiteHeight}var a=t.height.screen;return Math.max(r-a,0)}function l(e,t){return Math.min(e,u(t))}function p(t,n,o){var r=o.getPageData(n,["structure",o.getViewMode()]);return e.find(r,function(r){var i=r.connectionQuery,a=i&&o.getDataByQuery(i,n,o.dataTypes.CONNECTIONS);return a&&e.find(a.items,{role:t})})}function d(t,n){var o=0;if(t===i.PAGE_ANCHORS.TOP_ANCHOR_ID)o=a;else if(t===i.PAGE_ANCHORS.BOTTOM_ANCHOR_ID)o=s(e.get(n.measureMap,["height","masterPage"]));else if(t){o=function(t,n){var o=0,i=n.measureMap;if(i&&t){var a=t.compId,s=r.isHeaderFixedPosition(n),u=i.top[a],l=i.absoluteTop[a],p=s?u:l,d=!n.isMobileView()||s?0:c(i);o=e.isFinite(p)?p+d:0}return o}(n.getDataByQuery(t,n.getPrimaryPageId()),n)}return{x:0,y:o,anchorQuery:t}}function g(t,n,o){var r=t.getPageDataMap(n,t.dataTypes.DATA);if(!r)return[];var i=m(t.getPrimaryPageId(),o),a=t.getPageData(n,["structure",t.getViewMode()]),s=e(r).filter({type:"Anchor"}).sortBy(function(t){return e.get(a,[t.compId,"layout","y"])}).value();return[i].concat(_toConsumableArray(s))}function m(e,t){return{compId:i.PAGE_ANCHORS.TOP_ANCHOR_COMP_ID,id:i.PAGE_ANCHORS.TOP_ANCHOR_ID,name:t||"",type:"Anchor",pageId:e}}function y(t,n){n=n||[];var o=g(t,t.getPrimaryPageId());if(!o.length)return o;var r=e.reject(o,function(t){return e.includes(n,t.compId)});return e.size(r)?r:[o[0]]}function w(t,n){return e(n).map(function(n){var o=d(n.id,t),r=n.id,i=n.compId;return e.assign(o,{id:r,compId:i})}).sortBy("y").value()}function f(e,t,n){return{activeAnchorComp:e,index:t,total:n}}return{getPageTopAnchor:m,calcAnchorScrollToPosition:function(t,n){var o=n.getSiteData(),r=d(function(t,n){var o=void 0;if(!e.startsWith(t,"dataItem")&&n){var r=n.getSiteData(),i=p(t,r.getPrimaryPageId(),r);i&&(o=i.dataQuery)}return o||t}(t,n),o);return r.y=l(r.y,o),r},getPageAnchors:g,getActiveAnchor:function(t,n,o){if(!t.measureMap)return null;var r=w(t,y(t,o)),i=function(t,n){if(e.every(t,{y:0}))return null;for(var o=null,r=0;r<t.length;r++){var i=t[r];if(!(n>=i.y))break;o=i}return o?f(o,r-1,t.length):null}(r,n);return i&&u(t)<=n?f(e.last(r),r.length-1,r.length):i},getAnchorsDataSortedByY:function(t,n){if(!t.measureMap)return[];var o=w(t,y(t));return r=o,i=n,e.map(r,function(e,t){var n=f(e,t,r.length);return n.isActive=e.y<=Math.ceil(i),n});var r,i},getAnchor:p,normalizeYOffset:l,isSpecialAnchor:function(e){return e===i.PAGE_ANCHORS.BOTTOM_ANCHOR_ID||e===i.PAGE_ANCHORS.TOP_ANCHOR_ID},getSortedAnchorsByY:w,SCROLL_PAGE_TOP_Y_POS:-99999}}),define("coreUtils/core/renderUtils",["lodash"],function(e){"use strict";return{mapInAlphabeticalOrder:function(t,n,o){var r=o?e.bind(n,o):n,i=e.keys(t).sort(),a=e.reduce(i,function(e,n){return e[n]=t[n],e},{});return e.map(a,r)},noAppsOnSite:function(t){return e.isEmpty(t.pagesPlatformApplications)},hasPlatformAppOnRenderedRoots:function(t,n){n=n.concat("masterPage");var o=t.pagesPlatformApplications;return e.some(o,function(t){var o=e.keys(t);return e.some(n,function(t){return e.includes(o,t)})})}}}),define("coreUtils/core/clientSpecMapUtils",["lodash"],function(e){"use strict";return{getMainSectionWidgetData:function(t){return e.find(e.get(t,"widgets"),function(t){return e.get(t,"appPage.name")&&!e.get(t,"appPage.hidden")})}}}),define("coreUtils/core/componentVisibility",["lodash"],function(e){"use strict";var t=[];return{isComponentVisible:function(n){return e.every(t,function(e){return e(n)})},registerPlugin:function(e){t.push(e)}}}),define("coreUtils/core/fileUploadManager",["lodash"],function(e){"use strict";var t=[],n=!1,o="_WixCodeAnonymUpload",r={Image:"picture",Document:"document"};function i(e,t,i){var s=r[e.fileType],c=new FormData;c.append("upload_token",t),c.append("media_type",s),c.append("file",e.file),c.append("siteMediaToken",t),c.append("ns",o);var u=new XMLHttpRequest;u.onreadystatechange=function(){u.readyState===XMLHttpRequest.DONE&&function(e,t){var o=JSON.parse(t.response);200===t.status?(e.onSuccess(o),a()):(n=!1,e.onFail(o))}(e,u)},u.open("POST",i),u.send(c)}function a(){if(0!==t.length){!function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE){var o=JSON.parse(t.response);o.error_code?(n=!1,e.onFail(o)):i(e,o.upload_token,o.upload_url)}},t.open("GET","https://files.wix.com/files/upload/url?media_type=picture"),t.setRequestHeader("Authorization",e.authorizationToken),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","application/json"),t.send(null)}(e.pullAt(t,0)[0])}else n=!1}return{uploadFile:function(e,o,r,i,s){if(!o)throw new Error("No upload authorization token given!");t=t.concat({file:e,authorizationToken:o,fileType:r,onSuccess:i,onFail:s}),n||(a(),n=!0)}}}),define("coreUtils/core/jsonUpdaterRegistrar",["lodash","warmupUtils"],function(e,t){"use strict";var n={},o={};t.sessionFreezer.freeze(n),t.sessionFreezer.freeze(o);return{registerLayouterComp:function(e,t){o[e]=t},getCompLayouter:function(e){return o[e]},getCompPlugin:function(e){return n[e]},registerPlugin:function(e,t){n[e]=t}}}),define("coreUtils/core/fullToDisplayedJson",["lodash","warmupUtils","coreUtils/core/jsonUpdaterRegistrar"],function(e,t,n){"use strict";function o(t,n){return t=t||{},e.omitBy(t[n],function(e){return!e})}function r(t,n){var o=e.transform(t,function(t,o){r=o,i=n,!e.isEmpty(i)&&e.every(r.modeIds,function(e){return i[e]})&&e.assign(t,o);var r,i},{});return delete o.modeIds,o}function i(e,t){var n=t&&e.mobileComponents?"mobileComponents":"children";return e[n]?n:"components"}function a(o,a,c,u){var l=i(a,!1),p=i(a,!0),d=a.modes,g=r(e.get(a,["modes","overrides"])||[],o);if(function(t,n){var o=!0;if(t){var r=!t.isHiddenByModes;o=n&&!e.isUndefined(n.isHiddenByModes)?!n.isHiddenByModes:r}return o}(d,g)){var m=t.objectUtils.cloneDeep(e.omit(a,["modes",l,p])),y=n.getCompPlugin(a.componentType);return y&&c&&(a=y(a,c,u),m.layout=a.layout),d&&(d.overrides&&(g=e.omit(g,"isHiddenByModes"),e.assign(m,g)),d.definitions&&e.set(m,["modes","definitions"],d.definitions)),s(m,l,o,a,c,u),l!==p&&s(m,p,o,a,c,u),m}}function s(t,n,o,r,i,s){e.isUndefined(r[n])||(t[n]=e(r[n]).map(function(e){return a(o,e,i,s)}).compact().value())}function c(n,r,i,s){var c=o(r,n.structure.id),u=t.objectUtils.cloneDeep(e.omit(n,["structure","data"]));return u.structure=a(c,n.structure,i,s),u.data=t.objectUtils.cloneDeep(n.data),u}return{getDisplayedJson:function(t,n,r,i,s){var u={};if(t)if(g=t,e.isUndefined(g.componentType)&&(d=t,"Document"!==e.get(d,"type")))p=t,u=e.isUndefined(p.structure)?function(t,n,o,r){n=n||{};var i={};return e.forEach(t,function(e,t){i[t]=c(e,n,o,r)}),i}(t,n,i,s):c(t,n,i,s);else{var l=o(n,r);u.structure=a(l,t,i,s)}var p,d,g;return u},applyModesOnSerializedStructure:function(e,t){return a(t=t||{},e)}}}),define("coreUtils/core/mobileUtils",["warmupUtils"],function(e){"use strict";var t=12,n={26:26,27:26,28:26,29:27,30:27,31:27,32:28,33:28,34:28,35:29,36:29,37:29,38:30,39:30,40:30,41:31,42:31,43:31,44:32,45:32,46:32,47:33,48:33,49:33,50:34,51:34,52:34,53:35,54:35,55:35,56:36,57:36,58:36,59:37,60:37,61:37,62:38,63:38,64:38,65:39,66:39,67:39,68:40,69:40,70:40,71:41,72:41,73:41,74:42,75:42,76:42,77:43,78:43,79:43,80:44,81:44,82:44,83:45,84:45,85:45,86:46,87:46,88:46,89:47,90:47,91:47,92:48,93:48,94:48,95:49,96:49,97:49,98:50,99:50,100:50};return{getMobileFontSize:function(e){var o=t,r=Math.round(e);return r<o?o:r<=14?r+1:r<=25?r:r<=100?n[r]:50},convertFontSizeToMobile:function(e,t){return t*this.getMobileFontSize(e)},getMinFontSize:function(){return t},buildDeepStructure:e.flatStructureUtil.buildDeepStructure}}),define("coreUtils/core/modesUtils",["lodash","warmupUtils"],function(e,t){"use strict";var n="HOVER",o="SCROLL",r="WIDTH",i="APPLICATIVE",a={};a[t.siteConstants.COMP_MODES_TYPES.DEFAULT]=n,a[t.siteConstants.COMP_MODES_TYPES.HOVER]=n,a[t.siteConstants.COMP_MODES_TYPES.SCROLL]=o,a[t.siteConstants.COMP_MODES_TYPES.WIDTH]=r,a[t.siteConstants.COMP_MODES_TYPES.APPLICATIVE]=i;function s(e){return e.settings.scrollPos}function c(e){return e.settings.width}function u(e){return e.type===t.siteConstants.COMP_MODES_TYPES.DEFAULT?1:2}function l(t,n,o){var r=e.find(t,function(e){return n[e.modeId]});return r||e(t).sortBy(o).head()}function p(t,n){return e.filter(t,function(e){return n[e.modeId]})}var d={};d[n]=function(n,o,r,i,a){return i?function(n,o,r,i){var a=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.DEFAULT}),s=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.HOVER});if(!o[a.modeId]){var c=r.propertyQuery,p=c&&i&&i[c];return p&&p.mobileDisplayedModeId?e.find(n,{modeId:p.mobileDisplayedModeId}):s}return l(n,o,u)}(n,o,r,a):l(n,o,u)},d[o]=function(e,t){return l(e,t,s)},d[r]=function(e,t){return l(e,t,c)};function g(e){return{modeType:e.type}}function m(t,n,o,r){var i=e.get(t,"modes.definitions");if(e.isEmpty(i))return{};var s,c=e.map(i,"modeId"),u=e.pick(n,c),l=(s=i,e.groupBy(s,function(e){return a[e.type]}));return e.reduce(l,function(n,i,a){var s=function(t,n,o,r,i,a){var s=(d[t]||p)(n,o,r,i,a);return e.isArray(s)?s:[s]}(a,i,u,t,o,r);return e.forEach(s,function(e){n[e.modeId]=g(e)}),n},{})}function y(t,n){var o=e.find(t,function(t){return e.isEqual([n],t.modeIds)});return o&&o.isHiddenByModes}function w(t,n){var o=e.find(t,function(t){return e.isEqual([n],t.modeIds)});return o&&!1===o.isHiddenByModes}return{getActiveModeData:g,getActiveComponentModeIds:function(t,n){return e(t).mapValues(function(t,o){return e.some(n,{modeId:o})}).pickBy().value()},getModeChanges:function(t,n){t=t||{},n=n||{};var o=e({}).assign(t,n).keys().value();return e.transform(o,function(e,o){var r=t[o],i=n[o];r&&!i?e[o]=!1:!r&&i&&(e[o]=!0)},{})},isCompVisibleAfterRemovalFromMode:function(n,o,r,i,a){var s=n.componentStructure.getModes(r),c=o.isExist(s)&&o.get(s);if(!c)return!0;var u=n.componentStructure.getModesDefinitions(i),l=o.get(u),p=t.objectUtils.cloneDeep(c),d=e.findIndex(c.overrides,function(t){return e.isEqual(t.modeIds,[a])});return p.overrides=p.overrides||[],d>=0?p.overrides[d].isHiddenByModes=!0:p.overrides.push({modeIds:[a],isHiddenByModes:!0}),!function(n,o){var r=[],i=[],a=[],s=[];e.forEach(n,function(e){switch(e.type){case t.siteConstants.COMP_MODES_TYPES.DEFAULT:case t.siteConstants.COMP_MODES_TYPES.HOVER:r.push(e.modeId);break;case t.siteConstants.COMP_MODES_TYPES.SCROLL:i.push(e.modeId);break;case t.siteConstants.COMP_MODES_TYPES.WIDTH:a.push(e.modeId);break;default:s.push(e.modeId)}});var c=e.partial(y,o.overrides),u=e.partial(w,o.overrides);return o.isHiddenByModes?r.length&&!e.some(r,u)||i.length&&!e.some(i,u)||a.length&&!e.some(a,u)||s.length&&!e.some(s,u):r.length&&e.every(r,c)||i.length&&e.every(i,c)||a.length&&e.every(a,c)||s.length&&e.every(s,c)}(l,p)},getActiveModesForActivationChange:function(n,o,r,i){var a=e.clone(o),s=e.filter(n,{type:t.siteConstants.COMP_MODES_TYPES.SCROLL}),c=e.filter(n,{type:t.siteConstants.COMP_MODES_TYPES.WIDTH}),u=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.DEFAULT}),l=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.HOVER});if(r)switch(a[r.modeId]=g(r),r.type){case t.siteConstants.COMP_MODES_TYPES.SCROLL:e.forEach(s,function(e){e.modeId!==r.modeId&&delete a[e.modeId]});break;case t.siteConstants.COMP_MODES_TYPES.WIDTH:e.forEach(c,function(e){e.modeId!==r.modeId&&delete a[e.modeId]});break;case t.siteConstants.COMP_MODES_TYPES.DEFAULT:delete a[l.modeId];break;case t.siteConstants.COMP_MODES_TYPES.HOVER:u&&delete a[u.modeId]}if(i){var p=void 0;switch(delete a[i.modeId],i.type){case t.siteConstants.COMP_MODES_TYPES.SCROLL:r&&r.type===t.siteConstants.COMP_MODES_TYPES.SCROLL||(p=e.head(s));break;case t.siteConstants.COMP_MODES_TYPES.WIDTH:r&&r.type===t.siteConstants.COMP_MODES_TYPES.WIDTH||(p=e.head(c));break;case t.siteConstants.COMP_MODES_TYPES.DEFAULT:p=l;break;case t.siteConstants.COMP_MODES_TYPES.HOVER:u&&(p=u)}p&&(a[p.modeId]=g(p))}return a},resolveCompActiveModesRecursive:function n(o,r,i,a){var s=m(o,r,i,a),c=t.dataUtils.getChildrenData(o,!1);return e.reduce(c,function(t,o){var s=n(o,r,i,a);return e.assign(t,s)},s),s||{}}}}),define("coreUtils/core/proxyLayoutRegistrar",[],function(){"use strict";var e={};return{registerCustomMeasure:function(t,n){e[t]=n},getProxiesToMeasure:function(){return e}}}),define("coreUtils/core/structureDimensions",["lodash","warmupUtils"],function(e,t){"use strict";var n=t.positionAndSize;function o(t){var n={};return n[t.id]=e.pick(t.layout,["x","y","width","height"]),n}function r(t,o,i,a,s){var c=o[a],u=t.components||t.children;e.forEach(u,function(e){o[e.id]=n.getPositionAndSize(e.layout,c,i,s),r(e,o,i,e.id,s)})}return{createDimensionsMap:function(t,i,a,s){return s?function(t,i,a){var s=o(t),c=s[t.id];return e.forEach(t.mobileComponents,function(e){s[e.id]=n.getPositionAndSize(e.layout,c,i,a),r(e,s,i,e.id,a)}),s}(t,i,a):function(e,t,n){var i=o(e);return r(e,i,t,e.id,n),i}(t,i,a)}}}),define("coreUtils/core/stubPageUtil",["lodash"],function(e){"use strict";var t=["wysiwyg.viewer.components.tpapps.TPAGluedWidget","wysiwyg.viewer.components.tpapps.TPASection","wysiwyg.viewer.components.tpapps.TPAMultiSection","wysiwyg.viewer.components.tpapps.TPAWidget","mobile.core.components.Page","wixapps.integration.components.AppPage","mobile.core.components.MasterPage"],n=function n(o,r,i){var a=o.components.getChildren(i);if(!!e.isEmpty(a)){var s=r.get(o.getInnerPointer(i,["componentType"]));return e.includes(t,s)}var c=e.filter(a,function(e){return n(o,r,e)});return a.length!==c.length&&function(t,n,o,r){var i=t.components.getChildrenContainer(n),a=e.map(o,function(e){return r.get(t.getInnerPointer(e,["id"]))});r.set(i,a)}(o,i,c,r),!e.isEmpty(c)};return{COMPONENTS_TO_KEEP_IN_STUB:t,stubifyPage:function(e,t,o,r,i){e.runImmediately(function(){var e=o.components.getPage(i,r);n(o,t,e)})}}}),define("coreUtils/core/socialCounterDatabaseAPI",["lodash","warmupUtils"],function(e,t){"use strict";var n={defaultQuerySuccessCallback:function(){},defaultQueryCollectFailureCallback:function(){},getLikesForPostsList:function(e,n,o){var r={postsList:e};t.ajaxLibrary.ajax({type:"GET",url:"https://www.wix.com/_api/blog-social-counters/query-feed/",crossDomain:!0,data:r,contentType:"application/json",dataType:"json",success:n||this.defaultQuerySuccessCallback,error:o||this.defaultQueryCollectFailureCallback})},getAllCountersForPost:function(e,n,o,r){var i={storeId:e,postId:n};t.ajaxLibrary.ajax({type:"GET",url:"https://www.wix.com/_api/blog-social-counters/query-post/",crossDomain:!0,data:i,contentType:"application/json",dataType:"json",success:o||this.defaultQuerySuccessCallback,error:r||this.defaultQueryCollectFailureCallback})},updateCounter:function(n,o,r,i,a,s,c){"likes"===n&&this.toggleUserLike(a);var u=o;e.isNil(u)||(u=u.substring(0,1400));var l={storeId:i.datastoreId,postId:a,counterType:n,counterName:u,counterValue:r};t.ajaxLibrary.ajax({url:"https://www.wix.com/_api/blog-social-counters/collector/",crossDomain:!0,type:"POST",data:l,dataType:"json",contentType:"application/json",success:s||this.defaultQuerySuccessCallback,error:c||this.defaultQueryCollectFailureCallback})},updateCategoryTagSearchesCounter:function(e,t,n){this.updateCounter(e,t,n)},toggleUserLike:function(t){var n=JSON.parse(window.localStorage.getItem("likedBlogPosts"))||{};!1!==n[t]&&e.has(n,t)?n[t]=!1:n[t]=!0,window.localStorage.setItem("likedBlogPosts",JSON.stringify(n))}};return{getAllCountersForPost:n.getAllCountersForPost,updateCounter:n.updateCounter,toggleUserLike:n.toggleUserLike,updateCategoryTagSearchesCounter:n.updateCategoryTagSearchesCounter}}),define("coreUtils/core/socialShareHandler",["lodash","warmupUtils","coreUtils/core/socialCounterDatabaseAPI"],function(e,t,n){"use strict";var o="https://plus.google.com/share?url=",r="http://www.fancy.com/fancyit/fancy?ItemURL=",i="http://pinterest.com/pin/create/button/?url=",a="https://twitter.com/intent/tweet?url=",s="http://www.facebook.com/sharer.php?u=",c="whatsapp://send?text=",u="https://www.googleapis.com/urlshortener/v1/url?key=AIzaSyDjvIfgLnQJsOxcV01kJae48WSynmXmZ2I",l="https://www.linkedin.com/shareArticle?mini=true&url=";function p(e,t){var n=e,o=n.split("#!");return o.length>1&&(o[1]=decodeURIComponent(o[1]),n=o.join("#!")),t&&(n=n.replace("#!","/#!")),encodeURIComponent(n)}function d(t){return t?encodeURIComponent(e.unescape(t)):""}function g(t){return t?encodeURIComponent(e.unescape(t)):""}function m(e,n){var o=e||"";return e&&!t.urlUtils.isExternalUrl(e)&&(o=n.getMediaFullStaticUrl(e)),o=encodeURIComponent(o)}function y(e){var t=o;return t+=p(e.url)}function w(e,t){var n=r;return n+=p(e.url),n+="&Title="+d(e.title),n+="&ImageURL="+m(e.imageUrl,t)}function f(e,t){var n=i;return n+=p(e.url),n+="&media="+m(e.imageUrl,t),n+="&description="+d(e.title)}function v(e){var t=a;t+=p(e.url);var n;return t+="&text="+d(e.title)+(n=e.hashTags,n?" "+(n=n.replace(/#/g,encodeURIComponent("#"))):"")+encodeURIComponent("\n")}function h(e){var t=s;return t+=p(e.url),t+="&title="+d(e.title),t+="&description="+g(e.description)}function C(e){var t=c;return t+=d(e.title),t+=" - "+p(e.url)}function S(e){var t=l;return t+=p(e.url),t+="&title="+d(e.title)}function P(e){var t="mailto:?";return t+="&subject="+d(e.title),t+="&body="+g(e.description)}return{handleShareRequest:function(t,o,r){var i,a,s=(i=o,a=t.getSiteData(),{google:y,fancy:w,pinterest:f,twitter:v,facebook:h,whatsapp:C,email:P,linkedin:S}[i.service](i,a)||"");o.addDeepLinkParam&&(s=function(t,n){var o=t.split("#"),r=e.includes(t,"?")?"&":"?";return o[0]+=r+n,o.join("#")}(s,"deeplink_referrer=socialB_"+o.service)),"email"!==o.service?(r||n.updateCounter("shares",o.service,1,o.storeId,o.postId),t.openPopup(s,"wixapps_share","width=635,height=346,scrollbars=no,status=no,toolbar=no,menubar=no,location=no")):window.location.href=s},shortenURL:function(e,n,o,r){t.ajaxLibrary.ajax({url:u,type:"POST",contentType:"application/json",data:'{"longUrl": "'+e+'"}',timeout:n||0,async:!1,success:function(e){o(e.id)},error:r})}}}),define("coreUtils/core/compsToPackages",["lodash","experiment"],function(e,t){"use strict";var n=["wixappsCore","container","textArea","matrixGallery","slideShowGallery","comboBoxInput","dialogs"],o=n.concat(["table","messageView","wixappsClassics","mediaRichText"]),r={facebookShare:function(e,t){return t("wysiwyg.viewer.components.FacebookShare",e,!0)},svgShape:function(e,t){var n=e.svgShape,o=e.vectorImage,r=e.popupCloseIconButton;t("wysiwyg.viewer.components.svgshape.SvgShape",n,!0),t("wysiwyg.viewer.components.VectorImage",o,!0),t("wysiwyg.viewer.components.PopupCloseIconButton",r,!0)},imageZoom:function(e,t){var n=e.imageZoom,o=e.imageZoomDisplayer,r=e.mediaZoom,i=e.mobileMediaZoom,a=e.touchMediaZoom,s=e.touchMediaZoomItem;t("wysiwyg.components.imageZoom",n),t("wysiwyg.components.ImageZoomDisplayer",o),t("wysiwyg.viewer.components.MediaZoom",r),t("wysiwyg.viewer.components.MobileMediaZoom",i),t("wysiwyg.viewer.components.TouchMediaZoom",a,!0),t("wysiwyg.viewer.components.TouchMediaZoomItem",s,!0)},slideShowGallery:function(e,t){return t("wysiwyg.viewer.components.SlideShowGallery",e,!0)}},i={"wysiwyg.viewer.components.svgshape.SvgShape":"svgShape","wysiwyg.viewer.components.PopupCloseIconButton":"svgShape","wysiwyg.viewer.components.VectorImage":"svgShape","wysiwyg.viewer.components.AdminLoginButton":"adminLoginButton","wysiwyg.viewer.components.WTwitterFollow":"wTwitterFollow","wysiwyg.viewer.components.WFacebookComment":"facebookComments","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":"verticalAnchorsMenu","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenuItem":"verticalAnchorsMenu","wysiwyg.viewer.components.FacebookShare":"facebookShare","wysiwyg.viewer.components.VKShareButton":"vKShareButton","wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":"youTubeSubscribeButton","wysiwyg.viewer.components.ItunesButton":"itunesButton","wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":"skypeCallButton","wysiwyg.viewer.components.inputs.FileUploader":"fileUploader","wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":"pinItPinWidget","wysiwyg.viewer.components.PopupCloseTextButton":"popupCloseTextButton","wysiwyg.viewer.components.Displayer":"displayer","wysiwyg.viewer.components.MatrixGallery":["matrixGallery","imageZoom"],"wixapps.integration.components.Area":"container","wysiwyg.viewer.components.VerticalRepeater":"container","wysiwyg.viewer.components.WSiteStructure":"container","wysiwyg.viewer.components.SiteRegionContainer":["siteRegionContainer","container"],"mobile.core.components.Container":"container","wysiwyg.viewer.components.Repeater":["container","repeater"],"wysiwyg.viewer.components.inputs.RadioButton":"radioButton","wysiwyg.viewer.components.inputs.RadioGroup":["radioButton","radioGroup"],"wysiwyg.viewer.components.documentmedia.DocumentMedia":"documentMedia","wysiwyg.viewer.components.background.bgMedia":"backgroundCommon","wysiwyg.viewer.components.background.bgImage":"backgroundCommon","wysiwyg.viewer.components.background.html5Video":"backgroundCommon","wysiwyg.viewer.components.background.youtubeVideo":"backgroundCommon","wysiwyg.viewer.components.background.iframeVideo":"backgroundCommon","wysiwyg.viewer.components.background.bgOverlay":"backgroundCommon","wysiwyg.viewer.components.inputs.DatePicker":"datePicker","wysiwyg.viewer.components.Calendar":"datePicker","wysiwyg.viewer.components.Month":"datePicker","wysiwyg.viewer.components.Day":"datePicker","wysiwyg.viewer.components.ContactForm":"contactForm","wysiwyg.viewer.components.DynamicContactForm":"contactForm","wysiwyg.common.components.subscribeform.viewer.SubscribeForm":"subscribeForm","wixapps.integration.components.inputs.TextArea":"textArea","wysiwyg.viewer.components.inputs.TextAreaInput":"textArea","wysiwyg.viewer.components.LoginSocialBar":["loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.LoginSocialButton":["loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.Icon":"icon","wysiwyg.viewer.components.GoogleMap":"googleMap","wysiwyg.viewer.components.SoundCloudWidget":"soundCloudWidget","wysiwyg.viewer.components.PayPalButton":"paypalButton","wysiwyg.common.components.imagebutton.viewer.ImageButton":"imageButton","wysiwyg.viewer.components.LinkBar":"linkBar","wysiwyg.viewer.components.LinkBarItem":"linkBar","wysiwyg.viewer.components.inputs.ComboBoxInput":"comboBoxInput","wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":"spotifyPlayer","wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":"spotifyFollow","wysiwyg.viewer.components.TwitterFeed":"twitterFeed","wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":"backToTopButton","wysiwyg.viewer.components.svgPrimitive":"svgCommon","wysiwyg.viewer.components.WFacebookLike":"facebookLike","wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":"facebookLikeBox","wysiwyg.viewer.components.FlickrBadgeWidget":"flickrBadgeWidget","wysiwyg.common.components.rssbutton.viewer.RSSButton":"rssButton","wysiwyg.viewer.components.mobile.TinyMenu":["tinyMenu","loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.Group":"container","wysiwyg.viewer.components.FormContainer":"container","wysiwyg.viewer.components.WGooglePlusOne":"wGooglePlusOne","wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":"pinterestPinIt","wysiwyg.viewer.components.PinterestFollow":"pinterestFollow","wysiwyg.viewer.components.WTwitterTweet":"wTwitterTweet","wysiwyg.viewer.components.AudioPlayer":["audioPlayer","audioCommon"],"wysiwyg.viewer.components.LoginButton":["loginButton","dialogs"],"wysiwyg.viewer.components.HtmlComponent":"htmlComponent","wysiwyg.viewer.components.MediaPlayer":"mediaPlayer","wysiwyg.viewer.components.MediaOverlayControls":"mediaControls","wysiwyg.viewer.components.MediaControls":"mediaControls","wysiwyg.viewer.components.MediaControlPlay":"mediaControls","wysiwyg.viewer.components.MediaControlFullscreen":"mediaControls","wysiwyg.viewer.components.MediaControlVolume":"mediaControls","wysiwyg.viewer.components.MediaControlProgress":"mediaControls","wysiwyg.viewer.components.MediaControlTime":"mediaControls","wysiwyg.viewer.components.MediaControlStoryboard":"mediaControls","wysiwyg.viewer.components.SlideShowGallery":["slideShowGallery","imageZoom"],"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":["singleAudioPlayer","audioCommon"],"wysiwyg.viewer.components.QuickActionBar":"quickActionBar","wysiwyg.viewer.components.QuickActionBarItem":"quickActionBar","wysiwyg.viewer.components.BoxSlideShowSlide":"boxSlideShowSlide","wysiwyg.viewer.components.StripContainerSlideShowSlide":["stripSlideShowSlide","boxSlideShowSlide"],"wysiwyg.viewer.components.PopupContainer":"popupContainer","wysiwyg.viewer.components.StripContainer":"stripContainer","wysiwyg.viewer.components.StripColumnsContainer":"stripColumnsContainer","wysiwyg.common.components.exitmobilemode.viewer.ExitMobileMode":"exitMobileModeButton","tpa.viewer.components.Masonry":"tpaGalleries","tpa.viewer.components.Accordion":"tpaGalleries","tpa.viewer.components.Impress":"tpaGalleries","tpa.viewer.components.Freestyle":"tpaGalleries","tpa.viewer.components.Collage":"tpaGalleries","tpa.viewer.components.Honeycomb":"tpaGalleries","tpa.viewer.components.StripShowcase":"tpaGalleries","tpa.viewer.components.StripSlideshow":"tpaGalleries","tpa.viewer.components.Thumbnails":"tpaGalleries","wysiwyg.viewer.components.tpapps.TPA3DGallery":"tpaGalleries","wysiwyg.viewer.components.tpapps.TPA3DCarousel":"tpaGalleries","wysiwyg.viewer.components.MessageView":"messageView","wysiwyg.viewer.components.FlashComponent":["flashComponent","swfobject"],"wysiwyg.viewer.components.BoxSlideShow":"stripSlideShow","wysiwyg.viewer.components.StripContainerSlideShow":"stripSlideShow","wysiwyg.viewer.components.MobileActionsMenu":"mobileActionsMenu","wysiwyg.components.imageZoom":"imageZoom","wysiwyg.viewer.components.MediaZoom":"imageZoom","wysiwyg.components.ImageZoomDisplayer":"imageZoom","wysiwyg.viewer.components.MobileMediaZoom":"imageZoom","wysiwyg.viewer.components.TouchMediaZoom":"imageZoom","wysiwyg.viewer.components.TouchMediaZoomItem":"imageZoom","wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":"verticalMenu","wysiwyg.common.components.disquscomments.viewer.DisqusComments":"disqusComments","wysiwyg.viewer.components.inputs.Checkbox":"checkbox","wixapps.integration.components.Icon":"wixappsCore","wixapps.integration.components.ImageButton":"wixappsCore","wixapps.integration.components.Toggle":"wixappsCore","wysiwyg.viewer.components.Grid":["gridComponent","ag-grid"],"wysiwyg.viewer.components.Table":"table","wysiwyg.viewer.components.dialogs.NotificationDialog":"dialogs","wysiwyg.viewer.components.dialogs.EnterPasswordDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.SignUpDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.MemberLoginDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.RequestPasswordResetDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.ResetPasswordDialog":"dialogs","wysiwyg.viewer.components.inputs.ErasableTextInput":"dialogs","wysiwyg.components.viewer.inputs.InputWithValidation":"dialogs","wysiwyg.viewer.components.SliderGallery":"imageZoom","wysiwyg.viewer.components.LanguageSelector":"languageSelector","wysiwyg.viewer.components.MediaContainer":"mediaContainer","wysiwyg.viewer.components.HoverBox":"mediaContainer","wysiwyg.viewer.components.Column":"mediaContainer","wysiwyg.viewer.components.EbayItemsBySeller":"ebayItemsBySeller","platform.components.AppController":"controller","platform.components.semiNativeComponent":"semiNativeComponent","wysiwyg.viewer.components.MediaRichText":"mediaRichText","wysiwyg.viewer.components.ImageButtonWithText":"wixappsCore","wysiwyg.viewer.components.inputs.ColorOption":"wixappsClassics","ecommerce.integration.components.MobileColorOption":"wixappsClassics","wysiwyg.common.components.NumericStepper":"wixappsClassics","wysiwyg.common.components.inputs.OptionsListInput":"wixappsClassics","wysiwyg.common.components.inputs.SelectOptionsList":"wixappsClassics","wysiwyg.viewer.components.inputs.TextOption":"wixappsClassics","ecommerce.integration.components.MobileTextOption":"wixappsClassics","wixapps.integration.components.AppPartZoom":o,"wixapps.integration.components.AppPart":o,"wixapps.integration.components.AppPart2":n.concat("wixappsBuilder"),"wixui.ToggleSwitch":"toggleSwitch","wixui.Pagination":"pagination","wixui.Slider":"slider","wixui.RatingsDisplay":"ratingsDisplay"};function a(n,o){if(t.isOpen("selectiveDialogs",o)){var r=i[n];return r?e.isArray(r)?r:[r]:[]}var a=e.includes(n,"tpapps")?["dialogs"]:[],s=i[n];return s?a.concat(s):a}function s(t){return e.zipObject(t,e.map(t,function(t){return r[t]||e.noop}))}function c(){return e(i).values().flatten().uniq().value()}return{compToPackages:a,getPackagesForComponent:function(e,t){return s(a(e,t))},prefetchComponents:function(t,n,o){var r=[],i=!1;return function s(c){var u=c.componentType;if(u){var l=a(u);if(l[0]&&r.push(l),!i&&c.dataQuery&&"wixapps.integration.components.AppPart"===u){var p=e.get(n,"rendererModel.clientSpecMap",{}),d=e.get(t,"data.document_data",{}),g=c.dataQuery;"#"===g[0]&&(g=g.substring(1));var m=p[d[g].appInnerID];"wixapps"===m.type&&"blog"===m.packageName&&(i=!0)}}var y=c.children,w=o?c.mobileComponents:c.components;w&&(y=(y||[]).concat(w)),e.forEach(y,s)}(t.structure),(r=e(r).flatten().uniq().value()).length&&requirejs(r,e.noop),i},all:c,getAllPackagesForAllComponents:function(){return s(c())},getCallbackForRequiredPackage:function(t){return r[t]||e.noop}}}),define("coreUtils",["lodash","coreUtilsLib","warmupUtils","coreUtils/components/componentUtils","coreUtils/core/anchorTagsGenerator","coreUtils/core/linkRenderer","coreUtils/core/linkTypes","coreUtils/core/linkUtils","coreUtils/core/menuUtils","coreUtils/core/translationsLoader","coreUtils/core/masterPageLayoutUtils","coreUtils/core/originalValuesMapGenerator","coreUtils/core/componentsAnchorsMetaData","coreUtils/core/layoutAnchorsUtils","coreUtils/core/wixUserApi","coreUtils/core/scrollAnchorsUtils","coreUtils/core/renderUtils","coreUtils/core/clientSpecMapUtils","coreUtils/core/componentVisibility","coreUtils/core/fileUploadManager","coreUtils/core/fullToDisplayedJson","coreUtils/core/jsonUpdaterRegistrar","coreUtils/core/mobileUtils","coreUtils/core/modesUtils","coreUtils/core/proxyLayoutRegistrar","coreUtils/core/structureDimensions","coreUtils/core/stubPageUtil","coreUtils/core/socialShareHandler","coreUtils/core/socialCounterDatabaseAPI","coreUtils/core/compsToPackages"],function(e,t,n,o,r,i,a,s,c,u,l,p,d,g,m,y,w,f,v,h,C,S,P,T,I,b,A,k,E,M){"use strict";return e.assign({},t,n,{componentUtils:o,anchorTagsGenerator:r,linkRenderer:i,linkTypes:a,linkUtils:s,menuUtils:c,translationsLoader:u,masterPageLayoutUtils:l,originalValuesMapGenerator:p,getComponentsAnchorsMetaData:d.get,layoutAnchors:g,wixUserApi:m,scrollAnchors:y,Store:t.StoreNew,renderUtils:w,clientSpecMapUtils:f,componentVisibility:v,fileUploadManager:h,fullToDisplayedJson:C,jsonUpdaterRegistrar:S,mobileUtils:P,modesUtils:T,proxyLayoutRegistrar:I,structureDimensions:b,stubPageUtil:A,socialShareHandler:k,socialCounterDatabaseAPI:E,allPackages:M.all,getPackagesForComponent:M.getPackagesForComponent,prefetchComponents:M.prefetchComponents,getAllPackagesForAllComponents:M.getAllPackagesForAllComponents,getCallbackForRequiredPackage:M.getCallbackForRequiredPackage})});
//# sourceMappingURL=coreUtils.min.js.map